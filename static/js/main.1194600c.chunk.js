(this.webpackJsonpaladdin=this.webpackJsonpaladdin||[]).push([[0],{336:function(e,t,n){},337:function(e,t,n){},504:function(e,t,n){"use strict";n.r(t);var a,r,i,o=n(0),c=n.n(o),s=n(48),l=n.n(s),u=(n(336),n(71)),d=n.n(u),h=n(173),j=n(17),b=(n(337),n(53)),f=n(19),p=n(32),x=n(55),O=n(179),g=n(237),m=n(236),y=n(4),v=n.p+"static/media/weather.55ddf5ca.csv",w=n(286),S=n.n(w),L=n(5),M=n(11),D=function(){function e(){Object(L.a)(this,e)}return Object(M.a)(e,null,[{key:"UNIT_VECTOR_POS_X",get:function(){return new y.Vector3(1,0,0)}},{key:"UNIT_VECTOR_NEG_X",get:function(){return new y.Vector3(-1,0,0)}},{key:"UNIT_VECTOR_POS_Y",get:function(){return new y.Vector3(0,1,0)}},{key:"UNIT_VECTOR_NEG_Y",get:function(){return new y.Vector3(0,-1,0)}},{key:"UNIT_VECTOR_POS_Z",get:function(){return new y.Vector3(0,0,1)}},{key:"UNIT_VECTOR_NEG_Z",get:function(){return new y.Vector3(0,0,-1)}},{key:"isZero",value:function(t){return Math.abs(t)<e.ZERO_TOLERANCE}},{key:"ZERO_TOLERANCE",get:function(){return 1e-4}},{key:"HALF_PI",get:function(){return Math.PI/2}},{key:"TWO_PI",get:function(){return 2*Math.PI}},{key:"modelToView",value:function(e){return new y.Vector3(e.x,e.z,-e.y)}},{key:"viewToModel",value:function(e){return new y.Vector3(e.x,-e.z,e.y)}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"toDegrees",value:function(e){return e*(180/Math.PI)}},{key:"sphericalToCartesianZ",value:function(e){var t=e.x*Math.cos(e.z),n=t*Math.cos(e.y),a=t*Math.sin(e.y),r=e.x*Math.sin(e.z);return e.set(n,a,r),e}},{key:"getDistance",value:function(t,n,a,r){return t=e.toRadians(t),n=e.toRadians(n),a=e.toRadians(a),r=e.toRadians(r),Math.acos(Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos(Math.abs(t-a)))}},{key:"daysIntoYear",value:function(t){return e.dayOfYear(new Date(t))}},{key:"dayOfYear",value:function(e){var t=new Date(e.getFullYear(),0,0),n=e.getTime()-t.getTime();return Math.floor(n/864e5)}}]),e}(),C=n(287),R=n(291);Object(b.b)({TextSprite:C.a}),Object(b.b)({OrbitControls:R.a}),function(e){e[e.HourlyTemperatures=0]="HourlyTemperatures",e[e.MonthlyTemperatures=1]="MonthlyTemperatures",e[e.SunshineHours=2]="SunshineHours",e[e.DaylightData=3]="DaylightData",e[e.ClearnessData=4]="ClearnessData",e[e.YearlyRadiationSensorData=5]="YearlyRadiationSensorData",e[e.DailyRadiationSensorData=6]="DailyRadiationSensorData"}(a||(a={})),function(e){e.Default="Default",e.Desert="Desert",e.Grassland="Grassland"}(r||(r={})),function(e){e.Sky="Sky",e.Ground="Ground",e.Foundation="Foundation",e.Sensor="Sensor",e.Cuboid="Cuboid"}(i||(i={})),Object(m.b)();var k,T=Object(O.a)(Object(g.devtools)(Object(g.persist)((function(e,t,n){var a=function(t){return e(Object(m.a)(t))};return{set:a,showGroundPanel:!1,showHeliodonPanel:!1,showWeatherPanel:!1,showDailyLightSensorPanel:!1,showYearlyLightSensorPanel:!1,autoRotate:!1,grid:!1,axes:!0,groundImage:!1,groundColor:"forestgreen",theme:"Default",heliodon:!1,address:"Natick, MA",latitude:42.2844063,longitude:-71.3488548,mapZoom:16,mapType:"roadmap",mapTilt:0,mapWeatherStations:!1,date:new Date(2021,5,22,12).toString(),weatherData:{},timesPerHour:20,yearlyLightSensorData:[],setYearlyLightSensorData:function(e){a((function(t){t.yearlyLightSensorData=Object(x.a)(e)}))},dailyLightSensorData:[],setDailyLightSensorData:function(e){a((function(t){t.dailyLightSensorData=Object(x.a)(e)}))},worlds:{},getWorld:function(e){return t().worlds[e]},createNewWorld:function(){a((function(e){var t=[],n={type:i.Foundation,cx:0,cy:0,lx:2,ly:2,height:.1,id:"f1"},a={type:i.Cuboid,cx:0,cy:3,lx:2,ly:2,height:4,id:"c1"},r={type:i.Sensor,cx:2,cy:5,cz:0,lx:.05,ly:.05,normal:[0,0,1],height:.01,id:"s1",showLabel:!1,light:!0,heatFlux:!1};i.Sensor,i.Sensor;t.push(n),t.push(a),t.push(r);var o={name:"default",elements:t,ground:{albedo:.3,thermalDiffusivity:.05,snowReflectionFactors:new Array(12).fill(0)},panCenter:new y.Vector3(0,0,0),cameraPosition:new y.Vector3(0,0,5)};e.worlds[o.name]=o}))},enableOrbitController:!0,clickObjectType:null,getSelectedElement:function(){var e,n=t().worlds.default.elements,a=Object(p.a)(n);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(r.selected)return r}}catch(i){a.e(i)}finally{a.f()}return null},getElementById:function(e){var n,a=t().worlds.default.elements,r=Object(p.a)(a);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.id===e)return i}}catch(o){r.e(o)}finally{r.f()}return null},selectNone:function(){a((function(e){var t=e.worlds.default;if(t){var n,a=Object(p.a)(t.elements);try{for(a.s();!(n=a.n()).done;){n.value.selected=!1}}catch(r){a.e(r)}finally{a.f()}}}))},updateElementById:function(e,t){a((function(n){var a=n.worlds.default;if(a){var r,i=Object(p.a)(a.elements.entries());try{for(i.s();!(r=i.n()).done;){var o=Object(j.a)(r.value,2),c=o[0],s=o[1];if(s.id===e){a.elements[c]=Object(f.a)(Object(f.a)({},s),t);break}}}catch(l){i.e(l)}finally{i.f()}}}))},loadWeatherData:function(){var e=[];S.a.parse(v,{download:!0,complete:function(t){var n,r=Object(p.a)(t.data);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(Array.isArray(i)&&i.length>1){for(var o=[],c=[],s=[],l=5;l<29;l++)(l-5)%2===0?o.push(parseFloat(i[l].trim())):c.push(parseFloat(i[l].trim()));for(var u=29;u<41;u++)s.push(parseFloat(i[u].trim()));var d={city:i[0].trim(),country:i[1].trim(),longitude:parseFloat(i[2].trim()),latitude:parseFloat(i[3].trim()),elevation:parseFloat(i[4].trim()),lowestTemperatures:o,highestTemperatures:c,sunshineHours:s};e.push(d)}}}catch(h){r.e(h)}finally{r.f()}a((function(t){var n,a=Object(p.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;t.weatherData[r.city+", "+r.country]=r}}catch(h){a.e(h)}finally{a.f()}}))}})},getWeather:function(e){return t().weatherData[e]},getClosestCity:function(e,n){var a,r=Number.MAX_VALUE,i=null,o=t().weatherData;for(var c in o)o.hasOwnProperty(c)&&(a=D.getDistance(n,e,o[c].longitude,o[c].latitude))<r&&(r=a,i=c);return i}}}),{name:"aladdin-storage"}))),P=n(1),z=function(e){var t=e.enabled,n=void 0===t||t,a=e.autoRotate,r=void 0!==a&&a,i=e.panCenter,c=void 0===i?new y.Vector3:i,s=e.orbitControlsRef,l=T((function(e){return e.set})),u=Object(b.e)(),d=u.camera,h=u.gl.domElement,j=Object(o.useRef)(null);Object(o.useEffect)((function(){var e=j.current;return e&&(c&&e.target.set(c.x,c.y,c.z),e.addEventListener("end",f),e.update(),s&&(s.current=e)),function(){e&&e.removeEventListener("end",f)}}),[]);var f=function(){l((function(e){var t=e.worlds.default;t&&(t.cameraPosition.x=d.position.x,t.cameraPosition.y=d.position.y,t.cameraPosition.z=d.position.z,j.current&&(t.panCenter.x=j.current.target.x,t.panCenter.y=j.current.target.y,t.panCenter.z=j.current.target.z))}))};return Object(b.c)((function(e){r&&j.current&&j.current.update()})),Object(P.jsx)("orbitControls",{ref:j,args:[d,h],autoRotate:r,enabled:n,enableRotate:!0,enablePan:!0,enableZoom:!0,enableDamping:!0,target:c,maxAzimuthAngle:1/0,minAzimuthAngle:-1/0,maxPolarAngle:D.HALF_PI,minPolarAngle:0})},I=n(41),F=n.p+"static/media/daysky.66925efd.jpg",W=n.p+"static/media/nightsky.2ee37da6.jpg",E=n.p+"static/media/desert.e1e10657.jpg",H=n.p+"static/media/desert-night.6f0f274c.jpg",V=n.p+"static/media/grassland.d74bba81.jpg",A=n.p+"static/media/grassland-night.fa2ff11e.jpg",U=function(e){var t=e.theme,n=void 0===t?"Default":t,a=e.night,r=void 0!==a&&a,c=Object(I.a)(e,["theme","night"]),s=T((function(e){return e.set})),l=T((function(e){return e.selectNone})),u=Object(o.useRef)(null),d=Object(o.useMemo)((function(){var e,t=new y.TextureLoader;switch(n){case"Desert":e=t.load(r?H:E);break;case"Grassland":e=t.load(r?A:V);break;default:e=t.load(r?W:F)}return e}),[n,r]),h=function(e){e.intersections.length>0&&(e.intersections[0].object===u.current&&(l(),s((function(e){e.clickObjectType=i.Sky}))))};return Object(P.jsxs)("mesh",Object(f.a)(Object(f.a)({},c),{},{ref:u,name:"Sky",scale:1,onContextMenu:function(e){h(e)},onClick:function(e){h(e)},children:[Object(P.jsx)("sphereGeometry",{args:[1e3,16,16,0,2*Math.PI,0,Math.PI/2+.01]}),Object(P.jsx)("meshBasicMaterial",{map:d,side:y.DoubleSide,opacity:1,color:"skyblue"})]}))},Y=n(523),_=function(e){var t=e.lineWidth,n=void 0===t?1:t,a=e.endPoint,r=void 0===a?1e3:a;return Object(P.jsxs)("mesh",{name:"Axes",children:[Object(P.jsx)(Y.a,{points:[new y.Vector3(-r,0,0),new y.Vector3(r,0,0)],color:"red",lineWidth:n}),Object(P.jsx)(Y.a,{points:[new y.Vector3(0,-r,0),new y.Vector3(0,r,0)],color:"green",lineWidth:n}),Object(P.jsx)(Y.a,{points:[new y.Vector3(0,0,-r),new y.Vector3(0,0,r)],color:"blue",lineWidth:n})]})},G=n(292),N=n.p+"static/media/compass.7ded737e.obj",B=n.p+"static/media/helvetiker_regular.typeface.9a3651b4.fnt",X=function(e){var t=e.scale,n=void 0===t?.01:t,a=Object(I.a)(e,["scale"]),r=Object(b.d)(G.a,N),i=Object(b.d)(y.FontLoader,B),c=Object(o.useRef)(null),s={font:i,height:0,size:.005},l=new y.MeshBasicMaterial({color:"white"}),u=new y.MeshBasicMaterial({color:"red"}),d=Object(b.e)().camera;return Object(b.c)((function(e){if(c.current){var t=new y.Vector3(.88,-.8,.1).unproject(d);c.current.position.set(t.x,t.y,t.z)}})),Object(P.jsxs)("mesh",Object(f.a)(Object(f.a)({},a),{},{ref:c,name:"Compass",rotation:new y.Euler(-Math.PI/2,0,0),children:[Object(P.jsx)("mesh",{position:[-.001,.02,0],material:l,children:Object(P.jsx)("textGeometry",{args:["N",s]})}),Object(P.jsx)("mesh",{position:[-.0015,-.025,0],material:l,children:Object(P.jsx)("textGeometry",{args:["S",s]})}),Object(P.jsx)("mesh",{position:[-.025,-.002,0],material:l,children:Object(P.jsx)("textGeometry",{args:["W",s]})}),Object(P.jsx)("mesh",{position:[.02,-.002,0],material:l,children:Object(P.jsx)("textGeometry",{args:["E",s]})}),Object(P.jsx)("primitive",{object:r,scale:n,material:u})]}))},Z=n(509),K=function(e){var t=e.id,n=e.cx,a=e.cy,r=e.lx,i=void 0===r?1:r,c=e.ly,s=void 0===c?1:c,l=e.height,u=void 0===l?.1:l,d=e.color,h=void 0===d?"gray":d,b=e.lineColor,f=void 0===b?"black":b,x=e.lineWidth,O=void 0===x?.1:x,g=e.selected,m=void 0!==g&&g;a=-a;var v=T((function(e){return e.set})),w=Object(o.useState)(!1),S=Object(j.a)(w,2),L=S[0],M=S[1],D=Object(o.useRef)(),C=Object(o.useRef)(),R=Object(o.useRef)(),k=Object(o.useRef)(),z=Object(o.useRef)(),I=.16,F=new y.Vector3(n-i/2,u/2,a-s/2),W=new y.Vector3(n-i/2,u/2,a+s/2),E=new y.Vector3(n+i/2,u/2,a-s/2),H=new y.Vector3(n+i/2,u/2,a+s/2),V=Object(o.useRef)(),A=Object(o.useRef)(),U=Object(o.useRef)(),_=Object(o.useRef)(),G=.2,N=new y.Vector3(n,u/2,a-s/2-G),B=new y.Vector3(n,u/2,a+s/2+G),X=new y.Vector3(n-i/2-G,u/2,a),K=new y.Vector3(n+i/2+G,u/2,a),q=function(){v((function(e){var n=e.worlds.default;if(n){var a,r=Object(p.a)(n.elements);try{for(r.s();!(a=r.n()).done;){var i=a.value;i.selected=i.id===t}}catch(o){r.e(o)}finally{r.f()}}}))};return Object(P.jsxs)("group",{name:"Foundation Group",children:[Object(P.jsx)(Z.a,{castShadow:!0,receiveShadow:!0,ref:D,name:"Foundation",onContextMenu:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&q())},onPointerOver:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&M(!0))},onPointerOut:function(e){M(!1)},onPointerDown:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&q())},onPointerUp:function(e){},onPointerMove:function(e){},args:[i,u,s],position:[n,u/2,a],children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:h})}),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Y.a,{points:[[F.x,u,F.z],[E.x,u,E.z]],name:"Line LL-LR Upper Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[E.x,u,E.z],[H.x,u,H.z]],name:"Line LR-UR Upper Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[H.x,u,H.z],[W.x,u,W.z]],name:"Line UR-UL Upper Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[W.x,u,W.z],[F.x,u,F.z]],name:"Line UL-LL Upper Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[F.x,0,F.z],[E.x,0,E.z]],name:"Line LL-LR Lower Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[E.x,0,E.z],[H.x,0,H.z]],name:"Line LR-UR Lower Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[H.x,0,H.z],[W.x,0,W.z]],name:"Line UR-UL Lower Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[W.x,0,W.z],[F.x,0,F.z]],name:"Line UL-LL Lower Face",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[F.x,0,F.z],[F.x,u,F.z]],name:"Line LL-LL Vertical",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[E.x,0,E.z],[E.x,u,E.z]],name:"Line LR-LR Vertical",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[W.x,0,W.z],[W.x,u,W.z]],name:"Line UL-UL Vertical",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[[H.x,0,H.z],[H.x,u,H.z]],name:"Line UR-UR Vertical",lineWidth:O,color:f})]}),m&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Z.a,{ref:C,args:[I,1.2*u,I],name:"Resize Handle LL",position:F,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:R,args:[I,1.2*u,I],name:"Resize Handle UL",position:W,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:k,args:[I,1.2*u,I],name:"Resize Handle LR",position:E,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:z,args:[I,1.2*u,I],name:"Resize Handle UR",position:H,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.c,{ref:V,args:[.1,6,6],name:"Move Handle Lower",position:N,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(P.jsx)(Z.c,{ref:A,args:[.1,6,6],name:"Move Handle Upper",position:B,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(P.jsx)(Z.c,{ref:U,args:[.1,6,6],name:"Move Handle Left",position:X,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(P.jsx)(Z.c,{ref:_,args:[.1,6,6],name:"Move Handle Right",position:K,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})})]}),L&&Object(P.jsx)("textSprite",{name:"Label",text:"Foundation",fontSize:90,fontFace:"Times Roman",textHeight:1,scale:[1,.2,.2],position:[n,u+.2,a]})]})},q=function(e){var t=e.id,n=e.cx,a=e.cy,r=e.cz,i=e.lx,c=void 0===i?1:i,s=e.ly,l=void 0===s?1:s,u=e.height,d=void 0===u?.1:u,h=e.color,b=void 0===h?"white":h,f=e.lineColor,x=void 0===f?"black":f,O=e.lineWidth,g=void 0===O?.1:O,m=e.selected,v=void 0!==m&&m,w=e.showLabel,S=void 0!==w&&w;e.light,e.heatFlux;a=-a;var L=T((function(e){return e.set})),M=T((function(e){return e.getElementById})),D=Object(o.useState)(!1),C=Object(j.a)(D,2),R=C[0],k=C[1],z=Object(o.useRef)(),I=Object(o.useRef)(),F=new y.Vector3(n,r,a),W=new y.Vector3(n-c/2,0,a-l/2),E=new y.Vector3(n-c/2,0,a+l/2),H=new y.Vector3(n+c/2,0,a-l/2),V=new y.Vector3(n+c/2,0,a+l/2),A=M(t),U=function(){L((function(e){var n=e.worlds.default;if(n){var a,r=Object(p.a)(n.elements);try{for(r.s();!(a=r.n()).done;){var i=a.value;i.selected=i.id===t}}catch(o){r.e(o)}finally{r.f()}}}))};return Object(P.jsxs)("group",{name:"Sensor Group",children:[Object(P.jsx)(Z.a,{receiveShadow:!0,ref:z,name:"Sensor",onPointerDown:function(e){e.intersections.length>0&&(e.intersections[0].object===z.current&&U())},onContextMenu:function(e){e.intersections.length>0&&(e.intersections[0].object===z.current&&U())},onPointerOver:function(e){e.intersections.length>0&&(e.intersections[0].object===z.current&&k(!0))},onPointerOut:function(e){k(!1)},args:[c,d,l],position:[n,d/2,a],children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:(null===A||void 0===A?void 0:A.lit)?"red":b})}),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Y.a,{points:[[W.x,d,W.z],[H.x,d,H.z]],name:"Line LL-LR Upper Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[[H.x,d,H.z],[V.x,d,V.z]],name:"Line LR-UR Upper Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[[V.x,d,V.z],[E.x,d,E.z]],name:"Line UR-UL Upper Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[[E.x,d,E.z],[W.x,d,W.z]],name:"Line UL-LL Upper Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[W,H],name:"Line LL-LR Lower Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[H,V],name:"Line LR-UR Lower Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[V,E],name:"Line UR-UL Lower Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[E,W],name:"Line UL-LL Lower Face",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[W,[W.x,d,W.z]],name:"Line LL-LL Vertical",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[H,[H.x,d,H.z]],name:"Line LR-LR Vertical",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[E,[E.x,d,E.z]],name:"Line UL-UL Vertical",lineWidth:g,color:x}),Object(P.jsx)(Y.a,{points:[V,[V.x,d,V.z]],name:"Line UR-UR Vertical",lineWidth:g,color:x})]}),v&&Object(P.jsx)(Z.c,{ref:I,args:[.1,6,6],name:"Handle",position:F,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),(R||S)&&Object(P.jsx)("textSprite",{name:"Label",text:"Sensor",fontSize:90,fontFace:"Times Roman",textHeight:1,scale:[.5,.2,.2],position:[n,d+.2,a]})]})},J=function(e){var t=e.id,n=e.cx,a=e.cy,r=e.lx,i=void 0===r?1:r,c=e.ly,s=void 0===c?1:c,l=e.height,u=void 0===l?1:l,d=e.color,h=void 0===d?"silver":d,b=e.lineColor,f=void 0===b?"black":b,x=e.lineWidth,O=void 0===x?.1:x,g=e.selected,m=void 0!==g&&g;a=-a;var v=T((function(e){return e.set})),w=Object(o.useState)(!1),S=Object(j.a)(w,2),L=S[0],M=S[1],D=Object(o.useRef)(),C=Object(o.useRef)(),R=Object(o.useRef)(),k=Object(o.useRef)(),z=Object(o.useRef)(),I=Object(o.useRef)(),F=Object(o.useRef)(),W=Object(o.useRef)(),E=Object(o.useRef)(),H=new y.Vector3(n-i/2,u,a-s/2),V=new y.Vector3(n-i/2,u,a+s/2),A=new y.Vector3(n+i/2,u,a-s/2),U=new y.Vector3(n+i/2,u,a+s/2),_=new y.Vector3(n-i/2,0,a-s/2),G=new y.Vector3(n-i/2,0,a+s/2),N=new y.Vector3(n+i/2,0,a-s/2),B=new y.Vector3(n+i/2,0,a+s/2),X=Object(o.useRef)(),K=Object(o.useRef)(),q=Object(o.useRef)(),J=Object(o.useRef)(),Q=Object(o.useRef)(),$=.1,ee=new y.Vector3(n,u/2,a-s/2-$),te=new y.Vector3(n,u/2,a+s/2+$),ne=new y.Vector3(n-i/2-$,u/2,a),ae=new y.Vector3(n+i/2+$,u/2,a),re=new y.Vector3(n,u+$,a),ie=.16,oe=function(){v((function(e){var n=e.worlds.default;if(n){var a,r=Object(p.a)(n.elements);try{for(r.s();!(a=r.n()).done;){var i=a.value;i.selected=i.id===t}}catch(o){r.e(o)}finally{r.f()}}}))};return Object(P.jsxs)("group",{name:"Cuboid Group",children:[Object(P.jsx)(Z.a,{castShadow:!0,receiveShadow:!0,ref:D,name:"Cuboid",onPointerDown:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&oe())},onContextMenu:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&oe())},onPointerOver:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&M(!0))},onPointerOut:function(e){M(!1)},args:[i,u,s],position:[n,u/2,a],children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:h})}),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Y.a,{points:[H,A],name:"Line LL-LR Top",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[A,U],name:"Line LR-UR Top",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[U,V],name:"Line UR-UL Top",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[V,H],name:"Line UL-LL Top",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[_,N],name:"Line LL-LR Bottom",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[N,B],name:"Line LR-UR Bottom",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[B,G],name:"Line UR-UL Bottom",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[G,_],name:"Line UL-LL Bottom",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[H,_],name:"Line LL-LL Vertical",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[A,N],name:"Line LR-LR Vertical",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[V,G],name:"Line UL-UL Vertical",lineWidth:O,color:f}),Object(P.jsx)(Y.a,{points:[U,B],name:"Line UR-UR Vertical",lineWidth:O,color:f})]}),m&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(Z.a,{ref:C,name:"Resize Handle LL Top",args:[ie,ie,ie],position:H,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:R,name:"Resize Handle UL Top",args:[ie,ie,ie],position:V,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:k,name:"Resize Handle LR Top",args:[ie,ie,ie],position:A,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:z,name:"Resize Handle UR Top",args:[ie,ie,ie],position:U,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:I,name:"Resize Handle LL Bottom",args:[ie,ie,ie],position:_,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:F,name:"Resize Handle UL Bottom",args:[ie,ie,ie],position:G,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:W,name:"Resize Handle LR Bottom",args:[ie,ie,ie],position:N,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.a,{ref:E,name:"Resize Handle UR Bottom",args:[ie,ie,ie],position:B,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(P.jsx)(Z.c,{ref:X,args:[.1,6,6],name:"Move Handle Lower Face",position:ee,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(P.jsx)(Z.c,{ref:K,args:[.1,6,6],name:"Move Handle Upper Face",position:te,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(P.jsx)(Z.c,{ref:q,args:[.1,6,6],name:"Move Handle Left Face",position:ne,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(P.jsx)(Z.c,{ref:J,args:[.1,6,6],name:"Move Handle Right Face",position:ae,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(P.jsx)(Z.c,{ref:Q,args:[.1,6,6],name:"Move Handle Top Face",position:re,children:Object(P.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})})]}),L&&Object(P.jsx)("textSprite",{name:"Label",text:"Box",fontSize:90,fontFace:"Times Roman",textHeight:1,scale:[.4,.2,.2],position:[n,u+.2,a]})]})},Q=function(e){var t=e.world,n=e.sceneRef,a=Object(b.e)().scene;return Object(o.useEffect)((function(){n&&(n.current=a)})),Object(P.jsxs)("group",{name:"Content",children:[t.elements.filter((function(e){return e.type===i.Foundation})).map((function(e){return Object(P.jsx)(K,Object(f.a)({},e),e.id)})),t.elements.filter((function(e){return e.type===i.Sensor})).map((function(e){return Object(P.jsx)(q,Object(f.a)({},e),e.id)})),t.elements.filter((function(e){return e.type===i.Cuboid})).map((function(e){return Object(P.jsx)(J,Object(f.a)({},e),e.id)}))]})},$=function(){var e=T((function(e){return e.set})),t=T((function(e){return e.getSelectedElement})),n=T((function(e){return e.selectNone})),a=T((function(e){return e.groundColor})),r=T((function(e){return e.updateElementById})),c=Object(o.useState)(null),s=Object(j.a)(c,2),l=s[0],u=s[1],d=Object(b.e)(),h=d.camera,f=d.scene,p=Object(o.useRef)(),x=new y.Raycaster;return Object(P.jsx)(Z.b,{receiveShadow:!0,ref:p,name:"Ground",onContextMenu:function(t){t.intersections.length>0&&(t.intersections[0].object===p.current&&(n(),e((function(e){e.clickObjectType=i.Ground}))))},onPointerDown:function(a){a.intersections.length>0&&(a.intersections[0].object===p.current?(e((function(e){e.clickObjectType=i.Ground})),n()):(u(t()),e((function(e){e.enableOrbitController=!1}))))},onPointerUp:function(t){u(null),e((function(e){e.enableOrbitController=!0}))},onPointerMove:function(e){if(l){var t=new y.Vector2;t.x=e.clientX/window.innerWidth*2-1,t.y=-e.clientY/window.innerHeight*2+1,x.setFromCamera(t,h);var n=x.intersectObjects(f.children);if(n.length>0){var a=n[0].point;r(l.id,{cx:a.x,cy:-a.z,cz:0})}}},rotation:[-Math.PI/2,0,0],position:[0,-.01,0],args:[1e4,1e4],children:Object(P.jsx)("meshStandardMaterial",{side:y.DoubleSide,attach:"material",color:a})})},ee=[.103,.104,.109,.12,.13,.137,.138,.134,.121,.111,.106,.103];!function(e){e[e.NONE=0]="NONE",e[e.KASTEN_YOUNG=1]="KASTEN_YOUNG",e[e.SPHERE_MODEL=2]="SPHERE_MODEL"}(k||(k={}));Math.PI,Math.PI;var te,ne,ae,re,ie,oe,ce,se=23.45/180*Math.PI,le=function(e){var t=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5);return se*Math.sin(D.TWO_PI*(284+t)/365.25)},ue=function(e){return(60*e.getHours()+e.getMinutes()-720)/720*Math.PI},de=function(e,t){return he(1,ue(e),le(e),D.toRadians(t)).normalize()},he=function(e,t,n,a){var r=Math.cos(n),i=Math.sin(n),o=Math.cos(a),c=Math.sin(a),s=Math.cos(t),l=Math.sin(t),u=Math.asin(i*c+r*s*o),d=l*r,h=o*i-s*r*c,j=Math.atan2(h,d),b=new y.Vector3(e,j,u);return D.sphericalToCartesianZ(b),b.x=-b.x,b},je=function(e,t,n,a){return function(e){var t=D.TWO_PI*e/365;return 1.361*(1.00011+.034221*Math.cos(t)+.00128*Math.sin(t)+719e-6*Math.cos(2*t)+77e-6*Math.sin(2*t))}(t)*Math.pow(.7,Math.pow(function(e,t,n){var a;switch(e){case k.NONE:return 1;case k.KASTEN_YOUNG:return a=t.angleTo(D.UNIT_VECTOR_POS_Z),1/(Math.cos(a)+.50572*Math.pow(96.07995-a/Math.PI*180,-1.6364));default:a=t.angleTo(D.UNIT_VECTOR_POS_Z);var r=Math.cos(a),i=708,o=n/9e3;return Math.sqrt((i+o)*(i+o)*r*r+(1417+o)*(1-o))-(i+o)*r}}(a,e,n),.678))},be=function(e,t,n,a){var r=0,i=n.dot(D.UNIT_VECTOR_POS_Z),o=.5*(1+i);o>0&&(r+=ee[t]*o*a);var c=.5*Math.abs(1-i);return D.isZero(c)||(r+=e.albedo*c*a),r},fe=function(e){var t=e.hourAngle,n=e.declinationAngle,a=e.radius,r=void 0===a?10:a,i=e.date,c=void 0===i?new Date:i,s=e.latitude,l=void 0===s?42/180*Math.PI:s;Object(o.useEffect)((function(){return function(){}}),[c,l]);var u=Object(o.useMemo)((function(){for(var e=[],t=[],n=2*Math.PI/72,a=0,i=0;i<D.TWO_PI+n/2;i+=n){var o=Math.min(i,D.TWO_PI),c=.05*r;e.push(D.sphericalToCartesianZ(new y.Vector3(r,o,0))),e.push(D.sphericalToCartesianZ(new y.Vector3(r+c,o,0))),e.push(D.sphericalToCartesianZ(new y.Vector3(r,o+n,0))),e.push(D.sphericalToCartesianZ(new y.Vector3(r+c,o,0))),e.push(D.sphericalToCartesianZ(new y.Vector3(r+c,o+n,0))),e.push(D.sphericalToCartesianZ(new y.Vector3(r,o+n,0)));var s=void 0;D.TWO_PI-o>D.ZERO_TOLERANCE&&(c=.05*r+(a%3===0?.2:0),(s=new y.Vector3(r,o,0)).z=.002,t.push(D.sphericalToCartesianZ(s)),(s=new y.Vector3(r+c,o,0)).z=.002,t.push(D.sphericalToCartesianZ(s))),a++}for(var l=3*e.length,u=new Float32Array(l),d=new Float32Array(l),h=new Float32Array(l),j=0;j<e.length;j++){var b=3*j;u[b]=e[j].x,u[b+1]=e[j].y,u[b+2]=e[j].z,d[b]=0,d[b+1]=1,d[b+2]=0;var f=Math.floor(j/18)%2===0?.2:1;h[b]=f,h[b+1]=f,h[b+2]=f}return[u,d,h,t]}),[r]),d=Object(j.a)(u,4),h=d[0],b=d[1],f=d[2],p=d[3],x=Object(o.useMemo)((function(){for(var e=D.TWO_PI/96,t=[],a=-Math.PI;a<Math.PI+e/2;a+=e){var i=he(r,a,n,l);i.z>-.1&&t.push(i)}return t}),[l,r,n]),O=function(e){for(var t=D.TWO_PI/96,n=[],a=-Math.PI;a<Math.PI+t/2;a+=t){var i=he(r,a,e,l);i.z>-.1&&n.push(i)}return n},g=Object(o.useMemo)((function(){for(var e=le(new Date(2021,11,22)),t=(le(new Date(2021,5,22))-e)/5,n=[],a=0;a<=5;a++)n.push(O(e+a*t));return n}),[l,r]),m=Object(o.useMemo)((function(){return he(r,t,n,l)}),[l,n,t,r]),v=Object(o.useMemo)((function(){for(var e=2*se/12,t=D.TWO_PI/96,n=new y.BufferGeometry,a=0,i=[],o=[],c=-se;c<se-e/2;c+=e)for(var s=-Math.PI;s<Math.PI-t/2;s+=t){var u=s+t,d=c+e;u>Math.PI&&(u=Math.PI),d>se&&(d=se);var h=he(r,s,c,l),j=he(r,u,c,l),b=he(r,u,d,l),f=he(r,s,d,l);(h.z>=0||j.z>=0||b.z>=0||f.z>=0)&&(i.push(h,j,b,f),o.push(a),o.push(a+1),o.push(a+2),o.push(a),o.push(a+2),o.push(a+3),a+=4)}return n.setFromPoints(i),n.setIndex(new y.BufferAttribute(new Uint16Array(o),1)),n}),[l,r]);return Object(P.jsxs)("mesh",{rotation:new y.Euler(-Math.PI/2,0,0),name:"Heliodon",children:[Object(P.jsxs)("mesh",{children:[Object(P.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(P.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:h.length/3,array:h,itemSize:3}),Object(P.jsx)("bufferAttribute",{attachObject:["attributes","normal"],count:b.length/3,array:b,itemSize:3}),Object(P.jsx)("bufferAttribute",{attachObject:["attributes","color"],count:f.length/3,array:f,itemSize:3})]}),Object(P.jsx)("meshBasicMaterial",{side:y.DoubleSide,vertexColors:!0,polygonOffset:!0,polygonOffsetFactor:-.7,polygonOffsetUnits:-2})]}),Object(P.jsx)("lineSegments",{args:[(new y.BufferGeometry).setFromPoints(p),new y.MeshBasicMaterial({color:0})]}),Object(P.jsxs)("mesh",{children:[x.length>3&&Object(P.jsx)(Y.a,{lineWidth:2,points:x,color:"yellow"}),g.filter((function(e){return e.length>3})).map((function(e,t){return Object(P.jsx)(Y.a,{opacity:0===t||5===t?1:.5,lineWidth:0===t||5===t?1:.5,points:e,color:"#999"},t)})),Object(P.jsx)("mesh",{args:[v,new y.MeshBasicMaterial({side:y.DoubleSide,color:new y.Color(1,1,0),transparent:!0,opacity:.5,clippingPlanes:[new y.Plane(D.UNIT_VECTOR_POS_Y,0)]})]}),Object(P.jsx)("mesh",{position:m,args:[new y.SphereGeometry(.25,20,20),new y.MeshBasicMaterial({color:4294967040})]})]})]})},pe=n.p+"static/media/aladdin-logo.96b59d24.png",xe=n.p+"static/media/ifi-logo.eb360016.png",Oe=n(42),ge=n(43),me=n(521),ye=n(526),ve=n(527);function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Le(e,t){var n=e.title,a=e.titleId,r=Se(e,["title","titleId"]);return o.createElement("svg",we({t:1613755944969,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5967,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,te||(te=o.createElement("defs",null,o.createElement("style",{type:"text/css"}))),ne||(ne=o.createElement("path",{d:"M194.187431 235.50871m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5968})),ae||(ae=o.createElement("path",{d:"M347.505182 165.510915h552.305182v139.99559H347.505182z","p-id":5969})),re||(re=o.createElement("path",{d:"M194.187431 512.1129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5970})),ie||(ie=o.createElement("path",{d:"M347.505182 442.115105h552.305182v139.99559H347.505182z","p-id":5971})),oe||(oe=o.createElement("path",{d:"M194.187431 788.49129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5972})),ce||(ce=o.createElement("path",{d:"M347.505182 718.719294h552.305182v139.99559H347.505182z","p-id":5973})))}var Me,De,Ce,Re,ke,Te,Pe,ze,Ie,Fe,We=o.forwardRef(Le),Ee=(n.p,n(139),me.a.SubMenu),He=Object(ge.a)(We)(Me||(Me=Object(Oe.a)(["\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  height: 40px;\n  width: 40px;\n  transition: 0.5s;\n  fill: brown;\n\n  &:hover {\n    fill: white;\n  }\n"]))),Ve=function(e){var t=e.collectDailyLightSensorData,n=e.collectYearlyLightSensorData,a=e.openAboutUs,r=(Object(I.a)(e,["collectDailyLightSensorData","collectYearlyLightSensorData","openAboutUs"]),T((function(e){return e.set}))),i=T((function(e){return e.showGroundPanel})),o=T((function(e){return e.showWeatherPanel})),c=(T((function(e){return e.showHeliodonPanel})),Object(P.jsxs)(me.a,{children:[Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:i,onChange:function(e){r((function(t){t.showGroundPanel=e.target.checked}))},children:"Ground Settings"})},"ground-panel-check-box"),Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:o,onChange:function(e){r((function(t){t.showWeatherPanel=e.target.checked}))},children:"Weather Data"})},"weather-panel-check-box"),Object(P.jsxs)(Ee,{title:"Sensors",children:[Object(P.jsx)(me.a.Item,{onClick:t,children:"Collect Daily Data"},"sensor-collect-daily-data"),Object(P.jsx)(me.a.Item,{onClick:n,children:"Collect Yearly Data"},"sensor-collect-yearly-data")]},"sensors"),Object(P.jsx)(me.a.Item,{onClick:function(){a(!0)},children:"About Us"},"about-us")]}));return Object(P.jsx)(ve.a,{overlay:c,trigger:["click"],children:Object(P.jsx)(He,{})})},Ae=n(525),Ue=n(528),Ye=n(322),_e=n(136),Ge={border:"1px solid",width:"400px",height:"400px"},Ne=function(e){var t=e.setLatitude,n=e.setLongitude,a=e.setZoom,r=e.setTilt,i=e.setType,c=T((function(e){return e.latitude})),s=T((function(e){return e.longitude})),l=T((function(e){return e.mapZoom})),u=T((function(e){return e.mapType})),d=T((function(e){return e.mapTilt})),h=Object(o.useState)(null),b=Object(j.a)(h,2),f=b[0],p=b[1],x=Object(o.useRef)(),O=Object(o.useRef)([]),g=T((function(e){return e.weatherData})),m=T((function(e){return e.mapWeatherStations})),y=Object(o.useState)(!1),v=Object(j.a)(y,2),w=v[0],S=v[1];Object(o.useEffect)((function(){}),[w]);var L=Object(o.useCallback)((function(e){p(e)}),[]),M=Object(o.useCallback)((function(e){p(null)}),[]),D={lat:c,lng:s};return Object(P.jsx)(_e.a,{mapContainerStyle:Ge,mapTypeId:u,center:D,zoom:l,tilt:d,onLoad:L,onBoundsChanged:function(){f&&(x.current=f.getBounds(),m&&function(){if(x.current){for(var e in O.current.length=0,g)if(g.hasOwnProperty(e)){var t=g[e],n=new google.maps.LatLng(t.latitude,t.longitude);x.current.contains(n)&&O.current.push(n)}S(!w)}}())},onUnmount:M,onCenterChanged:function(){if(f){var e=f.getCenter(),a=e.lat();a!==c&&(null===t||void 0===t||t(a));var r=e.lng();r!==s&&(null===n||void 0===n||n(r))}},onZoomChanged:function(){if(f){var e=f.getZoom();e!==l&&(null===a||void 0===a||a(e))}},onTiltChanged:function(){if(f){var e=f.getTilt();e!==d&&(null===r||void 0===r||r(e))}},onMapTypeIdChanged:function(){if(f){var e=f.getMapTypeId();e!==u&&(null===i||void 0===i||i(e))}},children:Object(P.jsx)(P.Fragment,{children:m&&O.current.map((function(e,t){var n=.2*l;return Object(P.jsx)(_e.b,{icon:{path:google.maps.SymbolPath.CIRCLE,strokeColor:"red",strokeWeight:n+2,scale:n},position:e},t)}))})})},Be=Object(o.memo)(Ne),Xe=n(510),Ze=Object(ge.a)(Xe.a)(De||(De=Object(Oe.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 999;\n"]))),Ke=n(79),qe=n.n(Ke),Je=["places"],Qe=ge.a.div(Ce||(Ce=Object(Oe.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),$e=ge.a.div(Re||(Re=Object(Oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 420px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),et=ge.a.div(ke||(ke=Object(Oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),tt=function(e){var t=e.grid,n=e.groundImage,a=e.groundColor,r=e.setGrid,i=e.setGroundImage,c=e.setGroundColor,s=e.changeLatitude,l=e.changeLongitude,u=e.changeMapZoom,d=e.changeMapTilt,h=e.changeMapType,b=T((function(e){return e.set})),f=T((function(e){return e.latitude})),p=T((function(e){return e.longitude})),x=T((function(e){return e.mapZoom})),O=T((function(e){return e.mapWeatherStations})),g=T((function(e){return e.address})),m=Object(o.useRef)(),y=Object(o.useState)({x:0,y:0}),v=Object(j.a)(y,2),w=v[0],S=v[1],L=Object(_e.d)({id:"google-map-script",googleMapsApiKey:"AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs",libraries:Je}),M=L.isLoaded,D=L.loadError;return Object(P.jsx)(qe.a,{handle:".handle",bounds:"parent",axis:"both",position:w,onDrag:function(e,t){S({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(P.jsx)(Qe,{children:Object(P.jsxs)($e,{children:[Object(P.jsxs)(et,{className:"handle",children:[Object(P.jsx)("span",{children:"Ground Settings"}),Object(P.jsx)("span",{style:{cursor:"pointer"},onClick:function(){b((function(e){e.showGroundPanel=!1}))},children:"Close"})]}),Object(P.jsxs)(Ae.b,{direction:"vertical",children:[Object(P.jsxs)(Ae.b,{style:{padding:"20px"},align:"center",size:20,children:[Object(P.jsxs)(Ae.b,{direction:"vertical",children:[Object(P.jsxs)(Ae.b,{children:[Object(P.jsx)(Ae.b,{style:{width:"60px"},children:"Grid:"}),Object(P.jsx)(Ue.a,{title:"Show ground grid",checked:t,onChange:function(e){null===r||void 0===r||r(e)}})]}),Object(P.jsxs)(Ae.b,{children:[Object(P.jsx)(Ae.b,{style:{width:"60px"},children:"Image:"}),Object(P.jsx)(Ue.a,{title:"Show ground image",checked:n,onChange:function(e){null===i||void 0===i||i(e)}})]}),Object(P.jsxs)(Ae.b,{children:[Object(P.jsx)(Ae.b,{style:{width:"60px"},children:"Stations:"}),Object(P.jsx)(Ue.a,{title:"Show weather stations",checked:O,onChange:function(e){var t;t=e,b((function(e){e.mapWeatherStations=t}))}})]})]}),Object(P.jsxs)("div",{children:["Ground Color",Object(P.jsx)("br",{}),Object(P.jsx)(Ye.a,{color:a,onChangeComplete:function(e){null===c||void 0===c||c(e.hex)}})]})]}),M&&Object(P.jsx)(Ae.b,{children:Object(P.jsx)("div",{children:Object(P.jsx)(_e.c,{onLoad:function(e){m.current=e},onPlacesChanged:function(){var e,t=null===(e=m.current)||void 0===e?void 0:e.getPlaces();t&&t.length>0&&b((function(e){var n=t[0].geometry;n&&(e.latitude=n.location.lat(),e.longitude=n.location.lng()),e.address=t[0].formatted_address}))},children:Object(P.jsx)("input",{type:"text",placeholder:g,style:{boxSizing:"border-box",border:"1px solid transparent",width:"400px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"relative"}})})})}),M?Object(P.jsx)(Ae.b,{children:Object(P.jsxs)("div",{children:[Object(P.jsx)(Be,{setLatitude:s,setLongitude:l,setZoom:u,setTilt:d,setType:h}),"Coordinates: (",f.toFixed(4),"\xb0, ",p.toFixed(4),"\xb0), Zoom: ",x]})}):Object(P.jsx)(Ze,{}),D&&Object(P.jsx)(Ae.b,{children:Object(P.jsx)("div",{children:"Map cannot be loaded right now, sorry."})})]})]})})})},nt=n(243),at=n(511),rt=n(520),it=n(67),ot=n.n(it),ct=ge.a.div(Te||(Te=Object(Oe.a)(["\n  position: fixed;\n  top: 80px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),st=ge.a.div(Pe||(Pe=Object(Oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 640px;\n  padding: 0;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),lt=ge.a.div(ze||(ze=Object(Oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),ut=function(e){var t=e.heliodon,n=e.latitude,a=e.date,r=e.animateSun,i=e.setHeliodon,c=e.setSunAnimation,s=e.changeLatitude,l=e.changeDate,u=e.changeTime,d=T((function(e){return e.set})),h=Object(o.useRef)(0),b=Object(o.useRef)(-1),f=Object(o.useState)({x:0,y:0}),p=Object(j.a)(f,2),x=p[0],O=p[1];Object(o.useEffect)((function(){return h.current=requestAnimationFrame(g),function(){cancelAnimationFrame(h.current)}}),[r]);var g=function e(){if(r){h.current=requestAnimationFrame(e);var t=Date.now();if(t-b.current>100){var n=a.getDate();a.setHours(a.getHours(),a.getMinutes()+15),a.setDate(n),null===u||void 0===u||u(a),b.current=t}}};return Object(P.jsx)(qe.a,{handle:".handle",bounds:"parent",axis:"both",position:x,onDrag:function(e,t){O({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(P.jsx)(ct,{children:Object(P.jsxs)(st,{children:[Object(P.jsxs)(lt,{className:"handle",children:[Object(P.jsx)("span",{children:"Heliodon Settings"}),Object(P.jsx)("span",{style:{cursor:"pointer"},onClick:function(){d((function(e){e.showHeliodonPanel=!1}))},children:"Close"})]}),Object(P.jsxs)(Ae.b,{style:{padding:"20px"},align:"baseline",size:20,children:[Object(P.jsxs)("div",{children:["Show",Object(P.jsx)("br",{}),Object(P.jsx)(Ue.a,{checked:t,onChange:function(e){null===i||void 0===i||i(e)}})]}),Object(P.jsxs)("div",{children:["Animate",Object(P.jsx)("br",{}),Object(P.jsx)(Ue.a,{checked:r,onChange:function(e){null===c||void 0===c||c(e)}})]}),Object(P.jsxs)("div",{children:["Date",Object(P.jsx)("br",{}),Object(P.jsx)(nt.a,{value:ot()(a),onChange:function(e){e&&(null===l||void 0===l||l(e.toDate()))}})]}),Object(P.jsxs)("div",{children:["Time",Object(P.jsx)("br",{}),Object(P.jsx)(at.a,{value:ot()(a,"HH:mm"),format:"HH:mm",onChange:function(e){e&&(null===u||void 0===u||u(e.toDate()))}})]}),Object(P.jsxs)("div",{children:["Latitude: ",n.toFixed(4),"\xb0",Object(P.jsx)(rt.a,{style:{width:"150px"},marks:{"-90":"-90\xb0",0:"0\xb0",90:"90\xb0"},min:-90,max:90,tooltipVisible:!1,defaultValue:n,onChange:function(e){null===s||void 0===s||s(e)}})]})]})]})})})},dt=["#8884d8","#f97356","#1bc32c","#c6502d","#82ca9d","#3eaec0","#627682","#445111"],ht=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],jt=(n(324),function(){window.open("https://intofuture.org","_blank")}),bt=n(305),ft=n.n(bt),pt=function(){return Object(P.jsx)(ft.a,{location:"bottom",buttonText:"Accept",cookieName:"AladdinCookieName",style:{background:"#2B373B",textAlign:"center",zIndex:99999},buttonStyle:{color:"#4e503b",fontSize:"12px"},expires:150,children:"By clicking Accept, you agree to our use of cookies to improve your experience with Aladdin."})},xt=n(512),Ot=function(){var e,t=T((function(e){return e.latitude})),n=T((function(e){return e.longitude})),a=T((function(e){return e.mapZoom})),r=Object(xt.a)("https://maps.googleapis.com/maps/api/staticmap?maptype=satellite&center="+t+","+n+"&zoom="+a+"&size="+(e=640)+"x"+e+"&scale=2&key=AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs");return Object(P.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],children:[Object(P.jsx)("planeBufferGeometry",{args:[100,100]}),Object(P.jsx)("meshStandardMaterial",{attach:"material",side:y.DoubleSide,map:r,opacity:1})]})},gt=n(524),mt=Object(ge.a)(me.a)(Ie||(Ie=Object(Oe.a)(["\n  padding: 0;\n  margin: 0;\n"]))),yt=mt.SubMenu,vt={display:"block",height:"30px",paddingLeft:"10px",lineHeight:"30px"},wt=function(e){e.city;var t=e.collectDailyLightSensorData,n=e.collectYearlyLightSensorData,a=(Object(I.a)(e,["city","collectDailyLightSensorData","collectYearlyLightSensorData"]),T((function(e){return e.set}))),o=T((function(e){return e.getSelectedElement})),c=T((function(e){return e.updateElementById})),s=T((function(e){return e.axes})),l=T((function(e){return e.grid})),u=T((function(e){return e.theme})),d=T((function(e){return e.showHeliodonPanel})),h=T((function(e){return e.showGroundPanel})),j=T((function(e){return e.showWeatherPanel})),b=T((function(e){return e.clickObjectType})),f=o();switch(f?f.type:b){case i.Sky:return Object(P.jsxs)(mt,{style:{padding:0,margin:0},children:[Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:s,onChange:function(e){a((function(t){t.axes=e.target.checked}))},children:"Axes"})},"axes"),Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:d,onChange:function(e){a((function(t){t.showHeliodonPanel=e.target.checked}))},children:"Heliodon Settings"})},"heliodon-settings"),Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:j,onChange:function(e){a((function(t){t.showWeatherPanel=e.target.checked}))},children:"Weather Data"})},"weather-data"),Object(P.jsx)(yt,{title:"Theme",children:Object(P.jsxs)(gt.a.Group,{value:u,style:{height:"105px"},onChange:function(e){a((function(t){t.theme=e.target.value}))},children:[Object(P.jsx)(gt.a,{style:vt,value:r.Default,children:"Default"}),Object(P.jsx)(gt.a,{style:vt,value:r.Desert,children:"Desert"}),Object(P.jsx)(gt.a,{style:vt,value:r.Grassland,children:"Grassland"})]})},"theme")]});case i.Foundation:return Object(P.jsxs)(mt,{children:[Object(P.jsx)(me.a.Item,{children:"Copy"},"foundation-copy"),Object(P.jsx)(me.a.Item,{children:"Cut"},"foundation-cut")]});case i.Sensor:return Object(P.jsxs)(mt,{children:[Object(P.jsx)(me.a.Item,{children:"Copy"},"sensor-copy"),Object(P.jsx)(me.a.Item,{children:"Cut"},"sensor-cut"),Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:!!(null===f||void 0===f?void 0:f.showLabel),onChange:function(e){f&&c(f.id,{showLabel:e.target.checked})},children:"Show Label"})},"sensor-light"),Object(P.jsxs)(yt,{title:"Analysis",children:[Object(P.jsx)(me.a.Item,{onClick:t,children:"Collect Daily Data"},"sensor-collect-daily-data"),Object(P.jsx)(me.a.Item,{onClick:n,children:"Collect Yearly Data"},"sensor-collect-yearly-data")]},"analysis")]});case i.Cuboid:return Object(P.jsxs)(mt,{children:[Object(P.jsx)(me.a.Item,{children:"Copy"},"cuboid-copy"),Object(P.jsx)(me.a.Item,{children:"Cut"},"cuboid-cut")]});default:return Object(P.jsxs)(mt,{children:[Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:l,onChange:function(e){a((function(t){t.grid=e.target.checked}))},children:"Grid"})},"ground-grid"),Object(P.jsx)(me.a.Item,{children:Object(P.jsx)(ye.a,{checked:h,onChange:function(e){a((function(t){t.showGroundPanel=e.target.checked}))},children:"Ground Settings"})},"ground-settings"),Object(P.jsx)(me.a.Item,{children:"Paste"},"ground-paste")]})}},St=n(327),Lt=n(516),Mt=n(517),Dt=n(158),Ct=n(518),Rt=n(315),kt=n(197),Tt=n(76),Pt=n(198),zt=n(151),It=function(e){var t=e.type,n=e.dataSource,r=e.height,i=e.labelX,c=e.labelY,s=e.unitX,l=e.unitY,u=e.yMin,d=void 0===u?"auto":u,h=e.yMax,b=void 0===h?"auto":h,f=e.fractionDigits,p=void 0===f?2:f,x=e.referenceX,O=e.color,g=(Object(I.a)(e,["type","dataSource","height","labelX","labelY","unitX","unitY","yMin","yMax","fractionDigits","referenceX","color"]),Object(o.useState)(0)),m=Object(j.a)(g,2),y=m[0],v=m[1],w=Object(o.useState)(!0),S=Object(j.a)(w,2),L=S[0],M=(S[1],Object(o.useState)(!0)),D=Object(j.a)(M,2),C=D[0],R=(D[1],Object(o.useState)(null)),k=Object(j.a)(R,2),T=k[0],z=k[1];Object(o.useEffect)((function(){if(n){var e=Array.isArray(n)?Object.keys(n[0]).length-1:Object.keys(n).length-1;y!==e&&v(e)}}),[n]);var F=Object(o.useMemo)((function(){for(var e=[],n=0;n<y;n++){var r="";switch(t){case a.MonthlyTemperatures:r=0===n?"Low":"High";break;case a.SunshineHours:r="Sunshine";break;case a.HourlyTemperatures:r="Temperature";break;case a.DaylightData:r="Daylight";break;case a.ClearnessData:r="Clearness";break;case a.DailyRadiationSensorData:case a.YearlyRadiationSensorData:r="Radiation"}var i=null===T||T===r?1:.25;e.push(Object(P.jsx)(St.a,{name:r,dataKey:r,fill:O||dt[n],opacity:i,isAnimationActive:!1},n))}return e}),[y,T]);return Object(P.jsx)(P.Fragment,{children:n&&Object(P.jsx)("div",{id:"bar-graph-"+i+"-"+c,style:{width:"100%",height:"".concat(r,"%"),position:"relative"},children:Object(P.jsx)("div",{style:{userSelect:"none",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:Object(P.jsx)(Lt.a,{width:"100%",height:"100%",children:Object(P.jsxs)(Mt.a,{data:n,onMouseDown:function(e){},margin:{top:5,right:30,left:20,bottom:30},children:[Object(P.jsx)(Dt.a,{formatter:function(e){return e.toFixed(p)+" "+l}}),Object(P.jsx)(Ct.a,{vertical:C,horizontal:L,stroke:"rgba(128, 128, 128, 0.3)"}),Object(P.jsx)(Rt.a,{x:x,stroke:"orange",strokeWidth:2}),Object(P.jsx)(kt.a,{dataKey:i,children:Object(P.jsx)(Tt.a,{value:i+(s?" ("+s+")":""),offset:0,position:"bottom"})}),Object(P.jsx)(Pt.a,{domain:[d,b],children:Object(P.jsx)(Tt.a,{dx:-15,value:c+(l?" ("+l+")":""),offset:0,angle:-90,position:"center"})}),F,y>1&&Object(P.jsx)(zt.a,{iconType:"plainline",verticalAlign:"top",height:36,onMouseLeave:function(e){z(null)},onMouseEnter:function(e){z(e.dataKey)}})]})})})})})},Ft=n(321),Wt=n(519),Et=["circle","square","triangle up","triangle down","triangle right","triangle left","star","diamond","hexagon"];!function(e){e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(Fe||(Fe={}));var Ht,Vt,At,Ut,Yt,_t,Gt,Nt,Bt,Xt,Zt,Kt=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);return t&&n&&i>0&&i%l===0?Object(P.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(P.jsx)("circle",{cx:"0",cy:"0",r:"3",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})}):null},qt=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);return t&&n&&i>0&&i%l===0?Object(P.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(P.jsx)("rect",{x:"-3",y:"-3",width:"6",height:"6",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})}):null},Jt=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=e.direction,u=Math.round(o.length/s);if(t&&n&&i>0&&i%u===0){var d;switch(l){case Fe.UP:d="-4,2.5,4,2.5,0,-3.5";break;case Fe.LEFT:d="2.5,4,2.5,-4,-3.5,0";break;case Fe.RIGHT:d="-2.5,4,-2.5,-4,3.5,0";break;default:d="-4,-2.5,4,-2.5,0,3.5"}return Object(P.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(P.jsx)("polygon",{points:d,style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})})}return null},Qt=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);return t&&n&&i>0&&i%l===0?Object(P.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(P.jsx)("polygon",{points:"-3,0,0,5,3,0,0,-5",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})}):null},$t=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);if(t&&n&&i>0&&i%l===0){var u=.05*c;return Object(P.jsx)("svg",{x:t-100*u,y:n-100*u,width:300*u,height:300*u,viewBox:"0 0 300 300",children:Object(P.jsx)("polygon",{points:"100,10 40,180 190,60 10,60 160,180",style:{opacity:a,stroke:r,fill:r,strokeWidth:1}})})}return null},en=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);if(t&&n&&i>0&&i%l===0){var u=.02*c;return Object(P.jsx)("svg",{x:t-150*u,y:n-150*u,width:300*u,height:300*u,viewBox:"0 0 300 300",children:Object(P.jsx)("polygon",{className:"hex",points:"300,150 225,280 75,280 0,150 75,20 225,20",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})})}return null},tn=function(e,t,n,a){switch(e){case"circle":return Object(P.jsx)(Kt,{scale:t,numberOfSymbols:n,opacity:a});case"square":return Object(P.jsx)(qt,{scale:t,numberOfSymbols:n,opacity:a});case"triangle up":return Object(P.jsx)(Jt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.UP,opacity:a});case"triangle down":return Object(P.jsx)(Jt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.DOWN,opacity:a});case"triangle right":return Object(P.jsx)(Jt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.RIGHT,opacity:a});case"triangle left":return Object(P.jsx)(Jt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.LEFT,opacity:a});case"star":return Object(P.jsx)($t,{scale:1.25*t,numberOfSymbols:n,opacity:a});case"diamond":return Object(P.jsx)(Qt,{scale:1.1*t,numberOfSymbols:n,opacity:a});case"hexagon":return Object(P.jsx)(en,{scale:1.3*t,numberOfSymbols:n,opacity:a})}},nn=function(e){var t=e.type,n=e.dataSource,r=e.height,i=e.labelX,c=e.labelY,s=e.unitX,l=e.unitY,u=e.yMin,d=void 0===u?"auto":u,h=e.yMax,b=void 0===h?"auto":h,f=e.curveType,p=void 0===f?"linear":f,x=e.referenceX,O=e.fractionDigits,g=void 0===O?2:O,m=e.symbolCount,y=void 0===m?12:m,v=(Object(I.a)(e,["type","dataSource","height","labelX","labelY","unitX","unitY","yMin","yMax","curveType","referenceX","fractionDigits","symbolCount"]),Object(o.useState)(0)),w=Object(j.a)(v,2),S=w[0],L=w[1],M=Object(o.useState)(!0),D=Object(j.a)(M,2),C=D[0],R=(D[1],Object(o.useState)(!0)),k=Object(j.a)(R,2),T=k[0],z=(k[1],Object(o.useState)(null)),F=Object(j.a)(z,2),W=F[0],E=F[1],H=Object(o.useState)(2),V=Object(j.a)(H,2),A=V[0],U=(V[1],Object(o.useState)(1)),Y=Object(j.a)(U,2),_=Y[0];Y[1];Object(o.useEffect)((function(){if(n){var e=Array.isArray(n)?Object.keys(n[0]).length-1:Object.keys(n).length-1;S!==e&&L(e)}}),[n]);var G=Object(o.useMemo)((function(){for(var e,n=[],r=0;r<S;r++){var i="";switch(t){case a.MonthlyTemperatures:i=0===r?"Low":"High";break;case a.SunshineHours:i="Sunshine";break;case a.HourlyTemperatures:i="Temperature";break;case a.DaylightData:i="Daylight";break;case a.ClearnessData:i="Clearness";break;case a.DailyRadiationSensorData:case a.YearlyRadiationSensorData:i="Radiation"+(r+1)}var o=null===W||W===i?1:.25,c=tn(Et[r],_,y,o);0===r&&(e=c),n.push(Object(P.jsx)(Ft.a,{type:p,name:i,dataKey:i,stroke:dt[r],opacity:o,strokeWidth:A,dot:y>0&&(c||e),isAnimationActive:!1},r))}return n}),[S,A,y,_,W]);return Object(P.jsx)(P.Fragment,{children:n&&Object(P.jsx)("div",{id:"line-graph-"+i+"-"+c,style:{width:"100%",height:"".concat(r,"%"),position:"relative"},children:Object(P.jsx)("div",{style:{userSelect:"none",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:Object(P.jsx)(Lt.a,{width:"100%",height:"100%",children:Object(P.jsxs)(Wt.a,{data:n,onMouseDown:function(e){},margin:{top:5,right:30,left:20,bottom:30},children:[Object(P.jsx)(Dt.a,{formatter:function(e){return e.toFixed(g)+" "+l}}),Object(P.jsx)(Ct.a,{vertical:T,horizontal:C,stroke:"rgba(128, 128, 128, 0.3)"}),Object(P.jsx)(Rt.a,{x:x,stroke:"orange",strokeWidth:2}),Object(P.jsx)(kt.a,{dataKey:i,children:Object(P.jsx)(Tt.a,{value:i+(s?" ("+s+")":""),offset:0,position:"bottom"})}),Object(P.jsx)(Pt.a,{domain:[d,b],children:Object(P.jsx)(Tt.a,{dx:-15,value:c+(l?" ("+l+")":""),offset:0,angle:-90,position:"center"})}),G,S>1&&Object(P.jsx)(zt.a,{iconType:"plainline",verticalAlign:"top",height:36,onMouseLeave:function(e){E(null)},onMouseEnter:function(e){E(e.dataKey)}})]})})})})})},an=ge.a.div(Ht||(Ht=Object(Oe.a)(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),rn=ge.a.div(Vt||(Vt=Object(Oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 500px;\n  height: 500px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),on=ge.a.div(At||(At=Object(Oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),cn=function(e){var t=e.city,n=e.graphs,r=Object(I.a)(e,["city","graphs"]),i=T((function(e){return e.set})),c=T((function(e){return e.getWeather})),s=T((function(e){return e.date})),l=Object(o.useState)({x:0,y:0}),u=Object(j.a)(l,2),d=u[0],h=u[1],b=Object(o.useMemo)((function(){return n?Math.floor(100/n.length):100}),[n]),p=Object(o.useMemo)((function(){if(n){var e={};if(t){var r=c(t);r&&n.forEach((function(t){switch(e[t]=[],t){case a.MonthlyTemperatures:for(var n=0;n<12;n++)e[t].push({Month:ht[n],Low:r.lowestTemperatures[n],High:r.highestTemperatures[n]});break;case a.SunshineHours:for(var i=0;i<12;i++)e[t].push({Month:ht[i],Sunshine:r.sunshineHours[i]})}}))}return e}}),[n,t]),x=["Temperature","Temperature","Sunshine"],O=["\xb0C","\xb0C","Hours"],g=ht[Math.floor(D.daysIntoYear(s)/365*12)];return Object(P.jsx)(qe.a,{handle:".handle",bounds:"parent",axis:"both",position:d,onDrag:function(e,t){h({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(P.jsx)(an,{children:Object(P.jsxs)(rn,{children:[Object(P.jsxs)(on,{className:"handle",children:[Object(P.jsxs)("span",{children:["Weather: ",t]}),Object(P.jsx)("span",{style:{cursor:"pointer"},onClick:function(){i((function(e){e.showWeatherPanel=!1}))},children:"Close"})]}),Object(P.jsx)(P.Fragment,{children:n.map((function(e){return e===a.SunshineHours?Object(P.jsx)(It,Object(f.a)({type:e,dataSource:p[e],height:b,labelX:"Month",labelY:x[e],unitY:O[e],yMin:0,fractionDigits:0,referenceX:g,color:"#FFD700"},r),e):Object(P.jsx)(nn,Object(f.a)({type:e,dataSource:p[e],height:b,labelX:"Month",labelY:x[e],unitY:O[e],fractionDigits:0,referenceX:g},r),e)}))})]})})})},sn=ge.a.div(Ut||(Ut=Object(Oe.a)(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),ln=ge.a.div(Yt||(Yt=Object(Oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 500px;\n  height: 650px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n"]))),un=ge.a.div(_t||(_t=Object(Oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),dn=function(e){var t=e.city,n=Object(I.a)(e,["city"]),r=T((function(e){return e.set})),i=T((function(e){return e.yearlyLightSensorData})),c=T((function(e){return e.date})),s=Object(o.useState)({x:0,y:0}),l=Object(j.a)(s,2),u=l[0],d=l[1],h=ht[Math.floor(D.daysIntoYear(c)/365*12)];return Object(P.jsx)(qe.a,{handle:".handle",bounds:"parent",axis:"both",position:u,onDrag:function(e,t){d({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(P.jsx)(sn,{children:Object(P.jsxs)(ln,{children:[Object(P.jsxs)(un,{className:"handle",children:[Object(P.jsxs)("span",{children:["Light Sensor: ",t]}),Object(P.jsx)("span",{style:{cursor:"pointer"},onClick:function(){r((function(e){e.showYearlyLightSensorPanel=!1}))},children:"Close"})]}),Object(P.jsx)(nn,Object(f.a)({type:a.DaylightData,dataSource:i.map((function(e){return{Month:e.Month,Daylight:e.Daylight}})),height:100,labelX:"Month",labelY:"Daylight",unitY:"Hours",yMin:0,curveType:"natural",fractionDigits:1,referenceX:h},n)),Object(P.jsx)(It,Object(f.a)({type:a.ClearnessData,dataSource:i.map((function(e){return{Month:e.Month,Clearness:e.Clearness}})),height:100,labelX:"Month",labelY:"Clearness",unitY:"%",yMin:0,yMax:100,fractionDigits:1,referenceX:h,color:"#66CDAA"},n)),Object(P.jsx)(nn,Object(f.a)({type:a.YearlyRadiationSensorData,dataSource:i.map((function(e){e.Daylight,e.Clearness;return Object(I.a)(e,["Daylight","Clearness"])})),height:100,labelX:"Month",labelY:"Radiation",unitY:"kWh/m\xb2/day",yMin:0,curveType:"natural",fractionDigits:2,referenceX:h},n))]})})})},hn=ge.a.div(Gt||(Gt=Object(Oe.a)(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),jn=ge.a.div(Nt||(Nt=Object(Oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 600px;\n  height: 300px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n"]))),bn=ge.a.div(Bt||(Bt=Object(Oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),fn=function(e){var t=e.city,n=Object(I.a)(e,["city"]),r=T((function(e){return e.set})),i=T((function(e){return e.dailyLightSensorData})),c=new Date(T((function(e){return e.date}))),s=Object(o.useState)({x:0,y:0}),l=Object(j.a)(s,2),u=l[0],d=l[1];return Object(P.jsx)(qe.a,{handle:".handle",bounds:"parent",axis:"both",position:u,onDrag:function(e,t){d({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(P.jsx)(hn,{children:Object(P.jsxs)(jn,{children:[Object(P.jsxs)(bn,{className:"handle",children:[Object(P.jsxs)("span",{children:["Light Sensor: ",t," | ",ot()(c).format("MM/DD")]}),Object(P.jsx)("span",{style:{cursor:"pointer"},onClick:function(){r((function(e){e.showDailyLightSensorPanel=!1}))},children:"Close"})]}),Object(P.jsx)(nn,Object(f.a)({type:a.DailyRadiationSensorData,dataSource:i,height:100,labelX:"Hour",labelY:"Radiation",unitY:"kWh/m\xb2/day",yMin:0,curveType:"linear",fractionDigits:2,symbolCount:24,referenceX:c.getHours()},n))]})})})},pn=function(e){var t=e.city,n=e.dailyLightSensorDataFlag,a=e.yearlyLightSensorDataFlag,r=T((function(e){return e.getWorld})),c=T((function(e){return e.getWeather})),s=new Date(T((function(e){return e.date}))),l=T((function(e){return e.latitude})),u=T((function(e){return e.timesPerHour})),d=T((function(e){return e.setDailyLightSensorData})),h=T((function(e){return e.setYearlyLightSensorData})),f=Object(b.e)().scene,O=new y.Raycaster,g=c(null!==t&&void 0!==t?t:"Boston MA, USA"),m=r("default").ground,v=r("default").elements,w=t?c(t).elevation:0,S=60/u;Object(o.useEffect)((function(){v&&v.length>0&&M()}),[n]),Object(o.useEffect)((function(){v&&v.length>0&&R()}),[a]);var L=function(e,t,n){O.set(D.modelToView(t),D.modelToView(n));var a=f.children.filter((function(e){return"Content"===e.name}));if(a.length>0){var r,i=a[0].children,o=[],c=Object(p.a)(i);try{for(c.s();!(r=c.n()).done;){var s=r.value;o.push.apply(o,Object(x.a)(s.children.filter((function(e){return e.castShadow}))))}}catch(l){c.e(l)}finally{c.f()}return O.intersectObjects(o).length>0}return!1},M=function(){var e,t=new Map,n=0,a=Object(p.a)(v);try{for(a.s();!(e=a.n()).done;){var r=e.value;r.type===i.Sensor&&(t.set("Radiation"+(n+1),C(r)),n++)}}catch(j){a.e(j)}finally{a.f()}for(var o=[],c=0;c<24;c++){var s={};s.Hour=c;for(var l=1;l<=n;l++){var u,h="Radiation"+l;s[h]=null===(u=t.get(h))||void 0===u?void 0:u[c]}o.push(s)}d(o)},C=function(e){for(var t=new y.Vector3(e.cx,e.cy,e.cz),n=new y.Vector3(e.normal[0],e.normal[1],e.normal[2]),a=new Array(24).fill(0),r=s.getFullYear(),i=s.getMonth(),o=s.getDate(),c=D.dayOfYear(s),d=0,h=0;h<24;h++)for(var j=0;j<u;j++){var b=new Date(r,i,o,h,j*S),f=de(b,l);if(f.z>0){d++;var p=je(f,c,w,k.SPHERE_MODEL),x=n.dot(f);x>0&&(L(0,t,f)||(a[h]+=x*p)),a[h]+=be(m,i,n,p)}}var O=d*S/60,v=g.sunshineHours[i]/(30*O);return a.map((function(e){return e*v/u}))},R=function(){var e,t=[],n=Object(p.a)(v);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.type===i.Sensor&&t.push(z(a))}}catch(f){n.e(f)}finally{n.f()}for(var r=[],o=0;o<12;o++){var c={};c.Month=ht[o];var s,l=Object(p.a)(t.entries());try{for(l.s();!(s=l.n()).done;){var u=Object(j.a)(s.value,2),d=u[0],b=u[1];c.Daylight=b[o].Daylight,c.Clearness=b[o].Clearness,c["Radiation"+(d+1)]=b[o].Radiation}}catch(f){l.e(f)}finally{l.f()}r.push(c)}h(r)},z=function(e){for(var t=[],n=new y.Vector3(e.cx,e.cy,e.cz),a=new y.Vector3(e.normal[0],e.normal[1],e.normal[2]),r=s.getFullYear(),i=0;i<12;i++){for(var o=new Date(r,i,15),c=D.dayOfYear(o),d=0,h=0,j=0;j<24;j++)for(var b=0;b<u;b++){var f=new Date(r,i,15,j,b*S),p=de(f,l);if(p.z>0){h++;var x=je(p,c,w,k.SPHERE_MODEL),O=a.dot(p);O>0&&(L(0,n,p)||(d+=O*x)),d+=be(m,i,a,x)}}var v=h*S/60,M=g.sunshineHours[o.getMonth()]/(30*v);d*=M,d/=u,t.push({Month:ht[i],Daylight:v,Clearness:100*M,Radiation:d})}return t};return Object(P.jsx)(P.Fragment,{})},xn=n(135),On=ge.a.div(Xt||(Xt=Object(Oe.a)(["\n  position: fixed;\n  top: 4px;\n  left: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),gn=function(e){var t=e.orbitControls,n=T((function(e){return e.set})),a=T((function(e){return e.autoRotate})),r=T((function(e){return e.showHeliodonPanel}));return Object(P.jsx)(On,{children:Object(P.jsxs)(Ae.b,{direction:"horizontal",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{style:{paddingRight:"10px"},children:"Spin"}),Object(P.jsx)(Ue.a,{title:"Spin view",checked:a,onChange:function(e){n((function(t){t.autoRotate=e}))}})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("span",{style:{paddingRight:"10px",paddingLeft:"10px"},children:"Heliodon"}),Object(P.jsx)(Ue.a,{title:"Show heliodon",checked:r,onChange:function(e){n((function(t){t.showHeliodonPanel=e}))}})]}),Object(P.jsx)("div",{children:Object(P.jsx)(xn.a,{type:"primary",title:"Reset view",onClick:function(){t&&t.reset()},children:" Reset "})})]})})},mn=function(e){var t=e.top,n=e.height,a=e.color,r=t+56+"px",i=t+110+"px",o=t+220+"px";return Object(P.jsxs)("div",{children:[Object(P.jsxs)("div",{style:{position:"absolute",borderRadius:"20px",border:"thin",textAlign:"center",left:"15%",right:"15%",top:t+"px",height:(null!==n&&void 0!==n?n:300)+"px"},children:[Object(P.jsx)("h2",{style:{marginTop:"20px",color:a},children:"This product is brought to you by"}),Object(P.jsxs)("p",{style:{fontSize:"12px",color:a},children:[Object(P.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://intofuture.org/aladdin-terms.html",style:{color:a},children:"Terms of Service"}),"\xa0\xa0\xa0|\xa0\xa0\xa0",Object(P.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://intofuture.org/aladdin-privacy.html",style:{color:a},children:"Privacy Policy"})]})]}),Object(P.jsxs)("div",{children:[Object(P.jsx)("hr",{style:{position:"absolute",left:"10%",width:"80%",marginTop:r,color:a}}),Object(P.jsx)("table",{style:{position:"absolute",border:"none",top:i,left:"10%",width:"80%",fontSize:"small",color:a},children:Object(P.jsx)("tbody",{children:Object(P.jsxs)("tr",{style:{verticalAlign:"top"},children:[Object(P.jsxs)("td",{children:[Object(P.jsx)("h3",{style:{color:a},children:"Software"}),"Charles Xie",Object(P.jsx)("br",{})]}),Object(P.jsxs)("td",{children:[Object(P.jsx)("h3",{style:{color:a},children:"Content"}),"Rundong Jiang",Object(P.jsx)("br",{}),"Charles Xie",Object(P.jsx)("br",{})]}),Object(P.jsxs)("td",{children:[Object(P.jsx)("h3",{style:{color:a},children:"Research"}),"Shannon Sung",Object(P.jsx)("br",{}),"Charles Xie",Object(P.jsx)("br",{})]}),Object(P.jsxs)("td",{children:[Object(P.jsx)("h3",{style:{color:a},children:"Support"}),"Rundong Jiang",Object(P.jsx)("br",{})]})]})})})]}),Object(P.jsx)("div",{style:{position:"absolute",left:"10%",marginRight:"10%",top:o,fontSize:"small",textAlign:"justify",color:a},children:"The National Science Foundation (NSF) of the United States generously provided funding for the research and development of this product through grant numbers 1918847, 2105695, and 2131097. Any opinions, findings, and conclusions or recommendations expressed in this product, however, are those of the authors and do not necessarily reflect the views of NSF."})]})},yn=ge.a.div(Zt||(Zt=Object(Oe.a)(["\n  position: absolute;\n  top: 80px;\n  left: 10px;\n  display: flex;\n  width: 600px;\n  height: 400px;\n  flex-direction: column;\n  align-items: center;\n  z-index: 9;\n  border-radius: 10px;\n  background: dimgray;\n  box-shadow: 3px 3px 3px 3px black;\n"]))),vn=function(e){var t=e.openAboutUs;return Object(P.jsxs)(yn,{children:[Object(P.jsx)(mn,{top:10,color:"antiquewhite"}),Object(P.jsx)("div",{style:{position:"absolute",fontSize:"medium",color:"antiquewhite",bottom:"10px"},onClick:function(){t(!1)},children:"Close"})]})},wn=function(){var e=T((function(e){return e.set})),t=T((function(e){return e.worlds})),n=T((function(e){return e.getWorld})),r=T((function(e){return e.createNewWorld})),i=T((function(e){return e.loadWeatherData})),c=T((function(e){return e.getClosestCity})),s=T((function(e){return e.showGroundPanel})),l=T((function(e){return e.showHeliodonPanel})),u=T((function(e){return e.showWeatherPanel})),f=T((function(e){return e.showDailyLightSensorPanel})),p=T((function(e){return e.showYearlyLightSensorPanel})),x=T((function(e){return e.autoRotate})),O=T((function(e){return e.axes})),g=T((function(e){return e.grid})),m=T((function(e){return e.enableOrbitController})),v=T((function(e){return e.groundImage})),w=T((function(e){return e.groundColor})),S=T((function(e){return e.theme})),L=T((function(e){return e.heliodon})),M=T((function(e){return e.latitude})),C=T((function(e){return e.longitude})),R=T((function(e){return e.weatherData})),k=new Date(T((function(e){return e.date}))),I=Object(o.useState)(0),F=Object(j.a)(I,2),W=F[0],E=F[1],H=Object(o.useState)(0),V=Object(j.a)(H,2),A=V[0],Y=V[1],G=Object(o.useState)(new y.Vector3(0,2,2)),N=Object(j.a)(G,2),B=N[0],Z=N[1],K=Object(o.useState)(!1),q=Object(j.a)(K,2),J=q[0],ee=q[1],te=Object(o.useState)("Boston MA, USA"),ne=Object(j.a)(te,2),ae=ne[0],re=ne[1],ie=Object(o.useState)(!1),oe=Object(j.a)(ie,2),ce=oe[0],se=oe[1],de=Object(o.useState)(!1),je=Object(j.a)(de,2),be=je[0],Oe=je[1],ge=Object(o.useState)(!1),me=Object(j.a)(ge,2),ye=me[0],we=me[1],Se=t.default,Le=Object(o.useRef)();Object(o.useEffect)((function(){n("default")||r(),i()}),[]),Object(o.useEffect)((function(){Z(he(10,W,A,D.toRadians(M)).applyEuler(new y.Euler(-Math.PI/2,0,0)))}),[M,W,A]),Object(o.useEffect)((function(){re(c(M,C))}),[M,C,R]);var Me=k.toString();Object(o.useMemo)((function(){E(ue(k)),Y(le(k))}),[Me]);var De=new y.Vector3(0,0,5),Ce=new y.Vector3;Se&&(De.set(Se.cameraPosition.x,Se.cameraPosition.y,Se.cameraPosition.z),Ce.set(Se.panCenter.x,Se.panCenter.y,Se.panCenter.z));var Re=B.y>0,ke=function(){e((function(e){e.timesPerHour=20})),se(!ce),e((function(e){e.showDailyLightSensorPanel=!0}))},Te=function(){var t=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((function(e){e.timesPerHour=20})),Oe(!be),e((function(e){e.showYearlyLightSensorPanel=!0}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Pe=function(e){we(e)};return console.log("x"),Object(P.jsxs)("div",{className:"App",children:[Object(P.jsxs)("div",{style:{backgroundColor:"lightblue",height:"72px",paddingTop:"10px",fontSize:"30px"},children:[Object(P.jsx)("img",{alt:"Aladdin Logo",src:pe,height:"50px",style:{verticalAlign:"middle"}}),Object(P.jsx)("span",{style:{paddingLeft:"20px",verticalAlign:"middle"},children:"Aladdin"})]}),Object(P.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:999,fontSize:"12px",color:"white"},children:[Object(P.jsx)("img",{alt:"IFI Logo",src:xe,height:"40px",style:{verticalAlign:"bottom",cursor:"pointer"},title:"Go to Institute for Future Intelligence",onClick:jt}),"\xa0\xa0 Institute for Future Intelligence, \xa9",(new Date).getFullYear(),". Version ","0.0.1"]}),Object(P.jsx)(Ve,{collectDailyLightSensorData:ke,collectYearlyLightSensorData:Te,openAboutUs:Pe}),Object(P.jsx)(gn,{orbitControls:Le.current}),s&&Object(P.jsx)(tt,{grid:g,groundImage:v,groundColor:w,setGrid:function(t){e((function(e){e.grid=t}))},setGroundImage:function(t){e((function(e){e.groundImage=t}))},setGroundColor:function(t){e((function(e){e.groundColor=t}))},changeLatitude:function(t){e((function(e){e.latitude=t}))},changeLongitude:function(t){e((function(e){e.longitude=t}))},changeMapZoom:function(t){e((function(e){e.mapZoom=t}))},changeMapTilt:function(t){e((function(e){e.mapTilt=t}))},changeMapType:function(t){e((function(e){e.mapType=t}))}}),l&&Object(P.jsx)(ut,{latitude:M,date:k,heliodon:L,animateSun:J,changeDate:function(t){var n=new Date(k);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()),e((function(e){e.date=n.toString()}))},changeTime:function(t){var n=new Date(k);n.setHours(t.getHours(),t.getMinutes()),e((function(e){e.date=n.toString()}))},changeLatitude:function(t){e((function(e){e.latitude=t,e.address=""}))},setHeliodon:function(t){e((function(e){e.heliodon=t}))},setSunAnimation:function(e){ee(e)}}),p&&Object(P.jsx)(dn,{city:ae}),f&&Object(P.jsx)(fn,{city:ae}),u&&Object(P.jsx)(cn,{city:ae,graphs:[a.MonthlyTemperatures,a.SunshineHours]}),ye&&Object(P.jsx)(vn,{openAboutUs:Pe}),Object(P.jsx)(ve.a,{trigger:["contextMenu"],overlay:Object(P.jsx)(wt,{city:ae,collectDailyLightSensorData:ke,collectYearlyLightSensorData:Te}),children:Object(P.jsx)("div",{children:Object(P.jsxs)(b.a,{shadows:!0,camera:{position:De,fov:90},style:{height:"calc(100vh - 70px)",backgroundColor:"black"},children:[Object(P.jsx)(z,{enabled:m,autoRotate:x,panCenter:Ce,orbitControlsRef:Le}),Object(P.jsxs)(o.Suspense,{fallback:null,children:[Object(P.jsx)("ambientLight",{intensity:.25,name:"Ambient Light"}),Object(P.jsx)("directionalLight",{name:"Directional Light",color:"white",position:[B.x,B.y,B.z],intensity:Re?.5:0,castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512}),(g||!m)&&Object(P.jsx)("gridHelper",{name:"Grid",args:[500,100,"gray","gray"]}),Object(P.jsx)(X,{}),Object(P.jsx)(pn,{city:ae,dailyLightSensorDataFlag:ce,yearlyLightSensorDataFlag:be}),O&&Object(P.jsx)(_,{}),Object(P.jsx)($,{}),v&&Object(P.jsx)(Ot,{}),Object(P.jsx)(U,{theme:S,night:!Re}),L&&Object(P.jsx)(fe,{hourAngle:W,declinationAngle:A,radius:10,date:k,latitude:D.toRadians(M)}),Se&&Object(P.jsx)(Q,{world:Se})]})]})})},"canvas-context-menu"),Object(P.jsx)(pt,{})]})},Sn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,529)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};l.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(wn,{})}),document.getElementById("root")),Sn()}},[[504,1,2]]]);
//# sourceMappingURL=main.1194600c.chunk.js.map