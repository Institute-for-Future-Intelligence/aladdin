(this.webpackJsonpaladdin=this.webpackJsonpaladdin||[]).push([[0],{209:function(e,t,n){},210:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(35),a=n.n(r),c=(n(209),n(30)),s=(n(210),n(41)),l=n(186),u=n(110),d=n(150),h=n(149),j=n(4);Object(h.b)();var b=Object(u.a)(Object(d.devtools)(Object(d.persist)((function(e,t,n){var i=function(t){return e(Object(h.a)(t))};return{set:i,showSceneSettings:!1,showSolarSettings:!1,grid:!1,axes:!0,groundImage:!1,groundColor:"forestgreen",heliodon:!1,address:"Natick, MA",latitude:42.2844063,longitude:-71.3488548,mapZoom:16,mapType:"roadmap",mapTilt:0,date:new Date(2021,5,22,12).toString(),worlds:{},getWorld:function(e){return t().worlds[e]},createNewWorld:function(){i((function(e){var t=[];t.push({type:"Foundation",cx:5,cy:0,lx:1,ly:2,height:.1,id:"f1"}),t.push({type:"Foundation",cx:5,cy:2,lx:2,ly:2,height:.2,id:"f2"});var n={name:"default",elements:t,cameraPosition:new j.Vector3(0,0,5)};e.worlds[n.name]=n}))}}}),{name:"aladdin-storage"}))),f=n(10);Object(s.b)({OrbitControls:l.a});var p,g,x,O,m,v,y,w=function(){var e=b((function(e){return e.set})),t=Object(s.e)(),n=t.camera,o=t.gl.domElement,r=Object(i.useRef)(null);Object(i.useEffect)((function(){var e=r.current;return e&&(e.target.set(0,0,0),e.addEventListener("end",a)),function(){null===e||void 0===e||e.removeEventListener("end",a)}}));var a=function(){e((function(e){var t=e.worlds.default;t&&(t.cameraPosition.x=n.position.x,t.cameraPosition.y=n.position.y,t.cameraPosition.z=n.position.z)}))};return Object(f.jsx)("orbitControls",{ref:r,args:[n,o],enableZoom:!0,maxAzimuthAngle:Math.PI,minAzimuthAngle:-Math.PI})},M=n(20),S=n(38),C=n.p+"static/media/daysky.66925efd.jpg",I=n.p+"static/media/nightsky.2ee37da6.jpg",k=function(e){var t=e.type,n=void 0===t?"day sky":t,o=Object(S.a)(e,["type"]),r=Object(i.useRef)(null),a=Object(i.useMemo)((function(){var e,t=new j.TextureLoader;switch(n){case"night sky":e=t.load(I);break;default:e=t.load(C)}return e}),[n]);return Object(f.jsxs)("mesh",Object(M.a)(Object(M.a)({},o),{},{ref:r,name:"Sky",scale:1,onClick:function(e){e.intersections.length>0&&(e.intersections[0].object===r.current&&console.log("Sky clicked"))},children:[Object(f.jsx)("sphereGeometry",{args:[1e3,16,16,0,2*Math.PI,0,Math.PI/2+.01]}),Object(f.jsx)("meshBasicMaterial",{map:a,side:j.DoubleSide,opacity:1,color:"skyblue"})]}))},T=n(342),P=function(e){var t=e.lineWidth,n=void 0===t?1:t,i=e.endPoint,o=void 0===i?1e3:i;return Object(f.jsxs)("mesh",{children:[Object(f.jsx)(T.a,{points:[new j.Vector3(-o,0,0),new j.Vector3(o,0,0)],color:"red",lineWidth:n}),Object(f.jsx)(T.a,{points:[new j.Vector3(0,-o,0),new j.Vector3(0,o,0)],color:"green",lineWidth:n}),Object(f.jsx)(T.a,{points:[new j.Vector3(0,0,-o),new j.Vector3(0,0,o)],color:"blue",lineWidth:n})]})},E=n(113),A=n.p+"static/media/compass.7ded737e.obj",z=n.p+"static/media/helvetiker_regular.typeface.9a3651b4.fnt",_=function(e){var t=e.scale,n=void 0===t?.01:t,o=Object(S.a)(e,["scale"]),r=Object(s.d)(E.a,A),a=Object(s.d)(j.FontLoader,z),c=Object(i.useRef)(null),l={font:a,height:0,size:.005},u=new j.MeshBasicMaterial({color:"white"}),d=new j.MeshBasicMaterial({color:"red"}),h=Object(s.e)().camera;return Object(s.c)((function(e){if(c.current){var t=new j.Vector3(.88,-.8,.1).unproject(h);c.current.position.set(t.x,t.y,t.z)}})),Object(f.jsxs)("mesh",Object(M.a)(Object(M.a)({},o),{},{ref:c,rotation:new j.Euler(-Math.PI/2,0,0),children:[Object(f.jsx)("mesh",{position:[-.001,.02,0],material:u,children:Object(f.jsx)("textGeometry",{args:["N",l]})}),Object(f.jsx)("mesh",{position:[-.0015,-.025,0],material:u,children:Object(f.jsx)("textGeometry",{args:["S",l]})}),Object(f.jsx)("mesh",{position:[-.025,-.002,0],material:u,children:Object(f.jsx)("textGeometry",{args:["W",l]})}),Object(f.jsx)("mesh",{position:[.02,-.002,0],material:u,children:Object(f.jsx)("textGeometry",{args:["E",l]})}),Object(f.jsx)("primitive",{object:r,scale:n,material:d})]}))},V=n(55),Z=n(336),F=function(){var e=b((function(e){return e.set})),t=b((function(e){return e.groundColor})),n=Object(i.useRef)();return Object(f.jsx)(Z.a,{receiveShadow:!0,ref:n,name:"Ground",onClick:function(t){t.intersections.length>0&&(t.intersections[0].object===n.current&&e((function(e){var t=e.worlds.default;if(t){var n,i=Object(V.a)(t.elements);try{for(i.s();!(n=i.n()).done;)n.value.selected=!1}catch(o){i.e(o)}finally{i.f()}}})))},rotation:[-Math.PI/2,0,0],position:[0,-.1,0],args:[1e4,1e4],children:Object(f.jsx)("meshStandardMaterial",{side:j.DoubleSide,attach:"material",color:t})})},L=n(3),D=n(8),R=function(){function e(){Object(L.a)(this,e)}return Object(D.a)(e,null,[{key:"UNIT_VECTOR_POS_X",get:function(){return new j.Vector3(1,0,0)}},{key:"UNIT_VECTOR_NEG_X",get:function(){return new j.Vector3(-1,0,0)}},{key:"UNIT_VECTOR_POS_Y",get:function(){return new j.Vector3(0,1,0)}},{key:"UNIT_VECTOR_NEG_Y",get:function(){return new j.Vector3(0,-1,0)}},{key:"UNIT_VECTOR_POS_Z",get:function(){return new j.Vector3(0,0,1)}},{key:"UNIT_VECTOR_NEG_Z",get:function(){return new j.Vector3(0,0,-1)}},{key:"ZERO_TOLERANCE",get:function(){return 1e-4}},{key:"HALF_PI",get:function(){return Math.PI/2}},{key:"TWO_PI",get:function(){return 2*Math.PI}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"toDegrees",value:function(e){return e*(180/Math.PI)}},{key:"sphericalToCartesianZ",value:function(e){var t=e.x*Math.cos(e.z),n=t*Math.cos(e.y),i=t*Math.sin(e.y),o=e.x*Math.sin(e.z);return e.set(n,i,o),e}}]),e}(),G=23.45/180*Math.PI,N=function(e){var t=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5);return G*Math.sin(R.TWO_PI*(284+t)/365.25)},W=function(e,t,n,i){var o=Math.asin(Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(t)*Math.cos(i)),r=Math.sin(t)*Math.cos(n),a=Math.cos(i)*Math.sin(n)-Math.cos(t)*Math.cos(n)*Math.sin(i),c=Math.atan2(a,r),s=new j.Vector3(e,c,o);return R.sphericalToCartesianZ(s),s.setX(-s.x),s},B=function(e){var t=e.hourAngle,n=e.declinationAngle,o=e.radius,r=void 0===o?10:o,a=e.date,s=void 0===a?new Date:a,l=e.latitude,u=void 0===l?42/180*Math.PI:l;Object(i.useEffect)((function(){return function(){}}),[s,u]);var d=Object(i.useMemo)((function(){for(var e=[],t=[],n=2*Math.PI/72,i=0,o=0;o<R.TWO_PI+n/2;o+=n){var a=Math.min(o,R.TWO_PI),c=.05*r;e.push(R.sphericalToCartesianZ(new j.Vector3(r,a,0))),e.push(R.sphericalToCartesianZ(new j.Vector3(r+c,a,0))),e.push(R.sphericalToCartesianZ(new j.Vector3(r,a+n,0))),e.push(R.sphericalToCartesianZ(new j.Vector3(r+c,a,0))),e.push(R.sphericalToCartesianZ(new j.Vector3(r+c,a+n,0))),e.push(R.sphericalToCartesianZ(new j.Vector3(r,a+n,0)));var s=void 0;R.TWO_PI-a>R.ZERO_TOLERANCE&&(c=.05*r+(i%3===0?.2:0),(s=new j.Vector3(r,a,0)).z=.002,t.push(R.sphericalToCartesianZ(s)),(s=new j.Vector3(r+c,a,0)).z=.002,t.push(R.sphericalToCartesianZ(s))),i++}for(var l=3*e.length,u=new Float32Array(l),d=new Float32Array(l),h=new Float32Array(l),b=0;b<e.length;b++){var f=3*b;u[f]=e[b].x,u[f+1]=e[b].y,u[f+2]=e[b].z,d[f]=0,d[f+1]=1,d[f+2]=0;var p=Math.floor(b/18)%2===0?.2:1;h[f]=p,h[f+1]=p,h[f+2]=p}return[u,d,h,t]}),[r]),h=Object(c.a)(d,4),b=h[0],p=h[1],g=h[2],x=h[3],O=Object(i.useMemo)((function(){for(var e=R.TWO_PI/96,t=[],i=-Math.PI;i<Math.PI+e/2;i+=e){var o=W(r,i,n,u);o.z>-.1&&t.push(o)}return t}),[u,r,n]),m=function(e){for(var t=R.TWO_PI/96,n=[],i=-Math.PI;i<Math.PI+t/2;i+=t){var o=W(r,i,e,u);o.z>-.1&&n.push(o)}return n},v=Object(i.useMemo)((function(){for(var e=N(new Date(2021,11,22)),t=(N(new Date(2021,5,22))-e)/5,n=[],i=0;i<=5;i++)n.push(m(e+i*t));return n}),[u,r]),y=Object(i.useMemo)((function(){return W(r,t,n,u)}),[u,n,t,r]),w=Object(i.useMemo)((function(){for(var e=2*G/12,t=R.TWO_PI/96,n=new j.BufferGeometry,i=0,o=[],a=[],c=-G;c<G-e/2;c+=e)for(var s=-Math.PI;s<Math.PI-t/2;s+=t){var l=s+t,d=c+e;l>Math.PI&&(l=Math.PI),d>G&&(d=G);var h=W(r,s,c,u),b=W(r,l,c,u),f=W(r,l,d,u),p=W(r,s,d,u);(h.z>=0||b.z>=0||f.z>=0||p.z>=0)&&(o.push(h,b,f,p),a.push(i),a.push(i+1),a.push(i+2),a.push(i),a.push(i+2),a.push(i+3),i+=4)}return n.setFromPoints(o),n.setIndex(new j.BufferAttribute(new Uint16Array(a),1)),n}),[u,r]);return Object(f.jsxs)("mesh",{rotation:new j.Euler(-Math.PI/2,0,0),children:[Object(f.jsxs)("mesh",{children:[Object(f.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(f.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:b.length/3,array:b,itemSize:3}),Object(f.jsx)("bufferAttribute",{attachObject:["attributes","normal"],count:p.length/3,array:p,itemSize:3}),Object(f.jsx)("bufferAttribute",{attachObject:["attributes","color"],count:g.length/3,array:g,itemSize:3})]}),Object(f.jsx)("meshBasicMaterial",{side:j.DoubleSide,vertexColors:!0,polygonOffset:!0,polygonOffsetFactor:-.7,polygonOffsetUnits:-2})]}),Object(f.jsx)("lineSegments",{args:[(new j.BufferGeometry).setFromPoints(x),new j.MeshBasicMaterial({color:0})]}),Object(f.jsxs)("mesh",{children:[O.length>3&&Object(f.jsx)(T.a,{lineWidth:2,points:O,color:"yellow"}),v.filter((function(e){return e.length>3})).map((function(e,t){return Object(f.jsx)(T.a,{opacity:0===t||5===t?1:.5,lineWidth:0===t||5===t?1:.5,points:e,color:"#999"},t)})),Object(f.jsx)("mesh",{args:[w,new j.MeshBasicMaterial({side:j.DoubleSide,color:new j.Color(1,1,0),transparent:!0,opacity:.5,clippingPlanes:[new j.Plane(R.UNIT_VECTOR_POS_Y,0)]})]}),Object(f.jsx)("mesh",{position:y,args:[new j.SphereGeometry(.25,20,20),new j.MeshBasicMaterial({color:4294967040})]})]})]})},H=n(187),U=n.p+"static/media/house.bec5806a.mtl",Y=n.p+"static/media/house.1682689d.obj",X=function(e){var t=e.scale,n=void 0===t?.5:t,o=Object(S.a)(e,["scale"]),r=Object(i.useRef)(null),a=Object(s.d)(H.a,U),c=Object(s.d)(E.a,Y,(function(e){a.preload(),e.setMaterials(a)}));return c&&(c.castShadow=!0,c.receiveShadow=!0,c.traverse((function(e){e instanceof j.Mesh&&(e.castShadow=!0,e.receiveShadow=!0)}))),Object(f.jsx)("mesh",Object(M.a)(Object(M.a)({},o),{},{ref:r,position:[-3,0,3],children:Object(f.jsx)("primitive",{object:c,scale:n})}))},q=n.p+"static/media/aladdin-logo.96b59d24.png",J=n.p+"static/media/ifi-logo.eb360016.png",K=n(45),Q=n(46),$=n(341),ee=n(343),te=n(344),ne=n(345);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function re(e,t){var n=e.title,o=e.titleId,r=oe(e,["title","titleId"]);return i.createElement("svg",ie({t:1613755944969,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5967,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,ref:t,"aria-labelledby":o},r),n?i.createElement("title",{id:o},n):null,p||(p=i.createElement("defs",null,i.createElement("style",{type:"text/css"}))),g||(g=i.createElement("path",{d:"M194.187431 235.50871m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5968})),x||(x=i.createElement("path",{d:"M347.505182 165.510915h552.305182v139.99559H347.505182z","p-id":5969})),O||(O=i.createElement("path",{d:"M194.187431 512.1129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5970})),m||(m=i.createElement("path",{d:"M347.505182 442.115105h552.305182v139.99559H347.505182z","p-id":5971})),v||(v=i.createElement("path",{d:"M194.187431 788.49129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5972})),y||(y=i.createElement("path",{d:"M347.505182 718.719294h552.305182v139.99559H347.505182z","p-id":5973})))}var ae,ce,se,le,ue,de,he,je,be=i.forwardRef(re),fe=(n.p,n(131),Object(Q.a)(be)(ae||(ae=Object(K.a)(["\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  height: 40px;\n  width: 40px;\n  transition: 0.5s;\n  fill: brown;\n\n  &:hover {\n    fill: white;\n  }\n"])))),pe=function(){var e=b((function(e){return e.set})),t=b((function(e){return e.showSceneSettings})),n=b((function(e){return e.showSolarSettings})),i=Object(f.jsxs)($.a,{children:[Object(f.jsx)($.a.Item,{children:Object(f.jsx)(ee.b,{children:Object(f.jsx)(te.a,{checked:t,onChange:function(t){e((function(e){e.showSceneSettings=t.target.checked}))},children:"Scene Settings"})})},"scene-settings-switch"),Object(f.jsx)($.a.Item,{children:Object(f.jsx)(ee.b,{children:Object(f.jsx)(te.a,{checked:n,onChange:function(t){e((function(e){e.showSolarSettings=t.target.checked}))},children:"Solar Settings"})})},"solar-settings-switch")]});return Object(f.jsx)(ne.a,{overlay:i,trigger:["click"],children:Object(f.jsx)(fe,{})})},ge=n(346),xe=n(202),Oe=n(92),me={width:"400px",height:"400px"},ve=function(e){var t=e.setLatitude,n=e.setLongitude,o=e.setZoom,r=e.setTilt,a=e.setType,s=b((function(e){return e.latitude})),l=b((function(e){return e.longitude})),u=b((function(e){return e.mapZoom})),d=b((function(e){return e.mapType})),h=b((function(e){return e.mapTilt})),j=Object(i.useState)(null),p=Object(c.a)(j,2),g=p[0],x=p[1],O=Object(i.useCallback)((function(e){x(e)}),[]),m=Object(i.useCallback)((function(e){x(null)}),[]),v={lat:s,lng:l};return Object(f.jsx)(Oe.a,{mapContainerStyle:me,mapTypeId:d,center:v,zoom:u,tilt:h,onLoad:O,onUnmount:m,onCenterChanged:function(){if(g){var e=g.getCenter(),i=e.lat();i!==s&&(null===t||void 0===t||t(i));var o=e.lng();o!==l&&(null===n||void 0===n||n(o))}},onZoomChanged:function(){if(g){var e=g.getZoom();e!==u&&(null===o||void 0===o||o(e))}},onTiltChanged:function(){if(g){var e=g.getTilt();e!==h&&(null===r||void 0===r||r(e))}},onMapTypeIdChanged:function(){if(g){var e=g.getMapTypeId();e!==d&&(null===a||void 0===a||a(e))}},children:Object(f.jsx)(f.Fragment,{})})},ye=Object(i.memo)(ve),we=n(337),Me=Object(Q.a)(we.a)(ce||(ce=Object(K.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 999;\n"]))),Se=["places"],Ce=Q.a.div(se||(se=Object(K.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),Ie=Q.a.div(le||(le=Object(K.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 420px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),ke=Q.a.div(ue||(ue=Object(K.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),Te=function(e){var t=e.grid,n=e.axes,o=e.groundImage,r=e.groundColor,a=e.setGrid,c=e.setAxes,s=e.setGroundImage,l=e.setGroundColor,u=e.changeLatitude,d=e.changeLongitude,h=e.changeMapZoom,j=e.changeMapTilt,p=e.changeMapType,g=b((function(e){return e.set})),x=b((function(e){return e.latitude})),O=b((function(e){return e.longitude})),m=b((function(e){return e.mapZoom})),v=b((function(e){return e.address})),y=Object(i.useRef)(),w=Object(Oe.c)({id:"google-map-script",googleMapsApiKey:"AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs",libraries:Se}),M=w.isLoaded,S=w.loadError;return Object(f.jsx)(Ce,{children:Object(f.jsxs)(Ie,{children:[Object(f.jsxs)(ke,{children:[Object(f.jsx)("span",{children:"Scene Settings"}),Object(f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){g((function(e){e.showSceneSettings=!1}))},children:"Close"})]}),Object(f.jsxs)(ee.b,{direction:"vertical",children:[Object(f.jsxs)(ee.b,{style:{padding:"20px"},align:"center",size:20,children:[Object(f.jsxs)(ee.b,{direction:"vertical",children:[Object(f.jsxs)(ee.b,{children:[Object(f.jsx)(ee.b,{style:{width:"40px"},children:"Axes:"}),Object(f.jsx)(ge.a,{title:"Show axes",checked:n,onChange:function(e){null===c||void 0===c||c(e)}})]}),Object(f.jsxs)(ee.b,{children:[Object(f.jsx)(ee.b,{style:{width:"40px"},children:"Grid:"}),Object(f.jsx)(ge.a,{title:"Show ground grid",checked:t,onChange:function(e){null===a||void 0===a||a(e)}})]}),Object(f.jsxs)(ee.b,{children:[Object(f.jsx)(ee.b,{style:{width:"40px"},children:"Image:"}),Object(f.jsx)(ge.a,{title:"Show ground image",checked:o,onChange:function(e){null===s||void 0===s||s(e)}})]})]}),Object(f.jsxs)("div",{children:["Ground Color",Object(f.jsx)("br",{}),Object(f.jsx)(xe.a,{color:r,onChangeComplete:function(e){null===l||void 0===l||l(e.hex)}})]})]}),M&&Object(f.jsx)(ee.b,{children:Object(f.jsx)("div",{children:Object(f.jsx)(Oe.b,{onLoad:function(e){y.current=e},onPlacesChanged:function(){var e,t=null===(e=y.current)||void 0===e?void 0:e.getPlaces();t&&t.length>0&&g((function(e){var n=t[0].geometry;n&&(e.latitude=n.location.lat(),e.longitude=n.location.lng()),e.address=t[0].formatted_address}))},children:Object(f.jsx)("input",{type:"text",placeholder:v,style:{boxSizing:"border-box",border:"1px solid transparent",width:"400px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"relative"}})})})}),M?Object(f.jsx)(ee.b,{children:Object(f.jsxs)("div",{children:[Object(f.jsx)(ye,{setLatitude:u,setLongitude:d,setZoom:h,setTilt:j,setType:p}),"Coordinates: (",x.toFixed(4),"\xb0, ",O.toFixed(4),"\xb0), Zoom: ",m]})}):Object(f.jsx)(Me,{}),S&&Object(f.jsx)(ee.b,{children:Object(f.jsx)("div",{children:"Map cannot be loaded right now, sorry."})})]})]})})},Pe=n(155),Ee=n(338),Ae=n(340),ze=n(52),_e=n.n(ze),Ve=Q.a.div(de||(de=Object(K.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),Ze=Q.a.div(he||(he=Object(K.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 640px;\n  padding: 0;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),Fe=Q.a.div(je||(je=Object(K.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),Le=function(e){var t=e.heliodon,n=e.latitude,o=e.date,r=e.animateSun,a=e.setHeliodon,c=e.setSunAnimation,s=e.changeLatitude,l=e.changeDate,u=e.changeTime,d=b((function(e){return e.set})),h=Object(i.useRef)(0),j=Object(i.useRef)(-1);Object(i.useEffect)((function(){return h.current=requestAnimationFrame(p),function(){cancelAnimationFrame(h.current)}}),[r]);var p=function e(){if(r){h.current=requestAnimationFrame(e);var t=Date.now();if(t-j.current>100){var n=o.getDate();o.setHours(o.getHours(),o.getMinutes()+15),o.setDate(n),null===u||void 0===u||u(o),j.current=t}}};return Object(f.jsx)(Ve,{children:Object(f.jsxs)(Ze,{children:[Object(f.jsxs)(Fe,{children:[Object(f.jsx)("span",{children:"Solar Settings"}),Object(f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){d((function(e){e.showSolarSettings=!1}))},children:"Close"})]}),Object(f.jsxs)(ee.b,{style:{padding:"20px"},align:"baseline",size:20,children:[Object(f.jsxs)("div",{children:["Heliodon",Object(f.jsx)("br",{}),Object(f.jsx)(ge.a,{checked:t,onChange:function(e){null===a||void 0===a||a(e)}})]}),Object(f.jsxs)("div",{children:["Animate",Object(f.jsx)("br",{}),Object(f.jsx)(ge.a,{checked:r,onChange:function(e){null===c||void 0===c||c(e)}})]}),Object(f.jsxs)("div",{children:["Date",Object(f.jsx)("br",{}),Object(f.jsx)(Pe.a,{value:_e()(o),onChange:function(e){e&&(null===l||void 0===l||l(e.toDate()))}})]}),Object(f.jsxs)("div",{children:["Time",Object(f.jsx)("br",{}),Object(f.jsx)(Ee.a,{value:_e()(o,"HH:mm"),format:"HH:mm",onChange:function(e){e&&(null===u||void 0===u||u(e.toDate()))}})]}),Object(f.jsxs)("div",{children:["Latitude: ",n.toFixed(4),"\xb0",Object(f.jsx)(Ae.a,{style:{width:"150px"},marks:{"-90":"-90\xb0",0:"0\xb0",90:"90\xb0"},min:-90,max:90,tooltipVisible:!1,defaultValue:n,onChange:function(e){null===s||void 0===s||s(e)}})]})]})]})})},De=(n(203),function(){window.open("https://intofuture.org","_blank")}),Re=n(201),Ge=n.n(Re),Ne=function(){return Object(f.jsx)(Ge.a,{location:"bottom",buttonText:"Accept",cookieName:"AladdinCookieName",style:{background:"#2B373B",textAlign:"center",zIndex:99999},buttonStyle:{color:"#4e503b",fontSize:"12px"},expires:150,children:"By clicking Accept, you agree to our use of cookies to improve your experience with Aladdin."})},We=n(339),Be=function(){var e,t=b((function(e){return e.latitude})),n=b((function(e){return e.longitude})),i=b((function(e){return e.mapZoom})),o=Object(We.a)("https://maps.googleapis.com/maps/api/staticmap?maptype=satellite&center="+t+","+n+"&zoom="+i+"&size="+(e=640)+"x"+e+"&scale=2&key=AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs");return Object(f.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],children:[Object(f.jsx)("planeBufferGeometry",{args:[100,100]}),Object(f.jsx)("meshStandardMaterial",{attach:"material",side:j.DoubleSide,map:o,opacity:1})]})},He=function(){var e=b((function(e){return e.set})),t=b((function(e){return e.worlds})),n=b((function(e){return e.getWorld})),o=b((function(e){return e.createNewWorld})),r=b((function(e){return e.showSceneSettings})),a=b((function(e){return e.showSolarSettings})),l=b((function(e){return e.axes})),u=b((function(e){return e.grid})),d=b((function(e){return e.groundImage})),h=b((function(e){return e.groundColor})),p=b((function(e){return e.heliodon})),g=b((function(e){return e.latitude})),x=new Date(b((function(e){return e.date}))),O=Object(i.useState)(0),m=Object(c.a)(O,2),v=m[0],y=m[1],M=Object(i.useState)(0),S=Object(c.a)(M,2),C=S[0],I=S[1],T=Object(i.useState)(new j.Vector3(0,2,2)),E=Object(c.a)(T,2),A=E[0],z=E[1],V=Object(i.useState)(!1),Z=Object(c.a)(V,2),L=Z[0],D=Z[1],G=t.default;Object(i.useEffect)((function(){n("default")||o()})),Object(i.useEffect)((function(){z(W(10,v,C,R.toRadians(g)).applyEuler(new j.Euler(-Math.PI/2,0,0)))}),[g,v,C]);var H=x.toString();Object(i.useMemo)((function(){var e;y((60*(e=x).getHours()+e.getMinutes()-720)/720*Math.PI),I(N(x))}),[H]);var U=new j.Vector3(0,0,5);G&&U.set(G.cameraPosition.x,G.cameraPosition.y,G.cameraPosition.z),console.log("x");var Y=A.y>0;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsxs)("div",{style:{backgroundColor:"lightblue",height:"72px",paddingTop:"10px",fontSize:"30px"},children:[Object(f.jsx)("img",{alt:"Aladdin Logo",src:q,height:"50px",style:{verticalAlign:"middle"}}),Object(f.jsx)("span",{style:{paddingLeft:"20px",verticalAlign:"middle"},children:"Aladdin"})]}),Object(f.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:999,fontSize:"12px",color:"white"},children:[Object(f.jsx)("img",{alt:"IFI Logo",src:J,height:"40px",style:{verticalAlign:"bottom",cursor:"pointer"},title:"Go to Institute for Future Intelligence",onClick:De}),"\xa0\xa0 Institute for Future Intelligence, \xa9",(new Date).getFullYear(),". Version ","0.0.1"]}),Object(f.jsx)(pe,{}),r&&Object(f.jsx)(Te,{axes:l,grid:u,groundImage:d,groundColor:h,setAxes:function(t){e((function(e){e.axes=t}))},setGrid:function(t){e((function(e){e.grid=t}))},setGroundImage:function(t){e((function(e){e.groundImage=t}))},setGroundColor:function(t){e((function(e){e.groundColor=t}))},changeLatitude:function(t){e((function(e){e.latitude=t}))},changeLongitude:function(t){e((function(e){e.longitude=t}))},changeMapZoom:function(t){e((function(e){e.mapZoom=t}))},changeMapTilt:function(t){e((function(e){e.mapTilt=t}))},changeMapType:function(t){e((function(e){e.mapType=t}))}}),a&&Object(f.jsx)(Le,{latitude:g,date:x,heliodon:p,animateSun:L,changeDate:function(t){var n=new Date(x);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()),e((function(e){e.date=n.toString()}))},changeTime:function(t){var n=new Date(x);n.setHours(t.getHours(),t.getMinutes()),e((function(e){e.date=n.toString()}))},changeLatitude:function(t){e((function(e){e.latitude=t,e.address=""}))},setHeliodon:function(t){e((function(e){e.heliodon=t}))},setSunAnimation:function(e){D(e)}}),Object(f.jsx)(s.a,{shadows:!0,camera:{position:U,fov:90},style:{height:"calc(100vh - 70px)",backgroundColor:"black"},children:Object(f.jsxs)(i.Suspense,{fallback:null,children:[Object(f.jsx)(w,{}),Object(f.jsx)("ambientLight",{intensity:.25}),Object(f.jsx)("directionalLight",{color:"white",position:[A.x,A.y,A.z],intensity:Y?.5:0,castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512}),u&&Object(f.jsx)("gridHelper",{args:[500,100,"gray","gray"]}),Object(f.jsx)(_,{}),Object(f.jsx)(X,{}),l&&Object(f.jsx)(P,{}),Object(f.jsx)(F,{}),d&&Object(f.jsx)(Be,{}),Object(f.jsx)(k,{type:Y?"day sky":"night sky"}),p&&Object(f.jsx)(B,{hourAngle:v,declinationAngle:C,radius:10,date:x,latitude:R.toRadians(g)})]})}),Object(f.jsx)(Ne,{})]})},Ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,347)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))};a.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(He,{})}),document.getElementById("root")),Ue()}},[[331,1,2]]]);
//# sourceMappingURL=main.8b5900f9.chunk.js.map