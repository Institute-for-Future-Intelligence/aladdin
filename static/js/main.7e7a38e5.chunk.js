(this.webpackJsonpaladdin=this.webpackJsonpaladdin||[]).push([[0],{210:function(e,t,n){},211:function(e,t,n){},332:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n.n(i),r=n(35),c=n.n(r),a=(n(210),n(30)),s=(n(211),n(41)),l=n(187),u=n(111),d=n(151),h=n(150),j=n(4);Object(h.b)();var f=Object(u.a)(Object(d.devtools)(Object(d.persist)((function(e,t,n){var i=function(t){return e(Object(h.a)(t))};return{set:i,showGroundSettings:!1,showHeliodonSettings:!1,grid:!1,axes:!0,groundImage:!1,groundColor:"forestgreen",theme:"Default",heliodon:!1,address:"Natick, MA",latitude:42.2844063,longitude:-71.3488548,mapZoom:16,mapType:"roadmap",mapTilt:0,date:new Date(2021,5,22,12).toString(),clickObjectType:null,worlds:{},getWorld:function(e){return t().worlds[e]},createNewWorld:function(){i((function(e){var t=[];t.push({type:"Foundation",cx:5,cy:0,lx:1,ly:2,height:.1,id:"f1"}),t.push({type:"Foundation",cx:5,cy:2,lx:2,ly:2,height:.2,id:"f2"});var n={name:"default",elements:t,cameraPosition:new j.Vector3(0,0,5)};e.worlds[n.name]=n}))}}}),{name:"aladdin-storage"}))),b=n(8);Object(s.b)({OrbitControls:l.a});var g,p,x=function(){var e=f((function(e){return e.set})),t=Object(s.e)(),n=t.camera,o=t.gl.domElement,r=Object(i.useRef)(null);Object(i.useEffect)((function(){var e=r.current;return e&&(e.target.set(0,0,0),e.addEventListener("end",c)),function(){null===e||void 0===e||e.removeEventListener("end",c)}}));var c=function(){e((function(e){var t=e.worlds.default;t&&(t.cameraPosition.x=n.position.x,t.cameraPosition.y=n.position.y,t.cameraPosition.z=n.position.z)}))};return Object(b.jsx)("orbitControls",{ref:r,args:[n,o],enableZoom:!0,maxAzimuthAngle:Math.PI,minAzimuthAngle:-Math.PI})},O=n(20),m=n(38),v=n.p+"static/media/daysky.66925efd.jpg",y=n.p+"static/media/nightsky.2ee37da6.jpg",w=n.p+"static/media/desert.e1e10657.jpg",M=n.p+"static/media/desert-night.6f0f274c.jpg",S=n.p+"static/media/grassland.d74bba81.jpg",k=n.p+"static/media/grassland-night.fa2ff11e.jpg";!function(e){e.default="Default",e.desert="Desert",e.grassland="Grassland"}(g||(g={})),function(e){e.sky="Sky",e.ground="Ground"}(p||(p={}));var C,I,T,P,E,z,A,G=function(e){var t=e.theme,n=void 0===t?"Default":t,o=e.night,r=void 0!==o&&o,c=Object(m.a)(e,["theme","night"]),a=f((function(e){return e.set})),s=Object(i.useRef)(null),l=Object(i.useMemo)((function(){var e,t=new j.TextureLoader;switch(n){case"Desert":e=t.load(r?M:w);break;case"Grassland":e=t.load(r?k:S);break;default:e=t.load(r?y:v)}return e}),[n,r]),u=function(e){e.intersections.length>0&&(e.intersections[0].object===s.current&&a((function(e){e.clickObjectType=p.sky})))};return Object(b.jsxs)("mesh",Object(O.a)(Object(O.a)({},c),{},{ref:s,name:"Sky",scale:1,onContextMenu:function(e){u(e)},onClick:function(e){u(e)},children:[Object(b.jsx)("sphereGeometry",{args:[1e3,16,16,0,2*Math.PI,0,Math.PI/2+.01]}),Object(b.jsx)("meshBasicMaterial",{map:l,side:j.DoubleSide,opacity:1,color:"skyblue"})]}))},_=n(343),V=function(e){var t=e.lineWidth,n=void 0===t?1:t,i=e.endPoint,o=void 0===i?1e3:i;return Object(b.jsxs)("mesh",{children:[Object(b.jsx)(_.a,{points:[new j.Vector3(-o,0,0),new j.Vector3(o,0,0)],color:"red",lineWidth:n}),Object(b.jsx)(_.a,{points:[new j.Vector3(0,-o,0),new j.Vector3(0,o,0)],color:"green",lineWidth:n}),Object(b.jsx)(_.a,{points:[new j.Vector3(0,0,-o),new j.Vector3(0,0,o)],color:"blue",lineWidth:n})]})},D=n(114),Z=n.p+"static/media/compass.7ded737e.obj",L=n.p+"static/media/helvetiker_regular.typeface.9a3651b4.fnt",F=function(e){var t=e.scale,n=void 0===t?.01:t,o=Object(m.a)(e,["scale"]),r=Object(s.d)(D.a,Z),c=Object(s.d)(j.FontLoader,L),a=Object(i.useRef)(null),l={font:c,height:0,size:.005},u=new j.MeshBasicMaterial({color:"white"}),d=new j.MeshBasicMaterial({color:"red"}),h=Object(s.e)().camera;return Object(s.c)((function(e){if(a.current){var t=new j.Vector3(.88,-.8,.1).unproject(h);a.current.position.set(t.x,t.y,t.z)}})),Object(b.jsxs)("mesh",Object(O.a)(Object(O.a)({},o),{},{ref:a,rotation:new j.Euler(-Math.PI/2,0,0),children:[Object(b.jsx)("mesh",{position:[-.001,.02,0],material:u,children:Object(b.jsx)("textGeometry",{args:["N",l]})}),Object(b.jsx)("mesh",{position:[-.0015,-.025,0],material:u,children:Object(b.jsx)("textGeometry",{args:["S",l]})}),Object(b.jsx)("mesh",{position:[-.025,-.002,0],material:u,children:Object(b.jsx)("textGeometry",{args:["W",l]})}),Object(b.jsx)("mesh",{position:[.02,-.002,0],material:u,children:Object(b.jsx)("textGeometry",{args:["E",l]})}),Object(b.jsx)("primitive",{object:r,scale:n,material:d})]}))},H=n(55),R=n(337),N=function(){var e=f((function(e){return e.set})),t=f((function(e){return e.groundColor})),n=Object(i.useRef)();return Object(b.jsx)(R.a,{receiveShadow:!0,ref:n,name:"Ground",onContextMenu:function(t){t.intersections.length>0&&(t.intersections[0].object===n.current&&e((function(e){e.clickObjectType=p.ground})))},onClick:function(t){t.intersections.length>0&&(t.intersections[0].object===n.current&&(e((function(e){e.clickObjectType=p.ground})),e((function(e){var t=e.worlds.default;if(t){var n,i=Object(H.a)(t.elements);try{for(i.s();!(n=i.n()).done;)n.value.selected=!1}catch(o){i.e(o)}finally{i.f()}}}))))},rotation:[-Math.PI/2,0,0],position:[0,-.1,0],args:[1e4,1e4],children:Object(b.jsx)("meshStandardMaterial",{side:j.DoubleSide,attach:"material",color:t})})},W=n(3),B=n(9),U=function(){function e(){Object(W.a)(this,e)}return Object(B.a)(e,null,[{key:"UNIT_VECTOR_POS_X",get:function(){return new j.Vector3(1,0,0)}},{key:"UNIT_VECTOR_NEG_X",get:function(){return new j.Vector3(-1,0,0)}},{key:"UNIT_VECTOR_POS_Y",get:function(){return new j.Vector3(0,1,0)}},{key:"UNIT_VECTOR_NEG_Y",get:function(){return new j.Vector3(0,-1,0)}},{key:"UNIT_VECTOR_POS_Z",get:function(){return new j.Vector3(0,0,1)}},{key:"UNIT_VECTOR_NEG_Z",get:function(){return new j.Vector3(0,0,-1)}},{key:"ZERO_TOLERANCE",get:function(){return 1e-4}},{key:"HALF_PI",get:function(){return Math.PI/2}},{key:"TWO_PI",get:function(){return 2*Math.PI}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"toDegrees",value:function(e){return e*(180/Math.PI)}},{key:"sphericalToCartesianZ",value:function(e){var t=e.x*Math.cos(e.z),n=t*Math.cos(e.y),i=t*Math.sin(e.y),o=e.x*Math.sin(e.z);return e.set(n,i,o),e}}]),e}(),Y=23.45/180*Math.PI,X=function(e){var t=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5);return Y*Math.sin(U.TWO_PI*(284+t)/365.25)},q=function(e,t,n,i){var o=Math.asin(Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(t)*Math.cos(i)),r=Math.sin(t)*Math.cos(n),c=Math.cos(i)*Math.sin(n)-Math.cos(t)*Math.cos(n)*Math.sin(i),a=Math.atan2(c,r),s=new j.Vector3(e,a,o);return U.sphericalToCartesianZ(s),s.setX(-s.x),s},J=function(e){var t=e.hourAngle,n=e.declinationAngle,o=e.radius,r=void 0===o?10:o,c=e.date,s=void 0===c?new Date:c,l=e.latitude,u=void 0===l?42/180*Math.PI:l;Object(i.useEffect)((function(){return function(){}}),[s,u]);var d=Object(i.useMemo)((function(){for(var e=[],t=[],n=2*Math.PI/72,i=0,o=0;o<U.TWO_PI+n/2;o+=n){var c=Math.min(o,U.TWO_PI),a=.05*r;e.push(U.sphericalToCartesianZ(new j.Vector3(r,c,0))),e.push(U.sphericalToCartesianZ(new j.Vector3(r+a,c,0))),e.push(U.sphericalToCartesianZ(new j.Vector3(r,c+n,0))),e.push(U.sphericalToCartesianZ(new j.Vector3(r+a,c,0))),e.push(U.sphericalToCartesianZ(new j.Vector3(r+a,c+n,0))),e.push(U.sphericalToCartesianZ(new j.Vector3(r,c+n,0)));var s=void 0;U.TWO_PI-c>U.ZERO_TOLERANCE&&(a=.05*r+(i%3===0?.2:0),(s=new j.Vector3(r,c,0)).z=.002,t.push(U.sphericalToCartesianZ(s)),(s=new j.Vector3(r+a,c,0)).z=.002,t.push(U.sphericalToCartesianZ(s))),i++}for(var l=3*e.length,u=new Float32Array(l),d=new Float32Array(l),h=new Float32Array(l),f=0;f<e.length;f++){var b=3*f;u[b]=e[f].x,u[b+1]=e[f].y,u[b+2]=e[f].z,d[b]=0,d[b+1]=1,d[b+2]=0;var g=Math.floor(f/18)%2===0?.2:1;h[b]=g,h[b+1]=g,h[b+2]=g}return[u,d,h,t]}),[r]),h=Object(a.a)(d,4),f=h[0],g=h[1],p=h[2],x=h[3],O=Object(i.useMemo)((function(){for(var e=U.TWO_PI/96,t=[],i=-Math.PI;i<Math.PI+e/2;i+=e){var o=q(r,i,n,u);o.z>-.1&&t.push(o)}return t}),[u,r,n]),m=function(e){for(var t=U.TWO_PI/96,n=[],i=-Math.PI;i<Math.PI+t/2;i+=t){var o=q(r,i,e,u);o.z>-.1&&n.push(o)}return n},v=Object(i.useMemo)((function(){for(var e=X(new Date(2021,11,22)),t=(X(new Date(2021,5,22))-e)/5,n=[],i=0;i<=5;i++)n.push(m(e+i*t));return n}),[u,r]),y=Object(i.useMemo)((function(){return q(r,t,n,u)}),[u,n,t,r]),w=Object(i.useMemo)((function(){for(var e=2*Y/12,t=U.TWO_PI/96,n=new j.BufferGeometry,i=0,o=[],c=[],a=-Y;a<Y-e/2;a+=e)for(var s=-Math.PI;s<Math.PI-t/2;s+=t){var l=s+t,d=a+e;l>Math.PI&&(l=Math.PI),d>Y&&(d=Y);var h=q(r,s,a,u),f=q(r,l,a,u),b=q(r,l,d,u),g=q(r,s,d,u);(h.z>=0||f.z>=0||b.z>=0||g.z>=0)&&(o.push(h,f,b,g),c.push(i),c.push(i+1),c.push(i+2),c.push(i),c.push(i+2),c.push(i+3),i+=4)}return n.setFromPoints(o),n.setIndex(new j.BufferAttribute(new Uint16Array(c),1)),n}),[u,r]);return Object(b.jsxs)("mesh",{rotation:new j.Euler(-Math.PI/2,0,0),children:[Object(b.jsxs)("mesh",{children:[Object(b.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(b.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:f.length/3,array:f,itemSize:3}),Object(b.jsx)("bufferAttribute",{attachObject:["attributes","normal"],count:g.length/3,array:g,itemSize:3}),Object(b.jsx)("bufferAttribute",{attachObject:["attributes","color"],count:p.length/3,array:p,itemSize:3})]}),Object(b.jsx)("meshBasicMaterial",{side:j.DoubleSide,vertexColors:!0,polygonOffset:!0,polygonOffsetFactor:-.7,polygonOffsetUnits:-2})]}),Object(b.jsx)("lineSegments",{args:[(new j.BufferGeometry).setFromPoints(x),new j.MeshBasicMaterial({color:0})]}),Object(b.jsxs)("mesh",{children:[O.length>3&&Object(b.jsx)(_.a,{lineWidth:2,points:O,color:"yellow"}),v.filter((function(e){return e.length>3})).map((function(e,t){return Object(b.jsx)(_.a,{opacity:0===t||5===t?1:.5,lineWidth:0===t||5===t?1:.5,points:e,color:"#999"},t)})),Object(b.jsx)("mesh",{args:[w,new j.MeshBasicMaterial({side:j.DoubleSide,color:new j.Color(1,1,0),transparent:!0,opacity:.5,clippingPlanes:[new j.Plane(U.UNIT_VECTOR_POS_Y,0)]})]}),Object(b.jsx)("mesh",{position:y,args:[new j.SphereGeometry(.25,20,20),new j.MeshBasicMaterial({color:4294967040})]})]})]})},K=n(188),Q=n.p+"static/media/house.bec5806a.mtl",$=n.p+"static/media/house.1682689d.obj",ee=function(e){var t=e.scale,n=void 0===t?.5:t,o=Object(m.a)(e,["scale"]),r=Object(i.useRef)(null),c=Object(s.d)(K.a,Q),a=Object(s.d)(D.a,$,(function(e){c.preload(),e.setMaterials(c)}));return a&&(a.castShadow=!0,a.receiveShadow=!0,a.traverse((function(e){e instanceof j.Mesh&&(e.castShadow=!0,e.receiveShadow=!0)}))),Object(b.jsx)("mesh",Object(O.a)(Object(O.a)({},o),{},{ref:r,position:[-3,0,3],children:Object(b.jsx)("primitive",{object:a,scale:n})}))},te=n.p+"static/media/aladdin-logo.96b59d24.png",ne=n.p+"static/media/ifi-logo.eb360016.png",ie=n(46),oe=n(47),re=n(342),ce=n(346),ae=n(347);function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function le(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ue(e,t){var n=e.title,o=e.titleId,r=le(e,["title","titleId"]);return i.createElement("svg",se({t:1613755944969,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5967,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,ref:t,"aria-labelledby":o},r),n?i.createElement("title",{id:o},n):null,C||(C=i.createElement("defs",null,i.createElement("style",{type:"text/css"}))),I||(I=i.createElement("path",{d:"M194.187431 235.50871m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5968})),T||(T=i.createElement("path",{d:"M347.505182 165.510915h552.305182v139.99559H347.505182z","p-id":5969})),P||(P=i.createElement("path",{d:"M194.187431 512.1129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5970})),E||(E=i.createElement("path",{d:"M347.505182 442.115105h552.305182v139.99559H347.505182z","p-id":5971})),z||(z=i.createElement("path",{d:"M194.187431 788.49129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5972})),A||(A=i.createElement("path",{d:"M347.505182 718.719294h552.305182v139.99559H347.505182z","p-id":5973})))}var de,he,je,fe,be,ge,pe,xe,Oe=i.forwardRef(ue),me=(n.p,n(99),Object(oe.a)(Oe)(de||(de=Object(ie.a)(["\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  height: 40px;\n  width: 40px;\n  transition: 0.5s;\n  fill: brown;\n\n  &:hover {\n    fill: white;\n  }\n"])))),ve=function(){var e=f((function(e){return e.set})),t=f((function(e){return e.showGroundSettings})),n=f((function(e){return e.showHeliodonSettings})),i=Object(b.jsxs)(re.a,{children:[Object(b.jsx)(re.a.Item,{children:Object(b.jsx)(ce.a,{checked:t,onChange:function(t){e((function(e){e.showGroundSettings=t.target.checked}))},children:"Ground Settings"})},"ground-settings-switch"),Object(b.jsx)(re.a.Item,{children:Object(b.jsx)(ce.a,{checked:n,onChange:function(t){e((function(e){e.showHeliodonSettings=t.target.checked}))},children:"Heliodon Settings"})},"heliodon-settings-switch")]});return Object(b.jsx)(ae.a,{overlay:i,trigger:["click"],children:Object(b.jsx)(me,{})})},ye=n(345),we=n(348),Me=n(203),Se=n(93),ke={border:"1px solid",width:"400px",height:"400px"},Ce=function(e){var t=e.setLatitude,n=e.setLongitude,o=e.setZoom,r=e.setTilt,c=e.setType,s=f((function(e){return e.latitude})),l=f((function(e){return e.longitude})),u=f((function(e){return e.mapZoom})),d=f((function(e){return e.mapType})),h=f((function(e){return e.mapTilt})),j=Object(i.useState)(null),g=Object(a.a)(j,2),p=g[0],x=g[1],O=Object(i.useCallback)((function(e){x(e)}),[]),m=Object(i.useCallback)((function(e){x(null)}),[]),v={lat:s,lng:l};return Object(b.jsx)(Se.a,{mapContainerStyle:ke,mapTypeId:d,center:v,zoom:u,tilt:h,onLoad:O,onUnmount:m,onCenterChanged:function(){if(p){var e=p.getCenter(),i=e.lat();i!==s&&(null===t||void 0===t||t(i));var o=e.lng();o!==l&&(null===n||void 0===n||n(o))}},onZoomChanged:function(){if(p){var e=p.getZoom();e!==u&&(null===o||void 0===o||o(e))}},onTiltChanged:function(){if(p){var e=p.getTilt();e!==h&&(null===r||void 0===r||r(e))}},onMapTypeIdChanged:function(){if(p){var e=p.getMapTypeId();e!==d&&(null===c||void 0===c||c(e))}},children:Object(b.jsx)(b.Fragment,{})})},Ie=Object(i.memo)(Ce),Te=n(338),Pe=Object(oe.a)(Te.a)(he||(he=Object(ie.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 999;\n"]))),Ee=["places"],ze=oe.a.div(je||(je=Object(ie.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),Ae=oe.a.div(fe||(fe=Object(ie.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 420px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),Ge=oe.a.div(be||(be=Object(ie.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),_e=function(e){var t=e.grid,n=e.groundImage,o=e.groundColor,r=e.setGrid,c=e.setGroundImage,a=e.setGroundColor,s=e.changeLatitude,l=e.changeLongitude,u=e.changeMapZoom,d=e.changeMapTilt,h=e.changeMapType,j=f((function(e){return e.set})),g=f((function(e){return e.latitude})),p=f((function(e){return e.longitude})),x=f((function(e){return e.mapZoom})),O=f((function(e){return e.address})),m=Object(i.useRef)(),v=Object(Se.c)({id:"google-map-script",googleMapsApiKey:"AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs",libraries:Ee}),y=v.isLoaded,w=v.loadError;return Object(b.jsx)(ze,{children:Object(b.jsxs)(Ae,{children:[Object(b.jsxs)(Ge,{children:[Object(b.jsx)("span",{children:"Ground Settings"}),Object(b.jsx)("span",{style:{cursor:"pointer"},onClick:function(){j((function(e){e.showGroundSettings=!1}))},children:"Close"})]}),Object(b.jsxs)(ye.b,{direction:"vertical",children:[Object(b.jsxs)(ye.b,{style:{padding:"20px"},align:"center",size:20,children:[Object(b.jsxs)(ye.b,{direction:"vertical",children:[Object(b.jsxs)(ye.b,{children:[Object(b.jsx)(ye.b,{style:{width:"40px"},children:"Grid:"}),Object(b.jsx)(we.a,{title:"Show ground grid",checked:t,onChange:function(e){null===r||void 0===r||r(e)}})]}),Object(b.jsxs)(ye.b,{children:[Object(b.jsx)(ye.b,{style:{width:"40px"},children:"Image:"}),Object(b.jsx)(we.a,{title:"Show ground image",checked:n,onChange:function(e){null===c||void 0===c||c(e)}})]})]}),Object(b.jsxs)("div",{children:["Ground Color",Object(b.jsx)("br",{}),Object(b.jsx)(Me.a,{color:o,onChangeComplete:function(e){null===a||void 0===a||a(e.hex)}})]})]}),y&&Object(b.jsx)(ye.b,{children:Object(b.jsx)("div",{children:Object(b.jsx)(Se.b,{onLoad:function(e){m.current=e},onPlacesChanged:function(){var e,t=null===(e=m.current)||void 0===e?void 0:e.getPlaces();t&&t.length>0&&j((function(e){var n=t[0].geometry;n&&(e.latitude=n.location.lat(),e.longitude=n.location.lng()),e.address=t[0].formatted_address}))},children:Object(b.jsx)("input",{type:"text",placeholder:O,style:{boxSizing:"border-box",border:"1px solid transparent",width:"400px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"relative"}})})})}),y?Object(b.jsx)(ye.b,{children:Object(b.jsxs)("div",{children:[Object(b.jsx)(Ie,{setLatitude:s,setLongitude:l,setZoom:u,setTilt:d,setType:h}),"Coordinates: (",g.toFixed(4),"\xb0, ",p.toFixed(4),"\xb0), Zoom: ",x]})}):Object(b.jsx)(Pe,{}),w&&Object(b.jsx)(ye.b,{children:Object(b.jsx)("div",{children:"Map cannot be loaded right now, sorry."})})]})]})})},Ve=n(156),De=n(339),Ze=n(341),Le=n(52),Fe=n.n(Le),He=oe.a.div(ge||(ge=Object(ie.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),Re=oe.a.div(pe||(pe=Object(ie.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 640px;\n  padding: 0;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),Ne=oe.a.div(xe||(xe=Object(ie.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),We=function(e){var t=e.heliodon,n=e.latitude,o=e.date,r=e.animateSun,c=e.setHeliodon,a=e.setSunAnimation,s=e.changeLatitude,l=e.changeDate,u=e.changeTime,d=f((function(e){return e.set})),h=Object(i.useRef)(0),j=Object(i.useRef)(-1);Object(i.useEffect)((function(){return h.current=requestAnimationFrame(g),function(){cancelAnimationFrame(h.current)}}),[r]);var g=function e(){if(r){h.current=requestAnimationFrame(e);var t=Date.now();if(t-j.current>100){var n=o.getDate();o.setHours(o.getHours(),o.getMinutes()+15),o.setDate(n),null===u||void 0===u||u(o),j.current=t}}};return Object(b.jsx)(He,{children:Object(b.jsxs)(Re,{children:[Object(b.jsxs)(Ne,{children:[Object(b.jsx)("span",{children:"Heliodon Settings"}),Object(b.jsx)("span",{style:{cursor:"pointer"},onClick:function(){d((function(e){e.showHeliodonSettings=!1}))},children:"Close"})]}),Object(b.jsxs)(ye.b,{style:{padding:"20px"},align:"baseline",size:20,children:[Object(b.jsxs)("div",{children:["Show",Object(b.jsx)("br",{}),Object(b.jsx)(we.a,{checked:t,onChange:function(e){null===c||void 0===c||c(e)}})]}),Object(b.jsxs)("div",{children:["Animate",Object(b.jsx)("br",{}),Object(b.jsx)(we.a,{checked:r,onChange:function(e){null===a||void 0===a||a(e)}})]}),Object(b.jsxs)("div",{children:["Date",Object(b.jsx)("br",{}),Object(b.jsx)(Ve.a,{value:Fe()(o),onChange:function(e){e&&(null===l||void 0===l||l(e.toDate()))}})]}),Object(b.jsxs)("div",{children:["Time",Object(b.jsx)("br",{}),Object(b.jsx)(De.a,{value:Fe()(o,"HH:mm"),format:"HH:mm",onChange:function(e){e&&(null===u||void 0===u||u(e.toDate()))}})]}),Object(b.jsxs)("div",{children:["Latitude: ",n.toFixed(4),"\xb0",Object(b.jsx)(Ze.a,{style:{width:"150px"},marks:{"-90":"-90\xb0",0:"0\xb0",90:"90\xb0"},min:-90,max:90,tooltipVisible:!1,defaultValue:n,onChange:function(e){null===s||void 0===s||s(e)}})]})]})]})})},Be=(n(204),function(){window.open("https://intofuture.org","_blank")}),Ue=n(202),Ye=n.n(Ue),Xe=function(){return Object(b.jsx)(Ye.a,{location:"bottom",buttonText:"Accept",cookieName:"AladdinCookieName",style:{background:"#2B373B",textAlign:"center",zIndex:99999},buttonStyle:{color:"#4e503b",fontSize:"12px"},expires:150,children:"By clicking Accept, you agree to our use of cookies to improve your experience with Aladdin."})},qe=n(340),Je=function(){var e,t=f((function(e){return e.latitude})),n=f((function(e){return e.longitude})),i=f((function(e){return e.mapZoom})),o=Object(qe.a)("https://maps.googleapis.com/maps/api/staticmap?maptype=satellite&center="+t+","+n+"&zoom="+i+"&size="+(e=640)+"x"+e+"&scale=2&key=AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs");return Object(b.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],children:[Object(b.jsx)("planeBufferGeometry",{args:[100,100]}),Object(b.jsx)("meshStandardMaterial",{attach:"material",side:j.DoubleSide,map:o,opacity:1})]})},Ke=n(344),Qe=re.a.SubMenu,$e={display:"block",height:"30px",paddingLeft:"10px",lineHeight:"30px"},et=function(){var e=f((function(e){return e.set})),t=f((function(e){return e.heliodon})),n=f((function(e){return e.axes})),i=f((function(e){return e.grid})),o=f((function(e){return e.theme})),r=f((function(e){return e.showHeliodonSettings})),c=f((function(e){return e.showGroundSettings}));switch(f((function(e){return e.clickObjectType}))){case p.sky:return Object(b.jsxs)(re.a,{children:[Object(b.jsx)(re.a.Item,{children:Object(b.jsx)(ce.a,{checked:n,onChange:function(t){e((function(e){e.axes=t.target.checked}))},children:"Axes"})},"axes"),Object(b.jsx)(re.a.Item,{children:Object(b.jsx)(ce.a,{checked:t,onChange:function(t){e((function(e){e.heliodon=t.target.checked}))},children:"Heliodon"})},"heliodon"),Object(b.jsx)(re.a.Item,{children:Object(b.jsx)(ce.a,{checked:r,onChange:function(t){e((function(e){e.showHeliodonSettings=t.target.checked}))},children:"Heliodon Settings"})},"heliodon-settings"),Object(b.jsx)(Qe,{title:"Theme",children:Object(b.jsxs)(Ke.a.Group,{onChange:function(t){e((function(e){e.theme=t.target.value}))},value:o,style:{height:"105px"},children:[Object(b.jsx)(Ke.a,{style:$e,value:g.default,children:"Default"}),Object(b.jsx)(Ke.a,{style:$e,value:g.desert,children:"Desert"}),Object(b.jsx)(Ke.a,{style:$e,value:g.grassland,children:"Grassland"})]})},"theme")]});default:return Object(b.jsxs)(re.a,{children:[Object(b.jsx)(re.a.Item,{children:Object(b.jsx)(ce.a,{checked:i,onChange:function(t){e((function(e){e.grid=t.target.checked}))},children:"Grid"})},"ground-grid"),Object(b.jsx)(re.a.Item,{children:Object(b.jsx)(ce.a,{checked:c,onChange:function(t){e((function(e){e.showGroundSettings=t.target.checked}))},children:"Ground Settings"})},"ground-settings")]})}},tt=function(){var e=f((function(e){return e.set})),t=f((function(e){return e.worlds})),n=f((function(e){return e.getWorld})),o=f((function(e){return e.createNewWorld})),r=f((function(e){return e.showGroundSettings})),c=f((function(e){return e.showHeliodonSettings})),l=f((function(e){return e.axes})),u=f((function(e){return e.grid})),d=f((function(e){return e.groundImage})),h=f((function(e){return e.groundColor})),g=f((function(e){return e.theme})),p=f((function(e){return e.heliodon})),O=f((function(e){return e.latitude})),m=new Date(f((function(e){return e.date}))),v=Object(i.useState)(0),y=Object(a.a)(v,2),w=y[0],M=y[1],S=Object(i.useState)(0),k=Object(a.a)(S,2),C=k[0],I=k[1],T=Object(i.useState)(new j.Vector3(0,2,2)),P=Object(a.a)(T,2),E=P[0],z=P[1],A=Object(i.useState)(!1),_=Object(a.a)(A,2),D=_[0],Z=_[1],L=t.default;Object(i.useEffect)((function(){n("default")||o()})),Object(i.useEffect)((function(){z(q(10,w,C,U.toRadians(O)).applyEuler(new j.Euler(-Math.PI/2,0,0)))}),[O,w,C]);var H=m.toString();Object(i.useMemo)((function(){var e;M((60*(e=m).getHours()+e.getMinutes()-720)/720*Math.PI),I(X(m))}),[H]);var R=new j.Vector3(0,0,5);L&&R.set(L.cameraPosition.x,L.cameraPosition.y,L.cameraPosition.z),console.log("x");var W=E.y>0;return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{style:{backgroundColor:"lightblue",height:"72px",paddingTop:"10px",fontSize:"30px"},children:[Object(b.jsx)("img",{alt:"Aladdin Logo",src:te,height:"50px",style:{verticalAlign:"middle"}}),Object(b.jsx)("span",{style:{paddingLeft:"20px",verticalAlign:"middle"},children:"Aladdin"})]}),Object(b.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:999,fontSize:"12px",color:"white"},children:[Object(b.jsx)("img",{alt:"IFI Logo",src:ne,height:"40px",style:{verticalAlign:"bottom",cursor:"pointer"},title:"Go to Institute for Future Intelligence",onClick:Be}),"\xa0\xa0 Institute for Future Intelligence, \xa9",(new Date).getFullYear(),". Version ","0.0.1"]}),Object(b.jsx)(ve,{}),r&&Object(b.jsx)(_e,{grid:u,groundImage:d,groundColor:h,setGrid:function(t){e((function(e){e.grid=t}))},setGroundImage:function(t){e((function(e){e.groundImage=t}))},setGroundColor:function(t){e((function(e){e.groundColor=t}))},changeLatitude:function(t){e((function(e){e.latitude=t}))},changeLongitude:function(t){e((function(e){e.longitude=t}))},changeMapZoom:function(t){e((function(e){e.mapZoom=t}))},changeMapTilt:function(t){e((function(e){e.mapTilt=t}))},changeMapType:function(t){e((function(e){e.mapType=t}))}}),c&&Object(b.jsx)(We,{latitude:O,date:m,heliodon:p,animateSun:D,changeDate:function(t){var n=new Date(m);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()),e((function(e){e.date=n.toString()}))},changeTime:function(t){var n=new Date(m);n.setHours(t.getHours(),t.getMinutes()),e((function(e){e.date=n.toString()}))},changeLatitude:function(t){e((function(e){e.latitude=t,e.address=""}))},setHeliodon:function(t){e((function(e){e.heliodon=t}))},setSunAnimation:function(e){Z(e)}}),Object(b.jsx)(ae.a,{overlay:Object(b.jsx)(et,{}),trigger:["contextMenu"],children:Object(b.jsx)("div",{children:Object(b.jsx)(s.a,{shadows:!0,camera:{position:R,fov:90},style:{height:"calc(100vh - 70px)",backgroundColor:"black"},children:Object(b.jsxs)(i.Suspense,{fallback:null,children:[Object(b.jsx)(x,{}),Object(b.jsx)("ambientLight",{intensity:.25}),Object(b.jsx)("directionalLight",{color:"white",position:[E.x,E.y,E.z],intensity:W?.5:0,castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512}),u&&Object(b.jsx)("gridHelper",{args:[500,100,"gray","gray"]}),Object(b.jsx)(F,{}),Object(b.jsx)(ee,{}),l&&Object(b.jsx)(V,{}),Object(b.jsx)(N,{}),d&&Object(b.jsx)(Je,{}),Object(b.jsx)(G,{theme:g,night:!W}),p&&Object(b.jsx)(J,{hourAngle:w,declinationAngle:C,radius:10,date:m,latitude:U.toRadians(O)})]})})})},"canvas-context-menu"),Object(b.jsx)(Xe,{})]})},nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,349)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),i(e),o(e),r(e),c(e)}))};c.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(tt,{})}),document.getElementById("root")),nt()}},[[332,1,2]]]);
//# sourceMappingURL=main.7e7a38e5.chunk.js.map