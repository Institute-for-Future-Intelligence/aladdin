(this.webpackJsonpaladdin=this.webpackJsonpaladdin||[]).push([[0],{336:function(e,t,n){},337:function(e,t,n){},504:function(e,t,n){"use strict";n.r(t);var a,r,i,o=n(0),c=n.n(o),s=n(48),l=n.n(s),u=(n(336),n(71)),d=n.n(u),h=n(173),j=n(17),b=(n(337),n(54)),f=n(19),p=n(32),x=n(55),O=n(179),g=n(237),m=n(236),y=n.p+"static/media/weather.55ddf5ca.csv",v=n(286),w=n.n(v),S=n(5),L=n(11),M=n(4),C=function(){function e(){Object(S.a)(this,e)}return Object(L.a)(e,null,[{key:"UNIT_VECTOR_POS_X",get:function(){return new M.Vector3(1,0,0)}},{key:"UNIT_VECTOR_NEG_X",get:function(){return new M.Vector3(-1,0,0)}},{key:"UNIT_VECTOR_POS_Y",get:function(){return new M.Vector3(0,1,0)}},{key:"UNIT_VECTOR_NEG_Y",get:function(){return new M.Vector3(0,-1,0)}},{key:"UNIT_VECTOR_POS_Z",get:function(){return new M.Vector3(0,0,1)}},{key:"UNIT_VECTOR_NEG_Z",get:function(){return new M.Vector3(0,0,-1)}},{key:"isZero",value:function(t){return Math.abs(t)<e.ZERO_TOLERANCE}},{key:"ZERO_TOLERANCE",get:function(){return 1e-4}},{key:"HALF_PI",get:function(){return Math.PI/2}},{key:"TWO_PI",get:function(){return 2*Math.PI}},{key:"copyVector",value:function(e,t){e.x=t.x,e.y=t.y,e.z=t.z}},{key:"setVector",value:function(e,t,n,a){e.x=t,e.y=n,e.z=a}},{key:"modelToView",value:function(e){return new M.Vector3(e.x,e.z,-e.y)}},{key:"viewToModel",value:function(e){return new M.Vector3(e.x,-e.z,e.y)}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"toDegrees",value:function(e){return e*(180/Math.PI)}},{key:"sphericalToCartesianZ",value:function(e){var t=e.x*Math.cos(e.z),n=t*Math.cos(e.y),a=t*Math.sin(e.y),r=e.x*Math.sin(e.z);return e.set(n,a,r),e}},{key:"getDistance",value:function(t,n,a,r){return t=e.toRadians(t),n=e.toRadians(n),a=e.toRadians(a),r=e.toRadians(r),Math.acos(Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos(Math.abs(t-a)))}},{key:"daysIntoYear",value:function(t){return e.dayOfYear(new Date(t))}},{key:"dayOfYear",value:function(e){var t=new Date(e.getFullYear(),0,0),n=e.getTime()-t.getTime();return Math.floor(n/864e5)}}]),e}(),D=n(287),R=n(291);Object(b.b)({TextSprite:D.a}),Object(b.b)({OrbitControls:R.a}),function(e){e[e.HourlyTemperatures=0]="HourlyTemperatures",e[e.MonthlyTemperatures=1]="MonthlyTemperatures",e[e.SunshineHours=2]="SunshineHours",e[e.DaylightData=3]="DaylightData",e[e.ClearnessData=4]="ClearnessData",e[e.YearlyRadiationSensorData=5]="YearlyRadiationSensorData",e[e.DailyRadiationSensorData=6]="DailyRadiationSensorData"}(a||(a={})),function(e){e.Default="Default",e.Desert="Desert",e.Grassland="Grassland"}(r||(r={})),function(e){e.Sky="Sky",e.Ground="Ground",e.Foundation="Foundation",e.Sensor="Sensor",e.Cuboid="Cuboid"}(i||(i={}));var k=function(){function e(){Object(S.a)(this,e),this.name=void 0,this.cameraPosition=void 0,this.panCenter=void 0,this.ground=void 0,this.name="default",this.ground={albedo:.3,thermalDiffusivity:.05,snowReflectionFactors:new Array(12).fill(0)},this.panCenter=new M.Vector3(0,0,0),this.cameraPosition=new M.Vector3(0,0,5)}return Object(L.a)(e,[{key:"getElements",value:function(){var e=[],t={type:i.Foundation,cx:0,cy:0,lx:2,ly:2,height:.1,id:"f1"},n={type:i.Cuboid,cx:0,cy:3,lx:2,ly:2,height:4,id:"c1"},a={type:i.Sensor,cx:2,cy:5,cz:0,lx:.05,ly:.05,normal:[0,0,1],height:.01,id:"s1",showLabel:!1,light:!0,heatFlux:!1};i.Sensor,i.Sensor;return e.push(t),e.push(n),e.push(a),e}}]),e}();Object(m.b)();var T,P=Object(O.a)(Object(g.devtools)(Object(g.persist)((function(e,t,n){var a=function(t){return e(Object(m.a)(t))},r=new k,i=r.getElements();return{set:a,world:r,elements:i,showGroundPanel:!1,showHeliodonPanel:!1,showWeatherPanel:!1,showDailyLightSensorPanel:!1,showYearlyLightSensorPanel:!1,autoRotate:!1,grid:!1,axes:!0,groundImage:!1,groundColor:"forestgreen",theme:"Default",heliodon:!1,address:"Natick, MA",latitude:42.2844063,longitude:-71.3488548,mapZoom:16,mapType:"roadmap",mapTilt:0,mapWeatherStations:!1,date:new Date(2021,5,22,12).toString(),weatherData:{},timesPerHour:20,yearlyLightSensorData:[],setYearlyLightSensorData:function(e){a((function(t){t.yearlyLightSensorData=Object(x.a)(e)}))},dailyLightSensorData:[],setDailyLightSensorData:function(e){a((function(t){t.dailyLightSensorData=Object(x.a)(e)}))},enableOrbitController:!0,clickObjectType:null,getSelectedElement:function(){var e,n=t().elements,a=Object(p.a)(n);try{for(a.s();!(e=a.n()).done;){var r=e.value;if(r.selected)return r}}catch(i){a.e(i)}finally{a.f()}return null},getElementById:function(e){var n,a=t().elements,r=Object(p.a)(a);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.id===e)return i}}catch(o){r.e(o)}finally{r.f()}return null},selectNone:function(){a((function(e){var t,n=Object(p.a)(e.elements);try{for(n.s();!(t=n.n()).done;){t.value.selected=!1}}catch(a){n.e(a)}finally{n.f()}}))},updateElementById:function(e,t){a((function(n){var a,r=Object(p.a)(n.elements.entries());try{for(r.s();!(a=r.n()).done;){var i=Object(j.a)(a.value,2),o=i[0],c=i[1];if(c.id===e){n.elements[o]=Object(f.a)(Object(f.a)({},c),t);break}}}catch(s){r.e(s)}finally{r.f()}}))},setElementPosition:function(e,t,n,r){a((function(a){var i,o=Object(p.a)(a.elements.entries());try{for(o.s();!(i=o.n()).done;){var c=Object(j.a)(i.value,2),s=c[0];if(c[1].id===e){a.elements[s].cx=t,a.elements[s].cy=n,a.elements[s].cz=r;break}}}catch(l){o.e(l)}finally{o.f()}}))},loadWeatherData:function(){var e=[];w.a.parse(y,{download:!0,complete:function(t){var n,r=Object(p.a)(t.data);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(Array.isArray(i)&&i.length>1){for(var o=[],c=[],s=[],l=5;l<29;l++)(l-5)%2===0?o.push(parseFloat(i[l].trim())):c.push(parseFloat(i[l].trim()));for(var u=29;u<41;u++)s.push(parseFloat(i[u].trim()));var d={city:i[0].trim(),country:i[1].trim(),longitude:parseFloat(i[2].trim()),latitude:parseFloat(i[3].trim()),elevation:parseFloat(i[4].trim()),lowestTemperatures:o,highestTemperatures:c,sunshineHours:s};e.push(d)}}}catch(h){r.e(h)}finally{r.f()}a((function(t){var n,a=Object(p.a)(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;t.weatherData[r.city+", "+r.country]=r}}catch(h){a.e(h)}finally{a.f()}}))}})},getWeather:function(e){return t().weatherData[e]},getClosestCity:function(e,n){var a,r=Number.MAX_VALUE,i=null,o=t().weatherData;for(var c in o)o.hasOwnProperty(c)&&(a=C.getDistance(n,e,o[c].longitude,o[c].latitude))<r&&(r=a,i=c);return i}}}),{name:"aladdin-storage"}))),z=n(1),I=function(e){var t=e.enabled,n=void 0===t||t,a=e.autoRotate,r=void 0!==a&&a,i=e.panCenter,c=void 0===i?new M.Vector3:i,s=e.orbitControlsRef,l=P((function(e){return e.set})),u=Object(b.e)(),d=u.camera,h=u.gl.domElement,j=Object(o.useRef)(null);Object(o.useEffect)((function(){var e=j.current;return e&&(c&&e.target.set(c.x,c.y,c.z),e.addEventListener("end",f),e.update(),s&&(s.current=e)),function(){e&&e.removeEventListener("end",f)}}),[]);var f=function(){l((function(e){var t=e.world;t.cameraPosition.x=d.position.x,t.cameraPosition.y=d.position.y,t.cameraPosition.z=d.position.z,j.current&&(t.panCenter.x=j.current.target.x,t.panCenter.y=j.current.target.y,t.panCenter.z=j.current.target.z)}))};return Object(b.c)((function(e){r&&j.current&&j.current.update()})),Object(z.jsx)("orbitControls",{ref:j,args:[d,h],autoRotate:r,enabled:n,enableRotate:!0,enablePan:!0,enableZoom:!0,enableDamping:!0,target:c,maxAzimuthAngle:1/0,minAzimuthAngle:-1/0,maxPolarAngle:C.HALF_PI,minPolarAngle:0})},V=n(41),F=n.p+"static/media/daysky.66925efd.jpg",E=n.p+"static/media/nightsky.2ee37da6.jpg",H=n.p+"static/media/desert.e1e10657.jpg",W=n.p+"static/media/desert-night.6f0f274c.jpg",A=n.p+"static/media/grassland.d74bba81.jpg",U=n.p+"static/media/grassland-night.fa2ff11e.jpg",Y=function(e){var t=e.theme,n=void 0===t?"Default":t,a=e.night,r=void 0!==a&&a,c=Object(V.a)(e,["theme","night"]),s=P((function(e){return e.set})),l=P((function(e){return e.selectNone})),u=Object(o.useRef)(null),d=Object(o.useMemo)((function(){var e,t=new M.TextureLoader;switch(n){case"Desert":e=t.load(r?W:H);break;case"Grassland":e=t.load(r?U:A);break;default:e=t.load(r?E:F)}return e}),[n,r]),h=function(e){e.intersections.length>0&&(e.intersections[0].object===u.current&&(l(),s((function(e){e.clickObjectType=i.Sky}))))};return Object(z.jsxs)("mesh",Object(f.a)(Object(f.a)({},c),{},{ref:u,name:"Sky",scale:1,onContextMenu:function(e){h(e)},onClick:function(e){h(e)},children:[Object(z.jsx)("sphereGeometry",{args:[1e3,16,16,0,2*Math.PI,0,Math.PI/2+.01]}),Object(z.jsx)("meshBasicMaterial",{map:d,side:M.BackSide,opacity:1,color:"skyblue"})]}))},_=n(524),G=function(e){var t=e.lineWidth,n=void 0===t?1:t,a=e.endPoint,r=void 0===a?1e3:a;return Object(z.jsxs)("mesh",{name:"Axes",children:[Object(z.jsx)(_.a,{points:[new M.Vector3(-r,0,0),new M.Vector3(r,0,0)],color:"red",lineWidth:n}),Object(z.jsx)(_.a,{points:[new M.Vector3(0,-r,0),new M.Vector3(0,r,0)],color:"green",lineWidth:n}),Object(z.jsx)(_.a,{points:[new M.Vector3(0,0,-r),new M.Vector3(0,0,r)],color:"blue",lineWidth:n})]})},N=n(292),B=n.p+"static/media/compass.7ded737e.obj",X=n.p+"static/media/helvetiker_regular.typeface.9a3651b4.fnt",Z=function(e){var t=e.scale,n=void 0===t?.01:t,a=Object(V.a)(e,["scale"]),r=Object(b.d)(N.a,B),i=Object(b.d)(M.FontLoader,X),c=Object(o.useRef)(null),s={font:i,height:0,size:.005},l=new M.MeshBasicMaterial({color:"white"}),u=new M.MeshBasicMaterial({color:"red"}),d=Object(b.e)().camera;return Object(b.c)((function(e){if(c.current){var t=new M.Vector3(.88,-.8,.1).unproject(d);c.current.position.set(t.x,t.y,t.z)}})),Object(z.jsxs)("mesh",Object(f.a)(Object(f.a)({},a),{},{ref:c,name:"Compass",rotation:new M.Euler(-Math.PI/2,0,0),children:[Object(z.jsx)("mesh",{position:[-.001,.02,0],material:l,children:Object(z.jsx)("textGeometry",{args:["N",s]})}),Object(z.jsx)("mesh",{position:[-.0015,-.025,0],material:l,children:Object(z.jsx)("textGeometry",{args:["S",s]})}),Object(z.jsx)("mesh",{position:[-.025,-.002,0],material:l,children:Object(z.jsx)("textGeometry",{args:["W",s]})}),Object(z.jsx)("mesh",{position:[.02,-.002,0],material:l,children:Object(z.jsx)("textGeometry",{args:["E",s]})}),Object(z.jsx)("primitive",{object:r,scale:n,material:u})]}))},K=n(509),q=function(e){var t=e.id,n=e.cx,a=e.cy,r=e.lx,i=void 0===r?1:r,c=e.ly,s=void 0===c?1:c,l=e.height,u=void 0===l?.1:l,d=e.color,h=void 0===d?"gray":d,b=e.lineColor,f=void 0===b?"black":b,x=e.lineWidth,O=void 0===x?.2:x,g=e.selected,m=void 0!==g&&g;a=-a;var y=P((function(e){return e.set})),v=Object(o.useState)(!1),w=Object(j.a)(v,2),S=w[0],L=w[1],D=Object(o.useRef)(),R=Object(o.useRef)(),k=Object(o.useRef)(),T=Object(o.useRef)(),I=Object(o.useRef)(),V=Object(o.useRef)(),F=Object(o.useRef)(),E=Object(o.useRef)(),H=Object(o.useRef)(),W=.16,A=.2,U=new M.Vector3(n-i/2,u/2,a-s/2),Y=new M.Vector3(n-i/2,u/2,a+s/2),G=new M.Vector3(n+i/2,u/2,a-s/2),N=new M.Vector3(n+i/2,u/2,a+s/2);D&&D.current&&C.setVector(D.current.position,n,u/2,a),R&&R.current&&C.copyVector(R.current.position,U),k&&k.current&&C.copyVector(k.current.position,Y),T&&T.current&&C.copyVector(T.current.position,G),I&&I.current&&C.copyVector(I.current.position,N),V&&V.current&&C.setVector(V.current.position,n,u/2,a-s/2-A),F&&F.current&&C.setVector(F.current.position,n,u/2,a+s/2+A),E&&E.current&&C.setVector(E.current.position,n-i/2-A,u/2,a),H&&H.current&&C.setVector(H.current.position,n+i/2+A,u/2,a);var B=function(){y((function(e){var n,a=Object(p.a)(e.elements);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.selected=r.id===t}}catch(i){a.e(i)}finally{a.f()}}))};return Object(z.jsxs)("group",{name:"Foundation Group",children:[Object(z.jsx)(K.a,{castShadow:!0,receiveShadow:!0,ref:D,name:"Foundation",args:[i,u,s],onContextMenu:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&B())},onPointerOver:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&L(!0))},onPointerOut:function(e){L(!1)},onPointerDown:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&B())},onPointerUp:function(e){},onPointerMove:function(e){},children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:h})}),!m&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(_.a,{points:[[U.x,u,U.z],[G.x,u,G.z]],name:"Line LL-LR Upper Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[G.x,u,G.z],[N.x,u,N.z]],name:"Line LR-UR Upper Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[N.x,u,N.z],[Y.x,u,Y.z]],name:"Line UR-UL Upper Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[Y.x,u,Y.z],[U.x,u,U.z]],name:"Line UL-LL Upper Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[U.x,0,U.z],[G.x,0,G.z]],name:"Line LL-LR Lower Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[G.x,0,G.z],[N.x,0,N.z]],name:"Line LR-UR Lower Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[N.x,0,N.z],[Y.x,0,Y.z]],name:"Line UR-UL Lower Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[Y.x,0,Y.z],[U.x,0,U.z]],name:"Line UL-LL Lower Face",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[U.x,0,U.z],[U.x,u,U.z]],name:"Line LL-LL Vertical",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[G.x,0,G.z],[G.x,u,G.z]],name:"Line LR-LR Vertical",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[Y.x,0,Y.z],[Y.x,u,Y.z]],name:"Line UL-UL Vertical",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[[N.x,0,N.z],[N.x,u,N.z]],name:"Line UR-UR Vertical",lineWidth:O,color:f})]}),m&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K.a,{ref:R,args:[W,1.2*u,W],name:"Resize Handle LL",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:k,args:[W,1.2*u,W],name:"Resize Handle UL",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:T,args:[W,1.2*u,W],name:"Resize Handle LR",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:I,args:[W,1.2*u,W],name:"Resize Handle UR",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.c,{ref:V,args:[.1,6,6],name:"Move Handle Lower",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(z.jsx)(K.c,{ref:F,args:[.1,6,6],name:"Move Handle Upper",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(z.jsx)(K.c,{ref:E,args:[.1,6,6],name:"Move Handle Left",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(z.jsx)(K.c,{ref:H,args:[.1,6,6],name:"Move Handle Right",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})})]}),S&&!m&&Object(z.jsx)("textSprite",{name:"Label",text:"Foundation",fontSize:90,fontFace:"Times Roman",textHeight:1,position:[n,u+.2,a],scale:[1,.2,.2]})]})},J=function(e){var t=e.id,n=e.cx,a=e.cy,r=e.cz,i=e.lx,c=void 0===i?1:i,s=e.ly,l=void 0===s?1:s,u=e.height,d=void 0===u?.1:u,h=e.color,b=void 0===h?"white":h,f=e.lineColor,x=void 0===f?"black":f,O=e.lineWidth,g=void 0===O?.1:O,m=e.selected,y=void 0!==m&&m,v=e.showLabel,w=void 0!==v&&v;e.light,e.heatFlux;a=-a;var S=P((function(e){return e.set})),L=P((function(e){return e.getElementById})),D=Object(o.useState)(!1),R=Object(j.a)(D,2),k=R[0],T=R[1],I=Object(o.useRef)(),V=Object(o.useRef)(),F=new M.Vector3(n,r,a),E=new M.Vector3(n-c/2,0,a-l/2),H=new M.Vector3(n-c/2,0,a+l/2),W=new M.Vector3(n+c/2,0,a-l/2),A=new M.Vector3(n+c/2,0,a+l/2);I&&I.current&&C.setVector(I.current.position,n,d/2,a),V&&V.current&&C.copyVector(V.current.position,F);var U=L(t),Y=function(){S((function(e){var n,a=Object(p.a)(e.elements);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.selected=r.id===t}}catch(i){a.e(i)}finally{a.f()}}))};return Object(z.jsxs)("group",{name:"Sensor Group",children:[Object(z.jsx)(K.a,{receiveShadow:!0,ref:I,args:[c,d,l],name:"Sensor",onPointerDown:function(e){e.intersections.length>0&&(e.intersections[0].object===I.current&&Y())},onContextMenu:function(e){e.intersections.length>0&&(e.intersections[0].object===I.current&&Y())},onPointerOver:function(e){e.intersections.length>0&&(e.intersections[0].object===I.current&&T(!0))},onPointerOut:function(e){T(!1)},children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:(null===U||void 0===U?void 0:U.lit)?"red":b})}),!y&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(_.a,{points:[[E.x,d,E.z],[W.x,d,W.z]],name:"Line LL-LR Upper Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[[W.x,d,W.z],[A.x,d,A.z]],name:"Line LR-UR Upper Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[[A.x,d,A.z],[H.x,d,H.z]],name:"Line UR-UL Upper Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[[H.x,d,H.z],[E.x,d,E.z]],name:"Line UL-LL Upper Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[E,W],name:"Line LL-LR Lower Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[W,A],name:"Line LR-UR Lower Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[A,H],name:"Line UR-UL Lower Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[H,E],name:"Line UL-LL Lower Face",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[E,[E.x,d,E.z]],name:"Line LL-LL Vertical",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[W,[W.x,d,W.z]],name:"Line LR-LR Vertical",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[H,[H.x,d,H.z]],name:"Line UL-UL Vertical",lineWidth:g,color:x}),Object(z.jsx)(_.a,{points:[A,[A.x,d,A.z]],name:"Line UR-UR Vertical",lineWidth:g,color:x})]}),y&&Object(z.jsx)(K.c,{ref:V,args:[.1,6,6],name:"Handle",children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),(k||w)&&!y&&Object(z.jsx)("textSprite",{name:"Label",text:"Sensor",fontSize:90,fontFace:"Times Roman",textHeight:1,scale:[.5,.2,.2],position:[n,d+.2,a]})]})},Q=function(e){var t=e.id,n=e.cx,a=e.cy,r=e.lx,i=void 0===r?1:r,c=e.ly,s=void 0===c?1:c,l=e.height,u=void 0===l?1:l,d=e.color,h=void 0===d?"silver":d,b=e.lineColor,f=void 0===b?"black":b,x=e.lineWidth,O=void 0===x?.1:x,g=e.selected,m=void 0!==g&&g;a=-a;var y=P((function(e){return e.set})),v=Object(o.useState)(!1),w=Object(j.a)(v,2),S=w[0],L=w[1],D=Object(o.useRef)(),R=Object(o.useRef)(),k=Object(o.useRef)(),T=Object(o.useRef)(),I=Object(o.useRef)(),V=Object(o.useRef)(),F=Object(o.useRef)(),E=Object(o.useRef)(),H=Object(o.useRef)(),W=new M.Vector3(n-i/2,u,a-s/2),A=new M.Vector3(n-i/2,u,a+s/2),U=new M.Vector3(n+i/2,u,a-s/2),Y=new M.Vector3(n+i/2,u,a+s/2),G=new M.Vector3(n-i/2,0,a-s/2),N=new M.Vector3(n-i/2,0,a+s/2),B=new M.Vector3(n+i/2,0,a-s/2),X=new M.Vector3(n+i/2,0,a+s/2),Z=Object(o.useRef)(),q=Object(o.useRef)(),J=Object(o.useRef)(),Q=Object(o.useRef)(),$=Object(o.useRef)(),ee=.1,te=new M.Vector3(n,u/2,a-s/2-ee),ne=new M.Vector3(n,u/2,a+s/2+ee),ae=new M.Vector3(n-i/2-ee,u/2,a),re=new M.Vector3(n+i/2+ee,u/2,a),ie=new M.Vector3(n,u+ee,a),oe=.16;D&&D.current&&C.setVector(D.current.position,n,u/2,a);var ce=function(){y((function(e){var n,a=Object(p.a)(e.elements);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.selected=r.id===t}}catch(i){a.e(i)}finally{a.f()}}))};return Object(z.jsxs)("group",{name:"Cuboid Group",children:[Object(z.jsx)(K.a,{castShadow:!0,receiveShadow:!0,ref:D,args:[i,u,s],name:"Cuboid",onPointerDown:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&ce())},onContextMenu:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&ce())},onPointerOver:function(e){e.intersections.length>0&&(e.intersections[0].object===D.current&&L(!0))},onPointerOut:function(e){L(!1)},children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:h})}),!m&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(_.a,{points:[W,U],name:"Line LL-LR Top",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[U,Y],name:"Line LR-UR Top",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[Y,A],name:"Line UR-UL Top",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[A,W],name:"Line UL-LL Top",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[G,B],name:"Line LL-LR Bottom",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[B,X],name:"Line LR-UR Bottom",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[X,N],name:"Line UR-UL Bottom",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[N,G],name:"Line UL-LL Bottom",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[W,G],name:"Line LL-LL Vertical",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[U,B],name:"Line LR-LR Vertical",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[A,N],name:"Line UL-UL Vertical",lineWidth:O,color:f}),Object(z.jsx)(_.a,{points:[Y,X],name:"Line UR-UR Vertical",lineWidth:O,color:f})]}),m&&Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(K.a,{ref:R,name:"Resize Handle LL Top",args:[oe,oe,oe],position:W,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:k,name:"Resize Handle UL Top",args:[oe,oe,oe],position:A,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:T,name:"Resize Handle LR Top",args:[oe,oe,oe],position:U,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:I,name:"Resize Handle UR Top",args:[oe,oe,oe],position:Y,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:V,name:"Resize Handle LL Bottom",args:[oe,oe,oe],position:G,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:F,name:"Resize Handle UL Bottom",args:[oe,oe,oe],position:N,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:E,name:"Resize Handle LR Bottom",args:[oe,oe,oe],position:B,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.a,{ref:H,name:"Resize Handle UR Bottom",args:[oe,oe,oe],position:X,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(z.jsx)(K.c,{ref:Z,args:[.1,6,6],name:"Move Handle Lower Face",position:te,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(z.jsx)(K.c,{ref:q,args:[.1,6,6],name:"Move Handle Upper Face",position:ne,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(z.jsx)(K.c,{ref:J,args:[.1,6,6],name:"Move Handle Left Face",position:ae,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(z.jsx)(K.c,{ref:Q,args:[.1,6,6],name:"Move Handle Right Face",position:re,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})}),Object(z.jsx)(K.c,{ref:$,args:[.1,6,6],name:"Move Handle Top Face",position:ie,children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:"orange"})})]}),S&&!m&&Object(z.jsx)("textSprite",{name:"Label",text:"Box",fontSize:90,fontFace:"Times Roman",textHeight:1,scale:[.4,.2,.2],position:[n,u+.2,a]})]})},$=function(){var e=P((function(e){return e.elements}));return Object(z.jsxs)("group",{name:"Content",children:[e.filter((function(e){return e.type===i.Foundation})).map((function(e){return Object(z.jsx)(q,Object(f.a)({},e),e.id)})),e.filter((function(e){return e.type===i.Sensor})).map((function(e){return Object(z.jsx)(J,Object(f.a)({},e),e.id)})),e.filter((function(e){return e.type===i.Cuboid})).map((function(e){return Object(z.jsx)(Q,Object(f.a)({},e),e.id)}))]})},ee=function(){var e=P((function(e){return e.set})),t=P((function(e){return e.getSelectedElement})),n=P((function(e){return e.selectNone})),a=P((function(e){return e.groundColor})),r=P((function(e){return e.setElementPosition})),c=Object(o.useState)(null),s=Object(j.a)(c,2),l=s[0],u=s[1],d=Object(b.e)().camera,h=Object(o.useRef)(),f=Object(o.useMemo)((function(){return new M.Raycaster}),[]);return Object(z.jsx)(K.b,{receiveShadow:!0,ref:h,name:"Ground",onContextMenu:function(t){t.intersections.length>0&&(t.intersections[0].object===h.current&&(n(),e((function(e){e.clickObjectType=i.Ground}))))},onPointerDown:function(a){a.intersections.length>0&&(a.intersections[0].object===h.current?(e((function(e){e.clickObjectType=i.Ground})),n()):(u(t()),e((function(e){e.enableOrbitController=!1}))))},onPointerUp:function(t){u(null),e((function(e){e.enableOrbitController=!0}))},onPointerMove:function(e){if(l&&h&&h.current){var t=new M.Vector2;t.x=e.clientX/window.innerWidth*2-1,t.y=-e.clientY/window.innerHeight*2+1,f.setFromCamera(t,d);var n=f.intersectObjects([h.current]);if(n.length>0){var a=n[0].point;r(l.id,a.x,-a.z,0)}}},rotation:[-Math.PI/2,0,0],position:[0,-.01,0],args:[1e4,1e4],children:Object(z.jsx)("meshStandardMaterial",{attach:"material",color:a})})},te=[.103,.104,.109,.12,.13,.137,.138,.134,.121,.111,.106,.103];!function(e){e[e.NONE=0]="NONE",e[e.KASTEN_YOUNG=1]="KASTEN_YOUNG",e[e.SPHERE_MODEL=2]="SPHERE_MODEL"}(T||(T={}));Math.PI,Math.PI;var ne,ae,re,ie,oe,ce,se,le=23.45/180*Math.PI,ue=function(e){var t=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5);return le*Math.sin(C.TWO_PI*(284+t)/365.25)},de=function(e){return(60*e.getHours()+e.getMinutes()-720)/720*Math.PI},he=function(e,t){return je(1,de(e),ue(e),C.toRadians(t)).normalize()},je=function(e,t,n,a){var r=Math.cos(n),i=Math.sin(n),o=Math.cos(a),c=Math.sin(a),s=Math.cos(t),l=Math.sin(t),u=Math.asin(i*c+r*s*o),d=l*r,h=o*i-s*r*c,j=Math.atan2(h,d),b=new M.Vector3(e,j,u);return C.sphericalToCartesianZ(b),b.x=-b.x,b},be=function(e,t,n,a){return function(e){var t=C.TWO_PI*e/365;return 1.361*(1.00011+.034221*Math.cos(t)+.00128*Math.sin(t)+719e-6*Math.cos(2*t)+77e-6*Math.sin(2*t))}(t)*Math.pow(.7,Math.pow(function(e,t,n){var a;switch(e){case T.NONE:return 1;case T.KASTEN_YOUNG:return a=t.angleTo(C.UNIT_VECTOR_POS_Z),1/(Math.cos(a)+.50572*Math.pow(96.07995-a/Math.PI*180,-1.6364));default:a=t.angleTo(C.UNIT_VECTOR_POS_Z);var r=Math.cos(a),i=708,o=n/9e3;return Math.sqrt((i+o)*(i+o)*r*r+(1417+o)*(1-o))-(i+o)*r}}(a,e,n),.678))},fe=function(e,t,n,a){var r=0,i=n.dot(C.UNIT_VECTOR_POS_Z),o=.5*(1+i);o>0&&(r+=te[t]*o*a);var c=.5*Math.abs(1-i);return C.isZero(c)||(r+=e.albedo*c*a),r},pe=function(e){var t=e.hourAngle,n=e.declinationAngle,a=e.radius,r=void 0===a?10:a,i=e.date,c=void 0===i?new Date:i,s=e.latitude,l=void 0===s?42/180*Math.PI:s;Object(o.useEffect)((function(){return function(){}}),[c,l]);var u=Object(o.useMemo)((function(){for(var e=[],t=[],n=2*Math.PI/72,a=0,i=0;i<C.TWO_PI+n/2;i+=n){var o=Math.min(i,C.TWO_PI),c=.05*r;e.push(C.sphericalToCartesianZ(new M.Vector3(r,o,0))),e.push(C.sphericalToCartesianZ(new M.Vector3(r+c,o,0))),e.push(C.sphericalToCartesianZ(new M.Vector3(r,o+n,0))),e.push(C.sphericalToCartesianZ(new M.Vector3(r+c,o,0))),e.push(C.sphericalToCartesianZ(new M.Vector3(r+c,o+n,0))),e.push(C.sphericalToCartesianZ(new M.Vector3(r,o+n,0)));var s=void 0;C.TWO_PI-o>C.ZERO_TOLERANCE&&(c=.05*r+(a%3===0?.2:0),(s=new M.Vector3(r,o,0)).z=.002,t.push(C.sphericalToCartesianZ(s)),(s=new M.Vector3(r+c,o,0)).z=.002,t.push(C.sphericalToCartesianZ(s))),a++}for(var l=3*e.length,u=new Float32Array(l),d=new Float32Array(l),h=new Float32Array(l),j=0;j<e.length;j++){var b=3*j;u[b]=e[j].x,u[b+1]=e[j].y,u[b+2]=e[j].z,d[b]=0,d[b+1]=1,d[b+2]=0;var f=Math.floor(j/18)%2===0?.2:1;h[b]=f,h[b+1]=f,h[b+2]=f}return[u,d,h,t]}),[r]),d=Object(j.a)(u,4),h=d[0],b=d[1],f=d[2],p=d[3],x=Object(o.useMemo)((function(){for(var e=C.TWO_PI/96,t=[],a=-Math.PI;a<Math.PI+e/2;a+=e){var i=je(r,a,n,l);i.z>-.1&&t.push(i)}return t}),[l,r,n]),O=function(e){for(var t=C.TWO_PI/96,n=[],a=-Math.PI;a<Math.PI+t/2;a+=t){var i=je(r,a,e,l);i.z>-.1&&n.push(i)}return n},g=Object(o.useMemo)((function(){for(var e=ue(new Date(2021,11,22)),t=(ue(new Date(2021,5,22))-e)/5,n=[],a=0;a<=5;a++)n.push(O(e+a*t));return n}),[l,r]),m=Object(o.useMemo)((function(){return je(r,t,n,l)}),[l,n,t,r]),y=Object(o.useMemo)((function(){for(var e=2*le/12,t=C.TWO_PI/96,n=new M.BufferGeometry,a=0,i=[],o=[],c=-le;c<le-e/2;c+=e)for(var s=-Math.PI;s<Math.PI-t/2;s+=t){var u=s+t,d=c+e;u>Math.PI&&(u=Math.PI),d>le&&(d=le);var h=je(r,s,c,l),j=je(r,u,c,l),b=je(r,u,d,l),f=je(r,s,d,l);(h.z>=0||j.z>=0||b.z>=0||f.z>=0)&&(i.push(h,j,b,f),o.push(a),o.push(a+1),o.push(a+2),o.push(a),o.push(a+2),o.push(a+3),a+=4)}return n.setFromPoints(i),n.setIndex(new M.BufferAttribute(new Uint16Array(o),1)),n}),[l,r]);return Object(z.jsxs)("mesh",{rotation:new M.Euler(-Math.PI/2,0,0),name:"Heliodon",children:[Object(z.jsxs)("mesh",{children:[Object(z.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(z.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:h.length/3,array:h,itemSize:3}),Object(z.jsx)("bufferAttribute",{attachObject:["attributes","normal"],count:b.length/3,array:b,itemSize:3}),Object(z.jsx)("bufferAttribute",{attachObject:["attributes","color"],count:f.length/3,array:f,itemSize:3})]}),Object(z.jsx)("meshBasicMaterial",{side:M.DoubleSide,vertexColors:!0,polygonOffset:!0,polygonOffsetFactor:-.7,polygonOffsetUnits:-2})]}),Object(z.jsx)("lineSegments",{args:[(new M.BufferGeometry).setFromPoints(p),new M.MeshBasicMaterial({color:0})]}),Object(z.jsxs)("mesh",{children:[x.length>3&&Object(z.jsx)(_.a,{lineWidth:2,points:x,color:"yellow"}),g.filter((function(e){return e.length>3})).map((function(e,t){return Object(z.jsx)(_.a,{opacity:0===t||5===t?1:.5,lineWidth:0===t||5===t?1:.5,points:e,color:"#999"},t)})),Object(z.jsx)("mesh",{args:[y,new M.MeshBasicMaterial({side:M.DoubleSide,color:new M.Color(1,1,0),transparent:!0,opacity:.5,clippingPlanes:[new M.Plane(C.UNIT_VECTOR_POS_Y,0)]})]}),Object(z.jsx)("mesh",{position:m,args:[new M.SphereGeometry(.25,20,20),new M.MeshBasicMaterial({color:4294967040})]})]})]})},xe=n.p+"static/media/aladdin-logo.96b59d24.png",Oe=n.p+"static/media/ifi-logo.eb360016.png",ge=n(42),me=n(43),ye=n(521),ve=n(527),we=n(526);function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Le(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Me(e,t){var n=e.title,a=e.titleId,r=Le(e,["title","titleId"]);return o.createElement("svg",Se({t:1613755944969,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5967,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,ref:t,"aria-labelledby":a},r),n?o.createElement("title",{id:a},n):null,ne||(ne=o.createElement("defs",null,o.createElement("style",{type:"text/css"}))),ae||(ae=o.createElement("path",{d:"M194.187431 235.50871m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5968})),re||(re=o.createElement("path",{d:"M347.505182 165.510915h552.305182v139.99559H347.505182z","p-id":5969})),ie||(ie=o.createElement("path",{d:"M194.187431 512.1129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5970})),oe||(oe=o.createElement("path",{d:"M347.505182 442.115105h552.305182v139.99559H347.505182z","p-id":5971})),ce||(ce=o.createElement("path",{d:"M194.187431 788.49129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5972})),se||(se=o.createElement("path",{d:"M347.505182 718.719294h552.305182v139.99559H347.505182z","p-id":5973})))}var Ce,De,Re,ke,Te,Pe,ze,Ie,Ve,Fe,Ee=o.forwardRef(Me),He=(n.p,n(139),ye.a.SubMenu),We=Object(me.a)(Ee)(Ce||(Ce=Object(ge.a)(["\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  height: 40px;\n  width: 40px;\n  transition: 0.5s;\n  fill: brown;\n\n  &:hover {\n    fill: white;\n  }\n"]))),Ae=function(e){var t=e.collectDailyLightSensorData,n=e.collectYearlyLightSensorData,a=e.openAboutUs,r=(Object(V.a)(e,["collectDailyLightSensorData","collectYearlyLightSensorData","openAboutUs"]),P((function(e){return e.set}))),i=P((function(e){return e.showGroundPanel})),o=P((function(e){return e.showWeatherPanel})),c=(P((function(e){return e.showHeliodonPanel})),Object(z.jsxs)(ye.a,{children:[Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:i,onChange:function(e){r((function(t){t.showGroundPanel=e.target.checked}))},children:"Ground Settings"})},"ground-panel-check-box"),Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:o,onChange:function(e){r((function(t){t.showWeatherPanel=e.target.checked}))},children:"Weather Data"})},"weather-panel-check-box"),Object(z.jsxs)(He,{title:"Sensors",children:[Object(z.jsx)(ye.a.Item,{onClick:t,children:"Collect Daily Data"},"sensor-collect-daily-data"),Object(z.jsx)(ye.a.Item,{onClick:n,children:"Collect Yearly Data"},"sensor-collect-yearly-data")]},"sensors"),Object(z.jsx)(ye.a.Item,{onClick:function(){a(!0)},children:"About Us"},"about-us")]}));return Object(z.jsx)(we.a,{overlay:c,trigger:["click"],children:Object(z.jsx)(We,{})})},Ue=n(525),Ye=n(528),_e=n(322),Ge=n(136),Ne={border:"1px solid",width:"400px",height:"400px"},Be=function(e){var t=e.setLatitude,n=e.setLongitude,a=e.setZoom,r=e.setTilt,i=e.setType,c=P((function(e){return e.latitude})),s=P((function(e){return e.longitude})),l=P((function(e){return e.mapZoom})),u=P((function(e){return e.mapType})),d=P((function(e){return e.mapTilt})),h=Object(o.useState)(null),b=Object(j.a)(h,2),f=b[0],p=b[1],x=Object(o.useRef)(),O=Object(o.useRef)([]),g=P((function(e){return e.weatherData})),m=P((function(e){return e.mapWeatherStations})),y=Object(o.useState)(!1),v=Object(j.a)(y,2),w=v[0],S=v[1];Object(o.useEffect)((function(){}),[w]);var L=Object(o.useCallback)((function(e){p(e)}),[]),M=Object(o.useCallback)((function(e){p(null)}),[]),C={lat:c,lng:s};return Object(z.jsx)(Ge.a,{mapContainerStyle:Ne,mapTypeId:u,center:C,zoom:l,tilt:d,onLoad:L,onBoundsChanged:function(){f&&(x.current=f.getBounds(),m&&function(){if(x.current){for(var e in O.current.length=0,g)if(g.hasOwnProperty(e)){var t=g[e],n=new google.maps.LatLng(t.latitude,t.longitude);x.current.contains(n)&&O.current.push(n)}S(!w)}}())},onUnmount:M,onCenterChanged:function(){if(f){var e=f.getCenter(),a=e.lat();a!==c&&(null===t||void 0===t||t(a));var r=e.lng();r!==s&&(null===n||void 0===n||n(r))}},onZoomChanged:function(){if(f){var e=f.getZoom();e!==l&&(null===a||void 0===a||a(e))}},onTiltChanged:function(){if(f){var e=f.getTilt();e!==d&&(null===r||void 0===r||r(e))}},onMapTypeIdChanged:function(){if(f){var e=f.getMapTypeId();e!==u&&(null===i||void 0===i||i(e))}},children:Object(z.jsx)(z.Fragment,{children:m&&O.current.map((function(e,t){var n=.2*l;return Object(z.jsx)(Ge.b,{icon:{path:google.maps.SymbolPath.CIRCLE,strokeColor:"red",strokeWeight:n+2,scale:n},position:e},t)}))})})},Xe=Object(o.memo)(Be),Ze=n(510),Ke=Object(me.a)(Ze.a)(De||(De=Object(ge.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 999;\n"]))),qe=n(79),Je=n.n(qe),Qe=["places"],$e=me.a.div(Re||(Re=Object(ge.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),et=me.a.div(ke||(ke=Object(ge.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 420px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),tt=me.a.div(Te||(Te=Object(ge.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),nt=function(e){var t=e.grid,n=e.groundImage,a=e.groundColor,r=e.setGrid,i=e.setGroundImage,c=e.setGroundColor,s=e.changeLatitude,l=e.changeLongitude,u=e.changeMapZoom,d=e.changeMapTilt,h=e.changeMapType,b=P((function(e){return e.set})),f=P((function(e){return e.latitude})),p=P((function(e){return e.longitude})),x=P((function(e){return e.mapZoom})),O=P((function(e){return e.mapWeatherStations})),g=P((function(e){return e.address})),m=Object(o.useRef)(),y=Object(o.useState)({x:0,y:0}),v=Object(j.a)(y,2),w=v[0],S=v[1],L=Object(Ge.d)({id:"google-map-script",googleMapsApiKey:"AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs",libraries:Qe}),M=L.isLoaded,C=L.loadError;return Object(z.jsx)(Je.a,{handle:".handle",bounds:"parent",axis:"both",position:w,onDrag:function(e,t){S({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(z.jsx)($e,{children:Object(z.jsxs)(et,{children:[Object(z.jsxs)(tt,{className:"handle",children:[Object(z.jsx)("span",{children:"Ground Settings"}),Object(z.jsx)("span",{style:{cursor:"pointer"},onClick:function(){b((function(e){e.showGroundPanel=!1}))},children:"Close"})]}),Object(z.jsxs)(Ue.b,{direction:"vertical",children:[Object(z.jsxs)(Ue.b,{style:{padding:"20px"},align:"center",size:20,children:[Object(z.jsxs)(Ue.b,{direction:"vertical",children:[Object(z.jsxs)(Ue.b,{children:[Object(z.jsx)(Ue.b,{style:{width:"60px"},children:"Grid:"}),Object(z.jsx)(Ye.a,{title:"Show ground grid",checked:t,onChange:function(e){null===r||void 0===r||r(e)}})]}),Object(z.jsxs)(Ue.b,{children:[Object(z.jsx)(Ue.b,{style:{width:"60px"},children:"Image:"}),Object(z.jsx)(Ye.a,{title:"Show ground image",checked:n,onChange:function(e){null===i||void 0===i||i(e)}})]}),Object(z.jsxs)(Ue.b,{children:[Object(z.jsx)(Ue.b,{style:{width:"60px"},children:"Stations:"}),Object(z.jsx)(Ye.a,{title:"Show weather stations",checked:O,onChange:function(e){var t;t=e,b((function(e){e.mapWeatherStations=t}))}})]})]}),Object(z.jsxs)("div",{children:["Ground Color",Object(z.jsx)("br",{}),Object(z.jsx)(_e.a,{color:a,onChangeComplete:function(e){null===c||void 0===c||c(e.hex)}})]})]}),M&&Object(z.jsx)(Ue.b,{children:Object(z.jsx)("div",{children:Object(z.jsx)(Ge.c,{onLoad:function(e){m.current=e},onPlacesChanged:function(){var e,t=null===(e=m.current)||void 0===e?void 0:e.getPlaces();t&&t.length>0&&b((function(e){var n=t[0].geometry;n&&(e.latitude=n.location.lat(),e.longitude=n.location.lng()),e.address=t[0].formatted_address}))},children:Object(z.jsx)("input",{type:"text",placeholder:g,style:{boxSizing:"border-box",border:"1px solid transparent",width:"400px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"relative"}})})})}),M?Object(z.jsx)(Ue.b,{children:Object(z.jsxs)("div",{children:[Object(z.jsx)(Xe,{setLatitude:s,setLongitude:l,setZoom:u,setTilt:d,setType:h}),"Coordinates: (",f.toFixed(4),"\xb0, ",p.toFixed(4),"\xb0), Zoom: ",x]})}):Object(z.jsx)(Ke,{}),C&&Object(z.jsx)(Ue.b,{children:Object(z.jsx)("div",{children:"Map cannot be loaded right now, sorry."})})]})]})})})},at=n(243),rt=n(511),it=n(520),ot=n(67),ct=n.n(ot),st=me.a.div(Pe||(Pe=Object(ge.a)(["\n  position: fixed;\n  top: 80px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),lt=me.a.div(ze||(ze=Object(ge.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 640px;\n  padding: 0;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),ut=me.a.div(Ie||(Ie=Object(ge.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),dt=function(e){var t=e.heliodon,n=e.latitude,a=e.date,r=e.animateSun,i=e.setHeliodon,c=e.setSunAnimation,s=e.changeLatitude,l=e.changeDate,u=e.changeTime,d=P((function(e){return e.set})),h=Object(o.useRef)(0),b=Object(o.useRef)(-1),f=Object(o.useState)({x:0,y:0}),p=Object(j.a)(f,2),x=p[0],O=p[1];Object(o.useEffect)((function(){return h.current=requestAnimationFrame(g),function(){cancelAnimationFrame(h.current)}}),[r]);var g=function e(){if(r){h.current=requestAnimationFrame(e);var t=Date.now();if(t-b.current>100){var n=a.getDate();a.setHours(a.getHours(),a.getMinutes()+15),a.setDate(n),null===u||void 0===u||u(a),b.current=t}}};return Object(z.jsx)(Je.a,{handle:".handle",bounds:"parent",axis:"both",position:x,onDrag:function(e,t){O({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(z.jsx)(st,{children:Object(z.jsxs)(lt,{children:[Object(z.jsxs)(ut,{className:"handle",children:[Object(z.jsx)("span",{children:"Heliodon Settings"}),Object(z.jsx)("span",{style:{cursor:"pointer"},onClick:function(){d((function(e){e.showHeliodonPanel=!1}))},children:"Close"})]}),Object(z.jsxs)(Ue.b,{style:{padding:"20px"},align:"baseline",size:20,children:[Object(z.jsxs)("div",{children:["Show",Object(z.jsx)("br",{}),Object(z.jsx)(Ye.a,{checked:t,onChange:function(e){null===i||void 0===i||i(e)}})]}),Object(z.jsxs)("div",{children:["Animate",Object(z.jsx)("br",{}),Object(z.jsx)(Ye.a,{checked:r,onChange:function(e){null===c||void 0===c||c(e)}})]}),Object(z.jsxs)("div",{children:["Date",Object(z.jsx)("br",{}),Object(z.jsx)(at.a,{value:ct()(a),onChange:function(e){e&&(null===l||void 0===l||l(e.toDate()))}})]}),Object(z.jsxs)("div",{children:["Time",Object(z.jsx)("br",{}),Object(z.jsx)(rt.a,{value:ct()(a,"HH:mm"),format:"HH:mm",onChange:function(e){e&&(null===u||void 0===u||u(e.toDate()))}})]}),Object(z.jsxs)("div",{children:["Latitude: ",n.toFixed(4),"\xb0",Object(z.jsx)(it.a,{style:{width:"150px"},marks:{"-90":"-90\xb0",0:"0\xb0",90:"90\xb0"},min:-90,max:90,tooltipVisible:!1,defaultValue:n,onChange:function(e){null===s||void 0===s||s(e)}})]})]})]})})})},ht=["#8884d8","#f97356","#1bc32c","#c6502d","#82ca9d","#3eaec0","#627682","#445111"],jt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],bt=(n(324),function(){window.open("https://intofuture.org","_blank")}),ft=n(305),pt=n.n(ft),xt=function(){return Object(z.jsx)(pt.a,{location:"bottom",buttonText:"Accept",cookieName:"AladdinCookieName",style:{background:"#2B373B",textAlign:"center",zIndex:99999},buttonStyle:{color:"#4e503b",fontSize:"12px"},expires:150,children:"By clicking Accept, you agree to our use of cookies to improve your experience with Aladdin."})},Ot=n(512),gt=function(){var e,t=P((function(e){return e.latitude})),n=P((function(e){return e.longitude})),a=P((function(e){return e.mapZoom})),r=Object(Ot.a)("https://maps.googleapis.com/maps/api/staticmap?maptype=satellite&center="+t+","+n+"&zoom="+a+"&size="+(e=640)+"x"+e+"&scale=2&key=AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs");return Object(z.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],children:[Object(z.jsx)("planeBufferGeometry",{args:[100,100]}),Object(z.jsx)("meshStandardMaterial",{attach:"material",side:M.DoubleSide,map:r,opacity:1})]})},mt=n(523),yt=Object(me.a)(ye.a)(Ve||(Ve=Object(ge.a)(["\n  padding: 0;\n  margin: 0;\n"]))),vt=yt.SubMenu,wt={display:"block",height:"30px",paddingLeft:"10px",lineHeight:"30px"},St=function(e){e.city;var t=e.collectDailyLightSensorData,n=e.collectYearlyLightSensorData,a=(Object(V.a)(e,["city","collectDailyLightSensorData","collectYearlyLightSensorData"]),P((function(e){return e.set}))),o=P((function(e){return e.getSelectedElement})),c=P((function(e){return e.updateElementById})),s=P((function(e){return e.axes})),l=P((function(e){return e.grid})),u=P((function(e){return e.theme})),d=P((function(e){return e.showHeliodonPanel})),h=P((function(e){return e.showGroundPanel})),j=P((function(e){return e.showWeatherPanel})),b=P((function(e){return e.clickObjectType})),f=o();switch(f?f.type:b){case i.Sky:return Object(z.jsxs)(yt,{style:{padding:0,margin:0},children:[Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:s,onChange:function(e){a((function(t){t.axes=e.target.checked}))},children:"Axes"})},"axes"),Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:d,onChange:function(e){a((function(t){t.showHeliodonPanel=e.target.checked}))},children:"Heliodon Settings"})},"heliodon-settings"),Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:j,onChange:function(e){a((function(t){t.showWeatherPanel=e.target.checked}))},children:"Weather Data"})},"weather-data"),Object(z.jsx)(vt,{title:"Theme",children:Object(z.jsxs)(mt.a.Group,{value:u,style:{height:"105px"},onChange:function(e){a((function(t){t.theme=e.target.value}))},children:[Object(z.jsx)(mt.a,{style:wt,value:r.Default,children:"Default"}),Object(z.jsx)(mt.a,{style:wt,value:r.Desert,children:"Desert"}),Object(z.jsx)(mt.a,{style:wt,value:r.Grassland,children:"Grassland"})]})},"theme")]});case i.Foundation:return Object(z.jsxs)(yt,{children:[Object(z.jsx)(ye.a.Item,{children:"Copy"},"foundation-copy"),Object(z.jsx)(ye.a.Item,{children:"Cut"},"foundation-cut")]});case i.Sensor:return Object(z.jsxs)(yt,{children:[Object(z.jsx)(ye.a.Item,{children:"Copy"},"sensor-copy"),Object(z.jsx)(ye.a.Item,{children:"Cut"},"sensor-cut"),Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:!!(null===f||void 0===f?void 0:f.showLabel),onChange:function(e){f&&c(f.id,{showLabel:e.target.checked})},children:"Show Label"})},"sensor-light"),Object(z.jsxs)(vt,{title:"Analysis",children:[Object(z.jsx)(ye.a.Item,{onClick:t,children:"Collect Daily Data"},"sensor-collect-daily-data"),Object(z.jsx)(ye.a.Item,{onClick:n,children:"Collect Yearly Data"},"sensor-collect-yearly-data")]},"analysis")]});case i.Cuboid:return Object(z.jsxs)(yt,{children:[Object(z.jsx)(ye.a.Item,{children:"Copy"},"cuboid-copy"),Object(z.jsx)(ye.a.Item,{children:"Cut"},"cuboid-cut")]});default:return Object(z.jsxs)(yt,{children:[Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:l,onChange:function(e){a((function(t){t.grid=e.target.checked}))},children:"Grid"})},"ground-grid"),Object(z.jsx)(ye.a.Item,{children:Object(z.jsx)(ve.a,{checked:h,onChange:function(e){a((function(t){t.showGroundPanel=e.target.checked}))},children:"Ground Settings"})},"ground-settings"),Object(z.jsx)(ye.a.Item,{children:"Paste"},"ground-paste")]})}},Lt=n(326),Mt=n(516),Ct=n(517),Dt=n(158),Rt=n(518),kt=n(315),Tt=n(197),Pt=n(76),zt=n(198),It=n(151),Vt=function(e){var t=e.type,n=e.dataSource,r=e.height,i=e.labelX,c=e.labelY,s=e.unitX,l=e.unitY,u=e.yMin,d=void 0===u?"auto":u,h=e.yMax,b=void 0===h?"auto":h,f=e.fractionDigits,p=void 0===f?2:f,x=e.referenceX,O=e.color,g=(Object(V.a)(e,["type","dataSource","height","labelX","labelY","unitX","unitY","yMin","yMax","fractionDigits","referenceX","color"]),Object(o.useState)(0)),m=Object(j.a)(g,2),y=m[0],v=m[1],w=Object(o.useState)(!0),S=Object(j.a)(w,2),L=S[0],M=(S[1],Object(o.useState)(!0)),C=Object(j.a)(M,2),D=C[0],R=(C[1],Object(o.useState)(null)),k=Object(j.a)(R,2),T=k[0],P=k[1];Object(o.useEffect)((function(){if(n){var e=Array.isArray(n)?Object.keys(n[0]).length-1:Object.keys(n).length-1;y!==e&&v(e)}}),[n]);var I=Object(o.useMemo)((function(){for(var e=[],n=0;n<y;n++){var r="";switch(t){case a.MonthlyTemperatures:r=0===n?"Low":"High";break;case a.SunshineHours:r="Sunshine";break;case a.HourlyTemperatures:r="Temperature";break;case a.DaylightData:r="Daylight";break;case a.ClearnessData:r="Clearness";break;case a.DailyRadiationSensorData:case a.YearlyRadiationSensorData:r="Radiation"}var i=null===T||T===r?1:.25;e.push(Object(z.jsx)(Lt.a,{name:r,dataKey:r,fill:O||ht[n],opacity:i,isAnimationActive:!1},n))}return e}),[y,T]);return Object(z.jsx)(z.Fragment,{children:n&&Object(z.jsx)("div",{id:"bar-graph-"+i+"-"+c,style:{width:"100%",height:"".concat(r,"%"),position:"relative"},children:Object(z.jsx)("div",{style:{userSelect:"none",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:Object(z.jsx)(Mt.a,{width:"100%",height:"100%",children:Object(z.jsxs)(Ct.a,{data:n,onMouseDown:function(e){},margin:{top:5,right:30,left:20,bottom:30},children:[Object(z.jsx)(Dt.a,{formatter:function(e){return e.toFixed(p)+" "+l}}),Object(z.jsx)(Rt.a,{vertical:D,horizontal:L,stroke:"rgba(128, 128, 128, 0.3)"}),Object(z.jsx)(kt.a,{x:x,stroke:"orange",strokeWidth:2}),Object(z.jsx)(Tt.a,{dataKey:i,children:Object(z.jsx)(Pt.a,{value:i+(s?" ("+s+")":""),offset:0,position:"bottom"})}),Object(z.jsx)(zt.a,{domain:[d,b],children:Object(z.jsx)(Pt.a,{dx:-15,value:c+(l?" ("+l+")":""),offset:0,angle:-90,position:"center"})}),I,y>1&&Object(z.jsx)(It.a,{iconType:"plainline",verticalAlign:"top",height:36,onMouseLeave:function(e){P(null)},onMouseEnter:function(e){P(e.dataKey)}})]})})})})})},Ft=n(321),Et=n(519),Ht=["circle","square","triangle up","triangle down","triangle right","triangle left","star","diamond","hexagon"];!function(e){e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(Fe||(Fe={}));var Wt,At,Ut,Yt,_t,Gt,Nt,Bt,Xt,Zt,Kt,qt=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);return t&&n&&i>0&&i%l===0?Object(z.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(z.jsx)("circle",{cx:"0",cy:"0",r:"3",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})}):null},Jt=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);return t&&n&&i>0&&i%l===0?Object(z.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(z.jsx)("rect",{x:"-3",y:"-3",width:"6",height:"6",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})}):null},Qt=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=e.direction,u=Math.round(o.length/s);if(t&&n&&i>0&&i%u===0){var d;switch(l){case Fe.UP:d="-4,2.5,4,2.5,0,-3.5";break;case Fe.LEFT:d="2.5,4,2.5,-4,-3.5,0";break;case Fe.RIGHT:d="-2.5,4,-2.5,-4,3.5,0";break;default:d="-4,-2.5,4,-2.5,0,3.5"}return Object(z.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(z.jsx)("polygon",{points:d,style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})})}return null},$t=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);return t&&n&&i>0&&i%l===0?Object(z.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(z.jsx)("polygon",{points:"-3,0,0,5,3,0,0,-5",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})}):null},en=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);if(t&&n&&i>0&&i%l===0){var u=.05*c;return Object(z.jsx)("svg",{x:t-100*u,y:n-100*u,width:300*u,height:300*u,viewBox:"0 0 300 300",children:Object(z.jsx)("polygon",{points:"100,10 40,180 190,60 10,60 160,180",style:{opacity:a,stroke:r,fill:r,strokeWidth:1}})})}return null},tn=function(e){var t=e.cx,n=e.cy,a=e.opacity,r=e.stroke,i=e.index,o=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(o.length/s);if(t&&n&&i>0&&i%l===0){var u=.02*c;return Object(z.jsx)("svg",{x:t-150*u,y:n-150*u,width:300*u,height:300*u,viewBox:"0 0 300 300",children:Object(z.jsx)("polygon",{className:"hex",points:"300,150 225,280 75,280 0,150 75,20 225,20",style:{opacity:a,stroke:r,fill:"white",strokeWidth:1}})})}return null},nn=function(e,t,n,a){switch(e){case"circle":return Object(z.jsx)(qt,{scale:t,numberOfSymbols:n,opacity:a});case"square":return Object(z.jsx)(Jt,{scale:t,numberOfSymbols:n,opacity:a});case"triangle up":return Object(z.jsx)(Qt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.UP,opacity:a});case"triangle down":return Object(z.jsx)(Qt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.DOWN,opacity:a});case"triangle right":return Object(z.jsx)(Qt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.RIGHT,opacity:a});case"triangle left":return Object(z.jsx)(Qt,{scale:1.1*t,numberOfSymbols:n,direction:Fe.LEFT,opacity:a});case"star":return Object(z.jsx)(en,{scale:1.25*t,numberOfSymbols:n,opacity:a});case"diamond":return Object(z.jsx)($t,{scale:1.1*t,numberOfSymbols:n,opacity:a});case"hexagon":return Object(z.jsx)(tn,{scale:1.3*t,numberOfSymbols:n,opacity:a})}},an=function(e){var t=e.type,n=e.dataSource,r=e.height,i=e.labelX,c=e.labelY,s=e.unitX,l=e.unitY,u=e.yMin,d=void 0===u?"auto":u,h=e.yMax,b=void 0===h?"auto":h,f=e.curveType,p=void 0===f?"linear":f,x=e.referenceX,O=e.fractionDigits,g=void 0===O?2:O,m=e.symbolCount,y=void 0===m?12:m,v=(Object(V.a)(e,["type","dataSource","height","labelX","labelY","unitX","unitY","yMin","yMax","curveType","referenceX","fractionDigits","symbolCount"]),Object(o.useState)(0)),w=Object(j.a)(v,2),S=w[0],L=w[1],M=Object(o.useState)(!0),C=Object(j.a)(M,2),D=C[0],R=(C[1],Object(o.useState)(!0)),k=Object(j.a)(R,2),T=k[0],P=(k[1],Object(o.useState)(null)),I=Object(j.a)(P,2),F=I[0],E=I[1],H=Object(o.useState)(2),W=Object(j.a)(H,2),A=W[0],U=(W[1],Object(o.useState)(1)),Y=Object(j.a)(U,2),_=Y[0];Y[1];Object(o.useEffect)((function(){if(n){var e=Array.isArray(n)?Object.keys(n[0]).length-1:Object.keys(n).length-1;S!==e&&L(e)}}),[n]);var G=Object(o.useMemo)((function(){for(var e,n=[],r=0;r<S;r++){var i="";switch(t){case a.MonthlyTemperatures:i=0===r?"Low":"High";break;case a.SunshineHours:i="Sunshine";break;case a.HourlyTemperatures:i="Temperature";break;case a.DaylightData:i="Daylight";break;case a.ClearnessData:i="Clearness";break;case a.DailyRadiationSensorData:case a.YearlyRadiationSensorData:i="Radiation"+(r+1)}var o=null===F||F===i?1:.25,c=nn(Ht[r],_,y,o);0===r&&(e=c),n.push(Object(z.jsx)(Ft.a,{type:p,name:i,dataKey:i,stroke:ht[r],opacity:o,strokeWidth:A,dot:y>0&&(c||e),isAnimationActive:!1},r))}return n}),[S,A,y,_,F]);return Object(z.jsx)(z.Fragment,{children:n&&Object(z.jsx)("div",{id:"line-graph-"+i+"-"+c,style:{width:"100%",height:"".concat(r,"%"),position:"relative"},children:Object(z.jsx)("div",{style:{userSelect:"none",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:Object(z.jsx)(Mt.a,{width:"100%",height:"100%",children:Object(z.jsxs)(Et.a,{data:n,onMouseDown:function(e){},margin:{top:5,right:30,left:20,bottom:30},children:[Object(z.jsx)(Dt.a,{formatter:function(e){return e.toFixed(g)+" "+l}}),Object(z.jsx)(Rt.a,{vertical:T,horizontal:D,stroke:"rgba(128, 128, 128, 0.3)"}),Object(z.jsx)(kt.a,{x:x,stroke:"orange",strokeWidth:2}),Object(z.jsx)(Tt.a,{dataKey:i,children:Object(z.jsx)(Pt.a,{value:i+(s?" ("+s+")":""),offset:0,position:"bottom"})}),Object(z.jsx)(zt.a,{domain:[d,b],children:Object(z.jsx)(Pt.a,{dx:-15,value:c+(l?" ("+l+")":""),offset:0,angle:-90,position:"center"})}),G,S>1&&Object(z.jsx)(It.a,{iconType:"plainline",verticalAlign:"top",height:36,onMouseLeave:function(e){E(null)},onMouseEnter:function(e){E(e.dataKey)}})]})})})})})},rn=me.a.div(Wt||(Wt=Object(ge.a)(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),on=me.a.div(At||(At=Object(ge.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 500px;\n  height: 500px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),cn=me.a.div(Ut||(Ut=Object(ge.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),sn=function(e){var t=e.city,n=e.graphs,r=Object(V.a)(e,["city","graphs"]),i=P((function(e){return e.set})),c=P((function(e){return e.getWeather})),s=P((function(e){return e.date})),l=Object(o.useState)({x:0,y:0}),u=Object(j.a)(l,2),d=u[0],h=u[1],b=Object(o.useMemo)((function(){return n?Math.floor(100/n.length):100}),[n]),p=Object(o.useMemo)((function(){if(n){var e={};if(t){var r=c(t);r&&n.forEach((function(t){switch(e[t]=[],t){case a.MonthlyTemperatures:for(var n=0;n<12;n++)e[t].push({Month:jt[n],Low:r.lowestTemperatures[n],High:r.highestTemperatures[n]});break;case a.SunshineHours:for(var i=0;i<12;i++)e[t].push({Month:jt[i],Sunshine:r.sunshineHours[i]})}}))}return e}}),[n,t]),x=["Temperature","Temperature","Sunshine"],O=["\xb0C","\xb0C","Hours"],g=jt[Math.floor(C.daysIntoYear(s)/365*12)];return Object(z.jsx)(Je.a,{handle:".handle",bounds:"parent",axis:"both",position:d,onDrag:function(e,t){h({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(z.jsx)(rn,{children:Object(z.jsxs)(on,{children:[Object(z.jsxs)(cn,{className:"handle",children:[Object(z.jsxs)("span",{children:["Weather: ",t]}),Object(z.jsx)("span",{style:{cursor:"pointer"},onClick:function(){i((function(e){e.showWeatherPanel=!1}))},children:"Close"})]}),Object(z.jsx)(z.Fragment,{children:n.map((function(e){return e===a.SunshineHours?Object(z.jsx)(Vt,Object(f.a)({type:e,dataSource:p[e],height:b,labelX:"Month",labelY:x[e],unitY:O[e],yMin:0,fractionDigits:0,referenceX:g,color:"#FFD700"},r),e):Object(z.jsx)(an,Object(f.a)({type:e,dataSource:p[e],height:b,labelX:"Month",labelY:x[e],unitY:O[e],fractionDigits:0,referenceX:g},r),e)}))})]})})})},ln=me.a.div(Yt||(Yt=Object(ge.a)(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),un=me.a.div(_t||(_t=Object(ge.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 500px;\n  height: 650px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n"]))),dn=me.a.div(Gt||(Gt=Object(ge.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),hn=function(e){var t=e.city,n=Object(V.a)(e,["city"]),r=P((function(e){return e.set})),i=P((function(e){return e.yearlyLightSensorData})),c=P((function(e){return e.date})),s=Object(o.useState)({x:0,y:0}),l=Object(j.a)(s,2),u=l[0],d=l[1],h=jt[Math.floor(C.daysIntoYear(c)/365*12)];return Object(z.jsx)(Je.a,{handle:".handle",bounds:"parent",axis:"both",position:u,onDrag:function(e,t){d({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(z.jsx)(ln,{children:Object(z.jsxs)(un,{children:[Object(z.jsxs)(dn,{className:"handle",children:[Object(z.jsxs)("span",{children:["Light Sensor: ",t]}),Object(z.jsx)("span",{style:{cursor:"pointer"},onClick:function(){r((function(e){e.showYearlyLightSensorPanel=!1}))},children:"Close"})]}),Object(z.jsx)(an,Object(f.a)({type:a.DaylightData,dataSource:i.map((function(e){return{Month:e.Month,Daylight:e.Daylight}})),height:100,labelX:"Month",labelY:"Daylight",unitY:"Hours",yMin:0,curveType:"natural",fractionDigits:1,referenceX:h},n)),Object(z.jsx)(Vt,Object(f.a)({type:a.ClearnessData,dataSource:i.map((function(e){return{Month:e.Month,Clearness:e.Clearness}})),height:100,labelX:"Month",labelY:"Clearness",unitY:"%",yMin:0,yMax:100,fractionDigits:1,referenceX:h,color:"#66CDAA"},n)),Object(z.jsx)(an,Object(f.a)({type:a.YearlyRadiationSensorData,dataSource:i.map((function(e){e.Daylight,e.Clearness;return Object(V.a)(e,["Daylight","Clearness"])})),height:100,labelX:"Month",labelY:"Radiation",unitY:"kWh/m\xb2/day",yMin:0,curveType:"natural",fractionDigits:2,referenceX:h},n))]})})})},jn=me.a.div(Nt||(Nt=Object(ge.a)(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),bn=me.a.div(Bt||(Bt=Object(ge.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 600px;\n  height: 300px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n  overflow-y: auto;\n"]))),fn=me.a.div(Xt||(Xt=Object(ge.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  cursor: move;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),pn=function(e){var t=e.city,n=Object(V.a)(e,["city"]),r=P((function(e){return e.set})),i=P((function(e){return e.dailyLightSensorData})),c=new Date(P((function(e){return e.date}))),s=Object(o.useState)({x:0,y:0}),l=Object(j.a)(s,2),u=l[0],d=l[1];return Object(z.jsx)(Je.a,{handle:".handle",bounds:"parent",axis:"both",position:u,onDrag:function(e,t){d({x:t.x,y:t.y})},onStart:function(e,t){},onStop:function(e,t){},children:Object(z.jsx)(jn,{children:Object(z.jsxs)(bn,{children:[Object(z.jsxs)(fn,{className:"handle",children:[Object(z.jsxs)("span",{children:["Light Sensor: ",t," | ",ct()(c).format("MM/DD")]}),Object(z.jsx)("span",{style:{cursor:"pointer"},onClick:function(){r((function(e){e.showDailyLightSensorPanel=!1}))},children:"Close"})]}),Object(z.jsx)(an,Object(f.a)({type:a.DailyRadiationSensorData,dataSource:i,height:100,labelX:"Hour",labelY:"Radiation",unitY:"kWh/m\xb2/day",yMin:0,curveType:"linear",fractionDigits:2,symbolCount:24,referenceX:c.getHours()},n))]})})})},xn=function(e){var t=e.city,n=e.dailyLightSensorDataFlag,a=e.yearlyLightSensorDataFlag,r=P((function(e){return e.world})),c=P((function(e){return e.elements})),s=P((function(e){return e.getWeather})),l=new Date(P((function(e){return e.date}))),u=P((function(e){return e.latitude})),d=P((function(e){return e.timesPerHour})),h=P((function(e){return e.setDailyLightSensorData})),f=P((function(e){return e.setYearlyLightSensorData})),O=Object(b.e)().scene,g=s(null!==t&&void 0!==t?t:"Boston MA, USA"),m=t?s(t).elevation:0,y=60/d,v=Object(o.useMemo)((function(){return new M.Raycaster}),[]);Object(o.useEffect)((function(){c&&c.length>0&&S()}),[n]),Object(o.useEffect)((function(){c&&c.length>0&&D()}),[a]);var w=function(e,t,n){v.set(C.modelToView(t),C.modelToView(n));var a=O.children.filter((function(e){return"Content"===e.name}));if(a.length>0){var r,i=a[0].children,o=[],c=Object(p.a)(i);try{for(c.s();!(r=c.n()).done;){var s=r.value;o.push.apply(o,Object(x.a)(s.children.filter((function(e){return e.castShadow}))))}}catch(l){c.e(l)}finally{c.f()}return v.intersectObjects(o).length>0}return!1},S=function(){var e,t=new Map,n=0,a=Object(p.a)(c);try{for(a.s();!(e=a.n()).done;){var r=e.value;r.type===i.Sensor&&(t.set("Radiation"+(n+1),L(r)),n++)}}catch(b){a.e(b)}finally{a.f()}for(var o=[],s=0;s<24;s++){var l={};l.Hour=s;for(var u=1;u<=n;u++){var d,j="Radiation"+u;l[j]=null===(d=t.get(j))||void 0===d?void 0:d[s]}o.push(l)}h(o)},L=function(e){for(var t=new M.Vector3(e.cx,e.cy,e.cz),n=new M.Vector3(e.normal[0],e.normal[1],e.normal[2]),a=new Array(24).fill(0),i=l.getFullYear(),o=l.getMonth(),c=l.getDate(),s=C.dayOfYear(l),h=0,j=0;j<24;j++)for(var b=0;b<d;b++){var f=new Date(i,o,c,j,b*y),p=he(f,u);if(p.z>0){h++;var x=be(p,s,m,T.SPHERE_MODEL),O=n.dot(p);O>0&&(w(0,t,p)||(a[j]+=O*x)),a[j]+=fe(r.ground,o,n,x)}}var v=h*y/60,S=g.sunshineHours[o]/(30*v);return a.map((function(e){return e*S/d}))},D=function(){var e,t=[],n=Object(p.a)(c);try{for(n.s();!(e=n.n()).done;){var a=e.value;a.type===i.Sensor&&t.push(R(a))}}catch(x){n.e(x)}finally{n.f()}for(var r=[],o=0;o<12;o++){var s={};s.Month=jt[o];var l,u=Object(p.a)(t.entries());try{for(u.s();!(l=u.n()).done;){var d=Object(j.a)(l.value,2),h=d[0],b=d[1];s.Daylight=b[o].Daylight,s.Clearness=b[o].Clearness,s["Radiation"+(h+1)]=b[o].Radiation}}catch(x){u.e(x)}finally{u.f()}r.push(s)}f(r)},R=function(e){for(var t=[],n=new M.Vector3(e.cx,e.cy,e.cz),a=new M.Vector3(e.normal[0],e.normal[1],e.normal[2]),i=l.getFullYear(),o=0;o<12;o++){for(var c=new Date(i,o,15),s=C.dayOfYear(c),h=0,j=0,b=0;b<24;b++)for(var f=0;f<d;f++){var p=new Date(i,o,15,b,f*y),x=he(p,u);if(x.z>0){j++;var O=be(x,s,m,T.SPHERE_MODEL),v=a.dot(x);v>0&&(w(0,n,x)||(h+=v*O)),h+=fe(r.ground,o,a,O)}}var S=j*y/60,L=g.sunshineHours[c.getMonth()]/(30*S);h*=L,h/=d,t.push({Month:jt[o],Daylight:S,Clearness:100*L,Radiation:h})}return t};return Object(z.jsx)(z.Fragment,{})},On=n(135),gn=me.a.div(Zt||(Zt=Object(ge.a)(["\n  position: fixed;\n  top: 4px;\n  left: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),mn=function(e){var t=e.orbitControls,n=P((function(e){return e.set})),a=P((function(e){return e.autoRotate})),r=P((function(e){return e.showHeliodonPanel}));return Object(z.jsx)(gn,{children:Object(z.jsxs)(Ue.b,{direction:"horizontal",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{style:{paddingRight:"10px"},children:"Spin"}),Object(z.jsx)(Ye.a,{title:"Spin view",checked:a,onChange:function(e){n((function(t){t.autoRotate=e}))}})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("span",{style:{paddingRight:"10px",paddingLeft:"10px"},children:"Heliodon"}),Object(z.jsx)(Ye.a,{title:"Show heliodon",checked:r,onChange:function(e){n((function(t){t.showHeliodonPanel=e}))}})]}),Object(z.jsx)("div",{children:Object(z.jsx)(On.a,{type:"primary",title:"Reset view",onClick:function(){t&&t.reset()},children:" Reset "})})]})})},yn=function(e){var t=e.top,n=e.height,a=e.color,r=t+56+"px",i=t+110+"px",o=t+220+"px";return Object(z.jsxs)("div",{children:[Object(z.jsxs)("div",{style:{position:"absolute",borderRadius:"20px",border:"thin",textAlign:"center",left:"15%",right:"15%",top:t+"px",height:(null!==n&&void 0!==n?n:300)+"px"},children:[Object(z.jsx)("h2",{style:{marginTop:"20px",color:a},children:"This product is brought to you by"}),Object(z.jsxs)("p",{style:{fontSize:"12px",color:a},children:[Object(z.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://intofuture.org/aladdin-terms.html",style:{color:a},children:"Terms of Service"}),"\xa0\xa0\xa0|\xa0\xa0\xa0",Object(z.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://intofuture.org/aladdin-privacy.html",style:{color:a},children:"Privacy Policy"})]})]}),Object(z.jsxs)("div",{children:[Object(z.jsx)("hr",{style:{position:"absolute",left:"10%",width:"80%",marginTop:r,color:a}}),Object(z.jsx)("table",{style:{position:"absolute",border:"none",top:i,left:"10%",width:"80%",fontSize:"small",color:a},children:Object(z.jsx)("tbody",{children:Object(z.jsxs)("tr",{style:{verticalAlign:"top"},children:[Object(z.jsxs)("td",{children:[Object(z.jsx)("h3",{style:{color:a},children:"Software"}),"Charles Xie",Object(z.jsx)("br",{})]}),Object(z.jsxs)("td",{children:[Object(z.jsx)("h3",{style:{color:a},children:"Content"}),"Rundong Jiang",Object(z.jsx)("br",{}),"Charles Xie",Object(z.jsx)("br",{})]}),Object(z.jsxs)("td",{children:[Object(z.jsx)("h3",{style:{color:a},children:"Research"}),"Shannon Sung",Object(z.jsx)("br",{}),"Charles Xie",Object(z.jsx)("br",{})]}),Object(z.jsxs)("td",{children:[Object(z.jsx)("h3",{style:{color:a},children:"Support"}),"Rundong Jiang",Object(z.jsx)("br",{})]})]})})})]}),Object(z.jsx)("div",{style:{position:"absolute",left:"10%",marginRight:"10%",top:o,fontSize:"small",textAlign:"justify",color:a},children:"The National Science Foundation (NSF) of the United States generously provided funding for the research and development of this product through grant numbers 1918847, 2105695, and 2131097. Any opinions, findings, and conclusions or recommendations expressed in this product, however, are those of the authors and do not necessarily reflect the views of NSF."})]})},vn=me.a.div(Kt||(Kt=Object(ge.a)(["\n  position: absolute;\n  top: 80px;\n  left: 10px;\n  display: flex;\n  width: 600px;\n  height: 400px;\n  flex-direction: column;\n  align-items: center;\n  z-index: 9;\n  border-radius: 10px;\n  background: dimgray;\n  box-shadow: 3px 3px 3px 3px black;\n"]))),wn=function(e){var t=e.openAboutUs;return Object(z.jsxs)(vn,{children:[Object(z.jsx)(yn,{top:10,color:"antiquewhite"}),Object(z.jsx)("div",{style:{position:"absolute",fontSize:"medium",color:"antiquewhite",cursor:"pointer",bottom:"10px"},onClick:function(){t(!1)},children:"Close"})]})},Sn=function(){var e=P((function(e){return e.set})),t=P((function(e){return e.world})),n=P((function(e){return e.loadWeatherData})),r=P((function(e){return e.getClosestCity})),i=P((function(e){return e.showGroundPanel})),c=P((function(e){return e.showHeliodonPanel})),s=P((function(e){return e.showWeatherPanel})),l=P((function(e){return e.showDailyLightSensorPanel})),u=P((function(e){return e.showYearlyLightSensorPanel})),f=P((function(e){return e.autoRotate})),p=P((function(e){return e.axes})),x=P((function(e){return e.grid})),O=P((function(e){return e.enableOrbitController})),g=P((function(e){return e.groundImage})),m=P((function(e){return e.groundColor})),y=P((function(e){return e.theme})),v=P((function(e){return e.heliodon})),w=P((function(e){return e.latitude})),S=P((function(e){return e.longitude})),L=P((function(e){return e.weatherData})),D=new Date(P((function(e){return e.date}))),R=Object(o.useState)(0),k=Object(j.a)(R,2),T=k[0],V=k[1],F=Object(o.useState)(0),E=Object(j.a)(F,2),H=E[0],W=E[1],A=Object(o.useState)(new M.Vector3(0,2,2)),U=Object(j.a)(A,2),_=U[0],N=U[1],B=Object(o.useState)(!1),X=Object(j.a)(B,2),K=X[0],q=X[1],J=Object(o.useState)("Boston MA, USA"),Q=Object(j.a)(J,2),te=Q[0],ne=Q[1],ae=Object(o.useState)(!1),re=Object(j.a)(ae,2),ie=re[0],oe=re[1],ce=Object(o.useState)(!1),se=Object(j.a)(ce,2),le=se[0],he=se[1],be=Object(o.useState)(!1),fe=Object(j.a)(be,2),ge=fe[0],me=fe[1],ye=Object(o.useRef)();Object(o.useEffect)((function(){n()}),[]),Object(o.useEffect)((function(){N(je(10,T,H,C.toRadians(w)).applyEuler(new M.Euler(-Math.PI/2,0,0)))}),[w,T,H]),Object(o.useEffect)((function(){ne(r(w,S))}),[w,S,L]);var ve=D.toString();Object(o.useMemo)((function(){V(de(D)),W(ue(D))}),[ve]);var Se=new M.Vector3(0,0,5),Le=new M.Vector3;t&&(Se.set(t.cameraPosition.x,t.cameraPosition.y,t.cameraPosition.z),Le.set(t.panCenter.x,t.panCenter.y,t.panCenter.z));var Me=_.y>0,Ce=function(){e((function(e){e.timesPerHour=20})),oe(!ie),e((function(e){e.showDailyLightSensorPanel=!0}))},De=function(){var t=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e((function(e){e.timesPerHour=20})),he(!le),e((function(e){e.showYearlyLightSensorPanel=!0}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Re=function(e){me(e)};return console.log("x"),Object(z.jsxs)("div",{className:"App",children:[Object(z.jsxs)("div",{style:{backgroundColor:"lightblue",height:"72px",paddingTop:"10px",fontSize:"30px"},children:[Object(z.jsx)("img",{alt:"Aladdin Logo",src:xe,height:"50px",style:{verticalAlign:"middle"}}),Object(z.jsx)("span",{style:{paddingLeft:"20px",verticalAlign:"middle"},children:"Aladdin"})]}),Object(z.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:999,fontSize:"12px",color:"white"},children:[Object(z.jsx)("img",{alt:"IFI Logo",src:Oe,height:"40px",style:{verticalAlign:"bottom",cursor:"pointer"},title:"Go to Institute for Future Intelligence",onClick:bt}),"\xa0\xa0 Institute for Future Intelligence, \xa9",(new Date).getFullYear(),". Version ","0.0.1"]}),Object(z.jsx)(Ae,{collectDailyLightSensorData:Ce,collectYearlyLightSensorData:De,openAboutUs:Re}),Object(z.jsx)(mn,{orbitControls:ye.current}),i&&Object(z.jsx)(nt,{grid:x,groundImage:g,groundColor:m,setGrid:function(t){e((function(e){e.grid=t}))},setGroundImage:function(t){e((function(e){e.groundImage=t}))},setGroundColor:function(t){e((function(e){e.groundColor=t}))},changeLatitude:function(t){e((function(e){e.latitude=t}))},changeLongitude:function(t){e((function(e){e.longitude=t}))},changeMapZoom:function(t){e((function(e){e.mapZoom=t}))},changeMapTilt:function(t){e((function(e){e.mapTilt=t}))},changeMapType:function(t){e((function(e){e.mapType=t}))}}),c&&Object(z.jsx)(dt,{latitude:w,date:D,heliodon:v,animateSun:K,changeDate:function(t){var n=new Date(D);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()),e((function(e){e.date=n.toString()}))},changeTime:function(t){var n=new Date(D);n.setHours(t.getHours(),t.getMinutes()),e((function(e){e.date=n.toString()}))},changeLatitude:function(t){e((function(e){e.latitude=t,e.address=""}))},setHeliodon:function(t){e((function(e){e.heliodon=t}))},setSunAnimation:function(e){q(e)}}),u&&Object(z.jsx)(hn,{city:te}),l&&Object(z.jsx)(pn,{city:te}),s&&Object(z.jsx)(sn,{city:te,graphs:[a.MonthlyTemperatures,a.SunshineHours]}),ge&&Object(z.jsx)(wn,{openAboutUs:Re}),Object(z.jsx)(we.a,{trigger:["contextMenu"],overlay:Object(z.jsx)(St,{city:te,collectDailyLightSensorData:Ce,collectYearlyLightSensorData:De}),children:Object(z.jsx)("div",{children:Object(z.jsxs)(b.a,{shadows:!0,camera:{position:Se,fov:90},style:{height:"calc(100vh - 70px)",backgroundColor:"black"},children:[Object(z.jsx)(I,{enabled:O,autoRotate:f,panCenter:Le,orbitControlsRef:ye}),Object(z.jsx)($,{}),Object(z.jsxs)(o.Suspense,{fallback:null,children:[Object(z.jsx)("ambientLight",{intensity:.25,name:"Ambient Light"}),Object(z.jsx)("directionalLight",{name:"Directional Light",color:"white",position:[_.x,_.y,_.z],intensity:Me?.5:0,castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512}),(x||!O)&&Object(z.jsx)("gridHelper",{name:"Grid",args:[500,100,"gray","gray"]}),Object(z.jsx)(Z,{}),Object(z.jsx)(xn,{city:te,dailyLightSensorDataFlag:ie,yearlyLightSensorDataFlag:le}),p&&Object(z.jsx)(G,{}),Object(z.jsx)(ee,{}),g&&Object(z.jsx)(gt,{}),Object(z.jsx)(Y,{theme:y,night:!Me}),v&&Object(z.jsx)(pe,{hourAngle:T,declinationAngle:H,radius:10,date:D,latitude:C.toRadians(w)})]})]})})},"canvas-context-menu"),Object(z.jsx)(xt,{})]})},Ln=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,529)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),i(e),o(e)}))};l.a.render(Object(z.jsx)(c.a.StrictMode,{children:Object(z.jsx)(Sn,{})}),document.getElementById("root")),Ln()}},[[504,1,2]]]);
//# sourceMappingURL=main.677a627a.chunk.js.map