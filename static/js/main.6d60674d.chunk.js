(this.webpackJsonpaladdin=this.webpackJsonpaladdin||[]).push([[0],{323:function(e,t,n){},324:function(e,t,n){},488:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(45),a=n.n(o),c=(n(323),n(24)),s=(n(324),n(65)),l=n(277),u=n(40),d=n(173),h=n(225),j=n(224),b=n(6),f=n.p+"static/media/weather.55ddf5ca.csv",p=n(273),x=n.n(p),g=n(4),O=n(10),m=function(){function e(){Object(g.a)(this,e)}return Object(O.a)(e,null,[{key:"UNIT_VECTOR_POS_X",get:function(){return new b.Vector3(1,0,0)}},{key:"UNIT_VECTOR_NEG_X",get:function(){return new b.Vector3(-1,0,0)}},{key:"UNIT_VECTOR_POS_Y",get:function(){return new b.Vector3(0,1,0)}},{key:"UNIT_VECTOR_NEG_Y",get:function(){return new b.Vector3(0,-1,0)}},{key:"UNIT_VECTOR_POS_Z",get:function(){return new b.Vector3(0,0,1)}},{key:"UNIT_VECTOR_NEG_Z",get:function(){return new b.Vector3(0,0,-1)}},{key:"ZERO_TOLERANCE",get:function(){return 1e-4}},{key:"HALF_PI",get:function(){return Math.PI/2}},{key:"TWO_PI",get:function(){return 2*Math.PI}},{key:"toRadians",value:function(e){return e*(Math.PI/180)}},{key:"toDegrees",value:function(e){return e*(180/Math.PI)}},{key:"sphericalToCartesianZ",value:function(e){var t=e.x*Math.cos(e.z),n=t*Math.cos(e.y),r=t*Math.sin(e.y),i=e.x*Math.sin(e.z);return e.set(n,r,i),e}},{key:"getDistance",value:function(t,n,r,i){return t=e.toRadians(t),n=e.toRadians(n),r=e.toRadians(r),i=e.toRadians(i),Math.acos(Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos(Math.abs(t-r)))}},{key:"daysIntoYear",value:function(e){var t=new Date(e),n=new Date(t.getFullYear(),0,0),r=t.getTime()-n.getTime();return Math.floor(r/864e5)}}]),e}();Object(j.b)();var y=Object(d.a)(Object(h.devtools)(Object(h.persist)((function(e,t,n){var r=function(t){return e(Object(j.a)(t))};return{set:r,showGroundPanel:!1,showHeliodonPanel:!1,showWeatherPanel:!1,grid:!1,axes:!0,groundImage:!1,groundColor:"forestgreen",theme:"Default",heliodon:!1,address:"Natick, MA",latitude:42.2844063,longitude:-71.3488548,mapZoom:16,mapType:"roadmap",mapTilt:0,date:new Date(2021,5,22,12).toString(),weatherData:{},clickObjectType:null,worlds:{},getWorld:function(e){return t().worlds[e]},createNewWorld:function(){r((function(e){var t=[];t.push({type:"Foundation",cx:0,cy:0,lx:1,ly:2,height:.1,id:"f1"}),t.push({type:"Foundation",cx:0,cy:2,lx:2,ly:2,height:.2,id:"f2"});var n={name:"default",elements:t,cameraPosition:new b.Vector3(0,0,5)};e.worlds[n.name]=n}))},loadWeatherData:function(){var e=[];x.a.parse(f,{download:!0,complete:function(t){var n,i=Object(u.a)(t.data);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Array.isArray(o)&&o.length>1){for(var a=[],c=[],s=[],l=5;l<29;l++)(l-5)%2===0?a.push(parseFloat(o[l].trim())):c.push(parseFloat(o[l].trim()));for(var d=29;d<41;d++)s.push(parseFloat(o[d].trim()));var h={city:o[0].trim(),country:o[1].trim(),longitude:parseFloat(o[2].trim()),latitude:parseFloat(o[3].trim()),elevation:parseFloat(o[4].trim()),lowestTemperatures:a,highestTemperatures:c,sunshineHours:s};e.push(h)}}}catch(j){i.e(j)}finally{i.f()}r((function(t){var n,r=Object(u.a)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.weatherData[i.city+", "+i.country]=i}}catch(j){r.e(j)}finally{r.f()}}))}})},getWeather:function(e){return t().weatherData[e]},getClosestCity:function(e,n){var r,i=Number.MAX_VALUE,o=null,a=t().weatherData;for(var c in a)a.hasOwnProperty(c)&&(r=m.getDistance(n,e,a[c].longitude,a[c].latitude))<i&&(i=r,o=c);return o}}}),{name:"aladdin-storage"}))),v=n(3);Object(s.b)({OrbitControls:l.a});var w,M,k,S=function(){var e=y((function(e){return e.set})),t=Object(s.e)(),n=t.camera,i=t.gl.domElement,o=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=o.current;return e&&(e.target.set(0,0,0),e.addEventListener("end",a)),function(){null===e||void 0===e||e.removeEventListener("end",a)}}));var a=function(){e((function(e){var t=e.worlds.default;t&&(t.cameraPosition.x=n.position.x,t.cameraPosition.y=n.position.y,t.cameraPosition.z=n.position.z)}))};return Object(v.jsx)("orbitControls",{ref:o,args:[n,i],enableZoom:!0,maxAzimuthAngle:Math.PI,minAzimuthAngle:-Math.PI})},T=n(25),C=n(53),P=n.p+"static/media/daysky.66925efd.jpg",I=n.p+"static/media/nightsky.2ee37da6.jpg",z=n.p+"static/media/desert.e1e10657.jpg",A=n.p+"static/media/desert-night.6f0f274c.jpg",E=n.p+"static/media/grassland.d74bba81.jpg",D=n.p+"static/media/grassland-night.fa2ff11e.jpg";!function(e){e[e.hourlyTemperatures=0]="hourlyTemperatures",e[e.monthlyTemperatures=1]="monthlyTemperatures",e[e.sunshineHours=2]="sunshineHours"}(w||(w={})),function(e){e.default="Default",e.desert="Desert",e.grassland="Grassland"}(M||(M={})),function(e){e.sky="Sky",e.ground="Ground"}(k||(k={}));var F,G,W,H,V,R,_,L=function(e){var t=e.theme,n=void 0===t?"Default":t,i=e.night,o=void 0!==i&&i,a=Object(C.a)(e,["theme","night"]),c=y((function(e){return e.set})),s=Object(r.useRef)(null),l=Object(r.useMemo)((function(){var e,t=new b.TextureLoader;switch(n){case"Desert":e=t.load(o?A:z);break;case"Grassland":e=t.load(o?D:E);break;default:e=t.load(o?I:P)}return e}),[n,o]),u=function(e){e.intersections.length>0&&(e.intersections[0].object===s.current&&c((function(e){e.clickObjectType=k.sky})))};return Object(v.jsxs)("mesh",Object(T.a)(Object(T.a)({},a),{},{ref:s,name:"Sky",scale:1,onContextMenu:function(e){u(e)},onClick:function(e){u(e)},children:[Object(v.jsx)("sphereGeometry",{args:[1e3,16,16,0,2*Math.PI,0,Math.PI/2+.01]}),Object(v.jsx)("meshBasicMaterial",{map:l,side:b.DoubleSide,opacity:1,color:"skyblue"})]}))},Z=n(508),N=function(e){var t=e.lineWidth,n=void 0===t?1:t,r=e.endPoint,i=void 0===r?1e3:r;return Object(v.jsxs)("mesh",{children:[Object(v.jsx)(Z.a,{points:[new b.Vector3(-i,0,0),new b.Vector3(i,0,0)],color:"red",lineWidth:n}),Object(v.jsx)(Z.a,{points:[new b.Vector3(0,-i,0),new b.Vector3(0,i,0)],color:"green",lineWidth:n}),Object(v.jsx)(Z.a,{points:[new b.Vector3(0,0,-i),new b.Vector3(0,0,i)],color:"blue",lineWidth:n})]})},B=n(278),Y=n.p+"static/media/compass.7ded737e.obj",U=n.p+"static/media/helvetiker_regular.typeface.9a3651b4.fnt",X=function(e){var t=e.scale,n=void 0===t?.01:t,i=Object(C.a)(e,["scale"]),o=Object(s.d)(B.a,Y),a=Object(s.d)(b.FontLoader,U),c=Object(r.useRef)(null),l={font:a,height:0,size:.005},u=new b.MeshBasicMaterial({color:"white"}),d=new b.MeshBasicMaterial({color:"red"}),h=Object(s.e)().camera;return Object(s.c)((function(e){if(c.current){var t=new b.Vector3(.88,-.8,.1).unproject(h);c.current.position.set(t.x,t.y,t.z)}})),Object(v.jsxs)("mesh",Object(T.a)(Object(T.a)({},i),{},{ref:c,rotation:new b.Euler(-Math.PI/2,0,0),children:[Object(v.jsx)("mesh",{position:[-.001,.02,0],material:u,children:Object(v.jsx)("textGeometry",{args:["N",l]})}),Object(v.jsx)("mesh",{position:[-.0015,-.025,0],material:u,children:Object(v.jsx)("textGeometry",{args:["S",l]})}),Object(v.jsx)("mesh",{position:[-.025,-.002,0],material:u,children:Object(v.jsx)("textGeometry",{args:["W",l]})}),Object(v.jsx)("mesh",{position:[.02,-.002,0],material:u,children:Object(v.jsx)("textGeometry",{args:["E",l]})}),Object(v.jsx)("primitive",{object:o,scale:n,material:d})]}))},J=n(494),q=function(e){var t=e.id,n=e.cx,i=e.cy,o=e.lx,a=void 0===o?1:o,c=e.ly,s=void 0===c?1:c,l=e.height,d=void 0===l?.1:l,h=e.color,j=void 0===h?"gray":h,f=e.lineColor,p=void 0===f?"black":f,x=e.hovered,g=void 0!==x&&x,O=e.selected,m=void 0!==O&&O,w=y((function(e){return e.set})),M=Object(r.useRef)(),k=Object(r.useRef)(),S=Object(r.useRef)(),T=Object(r.useRef)(),C=Object(r.useRef)(),P=new b.Vector3(n-a/2,d/2,i-s/2),I=new b.Vector3(n-a/2,d/2,i+s/2),z=new b.Vector3(n+a/2,d/2,i-s/2),A=new b.Vector3(n+a/2,d/2,i+s/2),E=.002,D=function(e){w((function(n){var r=n.worlds.default;if(r){var i,o=Object(u.a)(r.elements);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.id===t){a.hovered=e;break}}}catch(c){o.e(c)}finally{o.f()}}}))};return Object(v.jsxs)("group",{children:[Object(v.jsx)(J.a,{castShadow:!0,receiveShadow:!0,ref:M,name:"Foundation",onClick:function(e){e.intersections.length>0&&(e.intersections[0].object===M.current&&w((function(e){var n=e.worlds.default;if(n){var r,i=Object(u.a)(n.elements);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.selected=o.id===t}}catch(a){i.e(a)}finally{i.f()}}})))},onPointerOver:function(e){e.intersections.length>0&&(e.intersections[0].object===M.current&&D(!0))},onPointerOut:function(e){D(!1)},args:[a,d,s],position:[n,d/2,i],children:Object(v.jsx)("meshStandardMaterial",{attach:"material",color:g?"lightGray":j})}),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Z.a,{points:[[P.x,d,P.z],[z.x,d,z.z]],color:p}),Object(v.jsx)(Z.a,{points:[[z.x,d,z.z],[A.x,d,A.z]],color:p}),Object(v.jsx)(Z.a,{points:[[A.x,d,A.z],[I.x,d,I.z]],color:p}),Object(v.jsx)(Z.a,{points:[[I.x,d,I.z],[P.x,d,P.z]],color:p}),Object(v.jsx)(Z.a,{points:[[P.x,E,P.z],[z.x,E,z.z]],color:p}),Object(v.jsx)(Z.a,{points:[[z.x,E,z.z],[A.x,E,A.z]],color:p}),Object(v.jsx)(Z.a,{points:[[A.x,E,A.z],[I.x,E,I.z]],color:p}),Object(v.jsx)(Z.a,{points:[[I.x,E,I.z],[P.x,E,P.z]],color:p}),Object(v.jsx)(Z.a,{points:[[P.x,E,P.z],[P.x,d,P.z]],color:p}),Object(v.jsx)(Z.a,{points:[[z.x,E,z.z],[z.x,d,z.z]],color:p}),Object(v.jsx)(Z.a,{points:[[I.x,E,I.z],[I.x,d,I.z]],color:p}),Object(v.jsx)(Z.a,{points:[[A.x,E,A.z],[A.x,d,A.z]],color:p})]}),m&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(J.c,{ref:k,args:[.1,6,6],position:P,children:Object(v.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(v.jsx)(J.c,{ref:S,args:[.1,6,6],position:I,children:Object(v.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(v.jsx)(J.c,{ref:T,args:[.1,6,6],position:z,children:Object(v.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),Object(v.jsx)(J.c,{ref:C,args:[.1,6,6],position:A,children:Object(v.jsx)("meshStandardMaterial",{attach:"material",color:"white"})})]})]})},K=function(e){var t=e.world;return Object(v.jsxs)("group",{children:[Object(v.jsx)(J.a,{castShadow:!0,receiveShadow:!0,args:[1,2,1],position:[2,1,2],children:Object(v.jsx)("meshStandardMaterial",{attach:"material",color:"white"})}),t.elements.filter((function(e){return"Foundation"===e.type})).map((function(e){return Object(v.jsx)(q,Object(T.a)({},e),e.id)}))]})},Q=function(){var e=y((function(e){return e.set})),t=y((function(e){return e.groundColor})),n=Object(r.useRef)();return Object(v.jsx)(J.b,{receiveShadow:!0,ref:n,name:"Ground",onContextMenu:function(t){t.intersections.length>0&&(t.intersections[0].object===n.current&&e((function(e){e.clickObjectType=k.ground})))},onClick:function(t){t.intersections.length>0&&(t.intersections[0].object===n.current&&(e((function(e){e.clickObjectType=k.ground})),e((function(e){var t=e.worlds.default;if(t){var n,r=Object(u.a)(t.elements);try{for(r.s();!(n=r.n()).done;)n.value.selected=!1}catch(i){r.e(i)}finally{r.f()}}}))))},rotation:[-Math.PI/2,0,0],position:[0,-.01,0],args:[1e4,1e4],children:Object(v.jsx)("meshStandardMaterial",{side:b.DoubleSide,attach:"material",color:t})})},$=23.45/180*Math.PI,ee=function(e){var t=Math.floor((e.getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5);return $*Math.sin(m.TWO_PI*(284+t)/365.25)},te=function(e,t,n,r){var i=Math.asin(Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(t)*Math.cos(r)),o=Math.sin(t)*Math.cos(n),a=Math.cos(r)*Math.sin(n)-Math.cos(t)*Math.cos(n)*Math.sin(r),c=Math.atan2(a,o),s=new b.Vector3(e,c,i);return m.sphericalToCartesianZ(s),s.setX(-s.x),s},ne=function(e){var t=e.hourAngle,n=e.declinationAngle,i=e.radius,o=void 0===i?10:i,a=e.date,s=void 0===a?new Date:a,l=e.latitude,u=void 0===l?42/180*Math.PI:l;Object(r.useEffect)((function(){return function(){}}),[s,u]);var d=Object(r.useMemo)((function(){for(var e=[],t=[],n=2*Math.PI/72,r=0,i=0;i<m.TWO_PI+n/2;i+=n){var a=Math.min(i,m.TWO_PI),c=.05*o;e.push(m.sphericalToCartesianZ(new b.Vector3(o,a,0))),e.push(m.sphericalToCartesianZ(new b.Vector3(o+c,a,0))),e.push(m.sphericalToCartesianZ(new b.Vector3(o,a+n,0))),e.push(m.sphericalToCartesianZ(new b.Vector3(o+c,a,0))),e.push(m.sphericalToCartesianZ(new b.Vector3(o+c,a+n,0))),e.push(m.sphericalToCartesianZ(new b.Vector3(o,a+n,0)));var s=void 0;m.TWO_PI-a>m.ZERO_TOLERANCE&&(c=.05*o+(r%3===0?.2:0),(s=new b.Vector3(o,a,0)).z=.002,t.push(m.sphericalToCartesianZ(s)),(s=new b.Vector3(o+c,a,0)).z=.002,t.push(m.sphericalToCartesianZ(s))),r++}for(var l=3*e.length,u=new Float32Array(l),d=new Float32Array(l),h=new Float32Array(l),j=0;j<e.length;j++){var f=3*j;u[f]=e[j].x,u[f+1]=e[j].y,u[f+2]=e[j].z,d[f]=0,d[f+1]=1,d[f+2]=0;var p=Math.floor(j/18)%2===0?.2:1;h[f]=p,h[f+1]=p,h[f+2]=p}return[u,d,h,t]}),[o]),h=Object(c.a)(d,4),j=h[0],f=h[1],p=h[2],x=h[3],g=Object(r.useMemo)((function(){for(var e=m.TWO_PI/96,t=[],r=-Math.PI;r<Math.PI+e/2;r+=e){var i=te(o,r,n,u);i.z>-.1&&t.push(i)}return t}),[u,o,n]),O=function(e){for(var t=m.TWO_PI/96,n=[],r=-Math.PI;r<Math.PI+t/2;r+=t){var i=te(o,r,e,u);i.z>-.1&&n.push(i)}return n},y=Object(r.useMemo)((function(){for(var e=ee(new Date(2021,11,22)),t=(ee(new Date(2021,5,22))-e)/5,n=[],r=0;r<=5;r++)n.push(O(e+r*t));return n}),[u,o]),w=Object(r.useMemo)((function(){return te(o,t,n,u)}),[u,n,t,o]),M=Object(r.useMemo)((function(){for(var e=2*$/12,t=m.TWO_PI/96,n=new b.BufferGeometry,r=0,i=[],a=[],c=-$;c<$-e/2;c+=e)for(var s=-Math.PI;s<Math.PI-t/2;s+=t){var l=s+t,d=c+e;l>Math.PI&&(l=Math.PI),d>$&&(d=$);var h=te(o,s,c,u),j=te(o,l,c,u),f=te(o,l,d,u),p=te(o,s,d,u);(h.z>=0||j.z>=0||f.z>=0||p.z>=0)&&(i.push(h,j,f,p),a.push(r),a.push(r+1),a.push(r+2),a.push(r),a.push(r+2),a.push(r+3),r+=4)}return n.setFromPoints(i),n.setIndex(new b.BufferAttribute(new Uint16Array(a),1)),n}),[u,o]);return Object(v.jsxs)("mesh",{rotation:new b.Euler(-Math.PI/2,0,0),children:[Object(v.jsxs)("mesh",{children:[Object(v.jsxs)("bufferGeometry",{attach:"geometry",children:[Object(v.jsx)("bufferAttribute",{attachObject:["attributes","position"],count:j.length/3,array:j,itemSize:3}),Object(v.jsx)("bufferAttribute",{attachObject:["attributes","normal"],count:f.length/3,array:f,itemSize:3}),Object(v.jsx)("bufferAttribute",{attachObject:["attributes","color"],count:p.length/3,array:p,itemSize:3})]}),Object(v.jsx)("meshBasicMaterial",{side:b.DoubleSide,vertexColors:!0,polygonOffset:!0,polygonOffsetFactor:-.7,polygonOffsetUnits:-2})]}),Object(v.jsx)("lineSegments",{args:[(new b.BufferGeometry).setFromPoints(x),new b.MeshBasicMaterial({color:0})]}),Object(v.jsxs)("mesh",{children:[g.length>3&&Object(v.jsx)(Z.a,{lineWidth:2,points:g,color:"yellow"}),y.filter((function(e){return e.length>3})).map((function(e,t){return Object(v.jsx)(Z.a,{opacity:0===t||5===t?1:.5,lineWidth:0===t||5===t?1:.5,points:e,color:"#999"},t)})),Object(v.jsx)("mesh",{args:[M,new b.MeshBasicMaterial({side:b.DoubleSide,color:new b.Color(1,1,0),transparent:!0,opacity:.5,clippingPlanes:[new b.Plane(m.UNIT_VECTOR_POS_Y,0)]})]}),Object(v.jsx)("mesh",{position:w,args:[new b.SphereGeometry(.25,20,20),new b.MeshBasicMaterial({color:4294967040})]})]})]})},re=n.p+"static/media/aladdin-logo.96b59d24.png",ie=n.p+"static/media/ifi-logo.eb360016.png",oe=n(58),ae=n(59),ce=n(505),se=n(511),le=n(510);function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function de(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function he(e,t){var n=e.title,i=e.titleId,o=de(e,["title","titleId"]);return r.createElement("svg",ue({t:1613755944969,className:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":5967,xmlnsXlink:"http://www.w3.org/1999/xlink",width:200,height:200,ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,F||(F=r.createElement("defs",null,r.createElement("style",{type:"text/css"}))),G||(G=r.createElement("path",{d:"M194.187431 235.50871m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5968})),W||(W=r.createElement("path",{d:"M347.505182 165.510915h552.305182v139.99559H347.505182z","p-id":5969})),H||(H=r.createElement("path",{d:"M194.187431 512.1129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5970})),V||(V=r.createElement("path",{d:"M347.505182 442.115105h552.305182v139.99559H347.505182z","p-id":5971})),R||(R=r.createElement("path",{d:"M194.187431 788.49129m-69.997795 0a69.997795 69.997795 0 1 0 139.99559 0 69.997795 69.997795 0 1 0-139.99559 0Z","p-id":5972})),_||(_=r.createElement("path",{d:"M347.505182 718.719294h552.305182v139.99559H347.505182z","p-id":5973})))}var je,be,fe,pe,xe,ge,Oe,me,ye,ve=r.forwardRef(he),we=(n.p,n(156),Object(ae.a)(ve)(je||(je=Object(oe.a)(["\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  height: 40px;\n  width: 40px;\n  transition: 0.5s;\n  fill: brown;\n\n  &:hover {\n    fill: white;\n  }\n"])))),Me=function(){var e=y((function(e){return e.set})),t=y((function(e){return e.showGroundPanel})),n=y((function(e){return e.showWeatherPanel})),r=y((function(e){return e.showHeliodonPanel})),i=Object(v.jsxs)(ce.a,{children:[Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:t,onChange:function(t){e((function(e){e.showGroundPanel=t.target.checked}))},children:"Ground Settings"})},"ground-panel-check-box"),Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:r,onChange:function(t){e((function(e){e.showHeliodonPanel=t.target.checked}))},children:"Heliodon Settings"})},"heliodon-panel-check-box"),Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:n,onChange:function(t){e((function(e){e.showWeatherPanel=t.target.checked}))},children:"Weather Data"})},"weather-panel-check-box")]});return Object(v.jsx)(le.a,{overlay:i,trigger:["click"],children:Object(v.jsx)(we,{})})},ke=n(509),Se=n(512),Te=n(310),Ce=n(147),Pe={border:"1px solid",width:"400px",height:"400px"},Ie=function(e){var t=e.setLatitude,n=e.setLongitude,i=e.setZoom,o=e.setTilt,a=e.setType,s=y((function(e){return e.latitude})),l=y((function(e){return e.longitude})),u=y((function(e){return e.mapZoom})),d=y((function(e){return e.mapType})),h=y((function(e){return e.mapTilt})),j=Object(r.useState)(null),b=Object(c.a)(j,2),f=b[0],p=b[1],x=Object(r.useCallback)((function(e){p(e)}),[]),g=Object(r.useCallback)((function(e){p(null)}),[]),O={lat:s,lng:l};return Object(v.jsx)(Ce.a,{mapContainerStyle:Pe,mapTypeId:d,center:O,zoom:u,tilt:h,onLoad:x,onUnmount:g,onCenterChanged:function(){if(f){var e=f.getCenter(),r=e.lat();r!==s&&(null===t||void 0===t||t(r));var i=e.lng();i!==l&&(null===n||void 0===n||n(i))}},onZoomChanged:function(){if(f){var e=f.getZoom();e!==u&&(null===i||void 0===i||i(e))}},onTiltChanged:function(){if(f){var e=f.getTilt();e!==h&&(null===o||void 0===o||o(e))}},onMapTypeIdChanged:function(){if(f){var e=f.getMapTypeId();e!==d&&(null===a||void 0===a||a(e))}},children:Object(v.jsx)(v.Fragment,{})})},ze=Object(r.memo)(Ie),Ae=n(495),Ee=Object(ae.a)(Ae.a)(be||(be=Object(oe.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.5);\n  z-index: 999;\n"]))),De=["places"],Fe=ae.a.div(fe||(fe=Object(oe.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),Ge=ae.a.div(pe||(pe=Object(oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 420px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),We=ae.a.div(xe||(xe=Object(oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),He=function(e){var t=e.grid,n=e.groundImage,i=e.groundColor,o=e.setGrid,a=e.setGroundImage,c=e.setGroundColor,s=e.changeLatitude,l=e.changeLongitude,u=e.changeMapZoom,d=e.changeMapTilt,h=e.changeMapType,j=y((function(e){return e.set})),b=y((function(e){return e.latitude})),f=y((function(e){return e.longitude})),p=y((function(e){return e.mapZoom})),x=y((function(e){return e.address})),g=Object(r.useRef)(),O=Object(Ce.c)({id:"google-map-script",googleMapsApiKey:"AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs",libraries:De}),m=O.isLoaded,w=O.loadError;return Object(v.jsx)(Fe,{children:Object(v.jsxs)(Ge,{children:[Object(v.jsxs)(We,{children:[Object(v.jsx)("span",{children:"Ground Settings"}),Object(v.jsx)("span",{style:{cursor:"pointer"},onClick:function(){j((function(e){e.showGroundPanel=!1}))},children:"Close"})]}),Object(v.jsxs)(ke.b,{direction:"vertical",children:[Object(v.jsxs)(ke.b,{style:{padding:"20px"},align:"center",size:20,children:[Object(v.jsxs)(ke.b,{direction:"vertical",children:[Object(v.jsxs)(ke.b,{children:[Object(v.jsx)(ke.b,{style:{width:"40px"},children:"Grid:"}),Object(v.jsx)(Se.a,{title:"Show ground grid",checked:t,onChange:function(e){null===o||void 0===o||o(e)}})]}),Object(v.jsxs)(ke.b,{children:[Object(v.jsx)(ke.b,{style:{width:"40px"},children:"Image:"}),Object(v.jsx)(Se.a,{title:"Show ground image",checked:n,onChange:function(e){null===a||void 0===a||a(e)}})]})]}),Object(v.jsxs)("div",{children:["Ground Color",Object(v.jsx)("br",{}),Object(v.jsx)(Te.a,{color:i,onChangeComplete:function(e){null===c||void 0===c||c(e.hex)}})]})]}),m&&Object(v.jsx)(ke.b,{children:Object(v.jsx)("div",{children:Object(v.jsx)(Ce.b,{onLoad:function(e){g.current=e},onPlacesChanged:function(){var e,t=null===(e=g.current)||void 0===e?void 0:e.getPlaces();t&&t.length>0&&j((function(e){var n=t[0].geometry;n&&(e.latitude=n.location.lat(),e.longitude=n.location.lng()),e.address=t[0].formatted_address}))},children:Object(v.jsx)("input",{type:"text",placeholder:x,style:{boxSizing:"border-box",border:"1px solid transparent",width:"400px",height:"32px",padding:"0 12px",borderRadius:"3px",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.3)",fontSize:"14px",outline:"none",textOverflow:"ellipses",position:"relative"}})})})}),m?Object(v.jsx)(ke.b,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(ze,{setLatitude:s,setLongitude:l,setZoom:u,setTilt:d,setType:h}),"Coordinates: (",b.toFixed(4),"\xb0, ",f.toFixed(4),"\xb0), Zoom: ",p]})}):Object(v.jsx)(Ee,{}),w&&Object(v.jsx)(ke.b,{children:Object(v.jsx)("div",{children:"Map cannot be loaded right now, sorry."})})]})]})})},Ve=n(232),Re=n(496),_e=n(504),Le=n(73),Ze=n.n(Le),Ne=ae.a.div(ge||(ge=Object(oe.a)(["\n  position: fixed;\n  top: 10px;\n  left: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),Be=ae.a.div(Oe||(Oe=Object(oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 640px;\n  padding: 0;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),Ye=ae.a.div(me||(me=Object(oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),Ue=function(e){var t=e.heliodon,n=e.latitude,i=e.date,o=e.animateSun,a=e.setHeliodon,c=e.setSunAnimation,s=e.changeLatitude,l=e.changeDate,u=e.changeTime,d=y((function(e){return e.set})),h=Object(r.useRef)(0),j=Object(r.useRef)(-1);Object(r.useEffect)((function(){return h.current=requestAnimationFrame(b),function(){cancelAnimationFrame(h.current)}}),[o]);var b=function e(){if(o){h.current=requestAnimationFrame(e);var t=Date.now();if(t-j.current>100){var n=i.getDate();i.setHours(i.getHours(),i.getMinutes()+15),i.setDate(n),null===u||void 0===u||u(i),j.current=t}}};return Object(v.jsx)(Ne,{children:Object(v.jsxs)(Be,{children:[Object(v.jsxs)(Ye,{children:[Object(v.jsx)("span",{children:"Heliodon Settings"}),Object(v.jsx)("span",{style:{cursor:"pointer"},onClick:function(){d((function(e){e.showHeliodonPanel=!1}))},children:"Close"})]}),Object(v.jsxs)(ke.b,{style:{padding:"20px"},align:"baseline",size:20,children:[Object(v.jsxs)("div",{children:["Show",Object(v.jsx)("br",{}),Object(v.jsx)(Se.a,{checked:t,onChange:function(e){null===a||void 0===a||a(e)}})]}),Object(v.jsxs)("div",{children:["Animate",Object(v.jsx)("br",{}),Object(v.jsx)(Se.a,{checked:o,onChange:function(e){null===c||void 0===c||c(e)}})]}),Object(v.jsxs)("div",{children:["Date",Object(v.jsx)("br",{}),Object(v.jsx)(Ve.a,{value:Ze()(i),onChange:function(e){e&&(null===l||void 0===l||l(e.toDate()))}})]}),Object(v.jsxs)("div",{children:["Time",Object(v.jsx)("br",{}),Object(v.jsx)(Re.a,{value:Ze()(i,"HH:mm"),format:"HH:mm",onChange:function(e){e&&(null===u||void 0===u||u(e.toDate()))}})]}),Object(v.jsxs)("div",{children:["Latitude: ",n.toFixed(4),"\xb0",Object(v.jsx)(_e.a,{style:{width:"150px"},marks:{"-90":"-90\xb0",0:"0\xb0",90:"90\xb0"},min:-90,max:90,tooltipVisible:!1,defaultValue:n,onChange:function(e){null===s||void 0===s||s(e)}})]})]})]})})},Xe=["#8884d8","#f97356","#1bc32c","#c6502d","#82ca9d","#3eaec0","#627682","#445111"],Je=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],qe=(n(312),function(){window.open("https://intofuture.org","_blank")}),Ke=n(291),Qe=n.n(Ke),$e=function(){return Object(v.jsx)(Qe.a,{location:"bottom",buttonText:"Accept",cookieName:"AladdinCookieName",style:{background:"#2B373B",textAlign:"center",zIndex:99999},buttonStyle:{color:"#4e503b",fontSize:"12px"},expires:150,children:"By clicking Accept, you agree to our use of cookies to improve your experience with Aladdin."})},et=n(497),tt=function(){var e,t=y((function(e){return e.latitude})),n=y((function(e){return e.longitude})),r=y((function(e){return e.mapZoom})),i=Object(et.a)("https://maps.googleapis.com/maps/api/staticmap?maptype=satellite&center="+t+","+n+"&zoom="+r+"&size="+(e=640)+"x"+e+"&scale=2&key=AIzaSyCX6AmhM9d6R1ne9E7redd86YEahX_2Scs");return Object(v.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],position:[0,0,0],children:[Object(v.jsx)("planeBufferGeometry",{args:[100,100]}),Object(v.jsx)("meshStandardMaterial",{attach:"material",side:b.DoubleSide,map:i,opacity:1})]})},nt=n(507),rt=ce.a.SubMenu,it={display:"block",height:"30px",paddingLeft:"10px",lineHeight:"30px"},ot=function(){var e=y((function(e){return e.set})),t=(y((function(e){return e.heliodon})),y((function(e){return e.axes}))),n=y((function(e){return e.grid})),r=y((function(e){return e.theme})),i=y((function(e){return e.showHeliodonPanel})),o=y((function(e){return e.showGroundPanel})),a=y((function(e){return e.showWeatherPanel}));switch(y((function(e){return e.clickObjectType}))){case k.sky:return Object(v.jsxs)(ce.a,{children:[Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:t,onChange:function(t){e((function(e){e.axes=t.target.checked}))},children:"Axes"})},"axes"),Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:i,onChange:function(t){e((function(e){e.showHeliodonPanel=t.target.checked}))},children:"Heliodon Settings"})},"heliodon-settings"),Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:a,onChange:function(t){e((function(e){e.showWeatherPanel=t.target.checked}))},children:"Weather Data"})},"weather-data"),Object(v.jsx)(rt,{title:"Theme",children:Object(v.jsxs)(nt.a.Group,{onChange:function(t){e((function(e){e.theme=t.target.value}))},value:r,style:{height:"105px"},children:[Object(v.jsx)(nt.a,{style:it,value:M.default,children:"Default"}),Object(v.jsx)(nt.a,{style:it,value:M.desert,children:"Desert"}),Object(v.jsx)(nt.a,{style:it,value:M.grassland,children:"Grassland"})]})},"theme")]});default:return Object(v.jsxs)(ce.a,{children:[Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:n,onChange:function(t){e((function(e){e.grid=t.target.checked}))},children:"Grid"})},"ground-grid"),Object(v.jsx)(ce.a.Item,{children:Object(v.jsx)(se.a,{checked:o,onChange:function(t){e((function(e){e.showGroundPanel=t.target.checked}))},children:"Ground Settings"})},"ground-settings")]})}},at=n(313),ct=n(501),st=n(502),lt=n(154),ut=n(503),dt=n(302),ht=n(308),jt=n(71),bt=n(309),ft=n(146),pt=["circle","square","triangle up","triangle down","triangle right","triangle left","star","diamond","hexagon"];!function(e){e[e.DOWN=0]="DOWN",e[e.UP=1]="UP",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(ye||(ye={}));var xt,gt,Ot,mt=function(e){var t=e.cx,n=e.cy,r=e.opacity,i=e.stroke,o=e.index,a=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(a.length/s);return t&&n&&o>0&&o%l===0?Object(v.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(v.jsx)("circle",{cx:"0",cy:"0",r:"3",style:{opacity:r,stroke:i,fill:"white",strokeWidth:1}})}):null},yt=function(e){var t=e.cx,n=e.cy,r=e.opacity,i=e.stroke,o=e.index,a=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(a.length/s);return t&&n&&o>0&&o%l===0?Object(v.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(v.jsx)("rect",{x:"-3",y:"-3",width:"6",height:"6",style:{opacity:r,stroke:i,fill:"white",strokeWidth:1}})}):null},vt=function(e){var t=e.cx,n=e.cy,r=e.opacity,i=e.stroke,o=e.index,a=e.points,c=e.scale,s=e.numberOfSymbols,l=e.direction,u=Math.round(a.length/s);if(t&&n&&o>0&&o%u===0){var d;switch(l){case ye.UP:d="-4,2.5,4,2.5,0,-3.5";break;case ye.LEFT:d="2.5,4,2.5,-4,-3.5,0";break;case ye.RIGHT:d="-2.5,4,-2.5,-4,3.5,0";break;default:d="-4,-2.5,4,-2.5,0,3.5"}return Object(v.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(v.jsx)("polygon",{points:d,style:{opacity:r,stroke:i,fill:"white",strokeWidth:1}})})}return null},wt=function(e){var t=e.cx,n=e.cy,r=e.opacity,i=e.stroke,o=e.index,a=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(a.length/s);return t&&n&&o>0&&o%l===0?Object(v.jsx)("svg",{x:t-10*c,y:n-10*c,width:20*c,height:20*c,viewBox:"-10 -10 20 20",children:Object(v.jsx)("polygon",{points:"-3,0,0,5,3,0,0,-5",style:{opacity:r,stroke:i,fill:"white",strokeWidth:1}})}):null},Mt=function(e){var t=e.cx,n=e.cy,r=e.opacity,i=e.stroke,o=e.index,a=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(a.length/s);if(t&&n&&o>0&&o%l===0){var u=.05*c;return Object(v.jsx)("svg",{x:t-100*u,y:n-100*u,width:300*u,height:300*u,viewBox:"0 0 300 300",children:Object(v.jsx)("polygon",{points:"100,10 40,180 190,60 10,60 160,180",style:{opacity:r,stroke:i,fill:i,strokeWidth:1}})})}return null},kt=function(e){var t=e.cx,n=e.cy,r=e.opacity,i=e.stroke,o=e.index,a=e.points,c=e.scale,s=e.numberOfSymbols,l=Math.round(a.length/s);if(t&&n&&o>0&&o%l===0){var u=.02*c;return Object(v.jsx)("svg",{x:t-150*u,y:n-150*u,width:300*u,height:300*u,viewBox:"0 0 300 300",children:Object(v.jsx)("polygon",{className:"hex",points:"300,150 225,280 75,280 0,150 75,20 225,20",style:{opacity:r,stroke:i,fill:"white",strokeWidth:1}})})}return null},St=function(e,t,n,r){switch(e){case"circle":return Object(v.jsx)(mt,{scale:t,numberOfSymbols:n,opacity:r});case"square":return Object(v.jsx)(yt,{scale:t,numberOfSymbols:n,opacity:r});case"triangle up":return Object(v.jsx)(vt,{scale:1.1*t,numberOfSymbols:n,direction:ye.UP,opacity:r});case"triangle down":return Object(v.jsx)(vt,{scale:1.1*t,numberOfSymbols:n,direction:ye.DOWN,opacity:r});case"triangle right":return Object(v.jsx)(vt,{scale:1.1*t,numberOfSymbols:n,direction:ye.RIGHT,opacity:r});case"triangle left":return Object(v.jsx)(vt,{scale:1.1*t,numberOfSymbols:n,direction:ye.LEFT,opacity:r});case"star":return Object(v.jsx)(Mt,{scale:1.25*t,numberOfSymbols:n,opacity:r});case"diamond":return Object(v.jsx)(wt,{scale:1.1*t,numberOfSymbols:n,opacity:r});case"hexagon":return Object(v.jsx)(kt,{scale:1.3*t,numberOfSymbols:n,opacity:r})}},Tt=function(e){var t=e.type,n=e.dataSource,i=e.height,o=e.labelX,a=e.labelY,s=e.unitX,l=e.unitY,u=(Object(C.a)(e,["type","dataSource","height","labelX","labelY","unitX","unitY"]),Object(r.useState)(0)),d=Object(c.a)(u,2),h=d[0],j=d[1],b=Object(r.useState)(!0),f=Object(c.a)(b,2),p=f[0],x=(f[1],Object(r.useState)(!0)),g=Object(c.a)(x,2),O=g[0],M=(g[1],Object(r.useState)(null)),k=Object(c.a)(M,2),S=k[0],T=k[1],P=Object(r.useState)(2),I=Object(c.a)(P,2),z=I[0],A=(I[1],Object(r.useState)(25)),E=Object(c.a)(A,2),D=E[0],F=(E[1],Object(r.useState)(1)),G=Object(c.a)(F,2),W=G[0],H=(G[1],y((function(e){return e.date})));Object(r.useEffect)((function(){if(n){var e=Array.isArray(n)?Object.keys(n[0]).length-1:Object.keys(n).length-1;h!==e&&j(e)}}),[n]);var V=Object(r.useMemo)((function(){for(var e,n=[],r=0;r<h;r++){var i="";switch(t){case w.monthlyTemperatures:i=0===r?"Low":"High";break;case w.sunshineHours:i="Sunshine";break;case w.hourlyTemperatures:i="Temperature"}var o=null===S||S===i?1:.25,a=St(pt[r],W,D,o);0===r&&(e=a),n.push(Object(v.jsx)(at.a,{type:"monotone",name:i,dataKey:i,stroke:Xe[r],opacity:o,strokeWidth:z,dot:D>0&&(a||e),isAnimationActive:!1},r))}return n}),[h,z,D,W,S]);return Object(v.jsx)(v.Fragment,{children:n&&Object(v.jsx)("div",{id:"line-plot-"+o+"-"+a,style:{width:"100%",height:"".concat(i,"%"),position:"relative"},children:Object(v.jsx)("div",{style:{userSelect:"none",width:"100%",height:"100%",position:"absolute",top:0,left:0},children:Object(v.jsx)(ct.a,{width:"100%",height:"100%",children:Object(v.jsxs)(st.a,{data:n,onMouseDown:function(e){},margin:{top:5,right:30,left:20,bottom:30},children:[Object(v.jsx)(lt.a,{formatter:function(e){return e.toFixed(2)+" "+l}}),Object(v.jsx)(ut.a,{vertical:O,horizontal:p,stroke:"rgba(128, 128, 128, 0.3)"}),Object(v.jsx)(dt.a,{x:Je[Math.floor(m.daysIntoYear(H)/365*12)],stroke:"orange",strokeWidth:2}),Object(v.jsx)(ht.a,{dataKey:o,children:Object(v.jsx)(jt.a,{value:o+(s?" ("+s+")":""),offset:0,position:"bottom"})}),Object(v.jsx)(bt.a,{domain:["dataMin - 5","auto"],children:Object(v.jsx)(jt.a,{dx:-15,value:a+(l?" ("+l+")":""),offset:0,angle:-90,position:"center"})}),V,h>1&&Object(v.jsx)(ft.a,{iconType:"plainline",verticalAlign:"top",height:36,onMouseLeave:function(e){T(null)},onMouseEnter:function(e){T(e.dataKey)}})]})})})})})},Ct=ae.a.div(xt||(xt=Object(oe.a)(["\n  position: fixed;\n  top: 80px;\n  right: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 16px;\n  z-index: 9;\n"]))),Pt=ae.a.div(gt||(gt=Object(oe.a)(["\n  background-color: #f8f8f8;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 500px;\n  height: 500px;\n  padding-bottom: 10px;\n  border: 2px solid gainsboro;\n  border-radius: 10px 10px 10px 10px;\n  display: flex;\n  flex-direction: column;\n"]))),It=ae.a.div(Ot||(Ot=Object(oe.a)(["\n  border-radius: 10px 10px 0 0;\n  width: 100%;\n  height: 24px;\n  padding: 10px;\n  background-color: #e8e8e8;\n  color: #888;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  svg.icon {\n    height: 16px;\n    width: 16px;\n    padding: 8px;\n    fill: #666;\n  }\n"]))),zt=function(e){var t=e.city,n=e.graphs,i=Object(C.a)(e,["city","graphs"]),o=y((function(e){return e.set})),a=y((function(e){return e.getWeather})),c=Object(r.useMemo)((function(){return n?Math.floor(100/n.length):100}),[n]),s=Object(r.useMemo)((function(){if(n){var e={};if(t){var r=a(t);r&&n.forEach((function(t){switch(e[t]=[],t){case w.monthlyTemperatures:for(var n=0;n<12;n++)e[t].push({Month:Je[n],Low:r.lowestTemperatures[n],High:r.highestTemperatures[n]});break;case w.sunshineHours:for(var i=0;i<12;i++)e[t].push({Month:Je[i],Sunshine:r.sunshineHours[i]})}}))}return e}}),[n,t]),l=["Temperature","Temperature","Sunshine"],u=["\xb0C","\xb0C","Hours"];return Object(v.jsx)(Ct,{children:Object(v.jsxs)(Pt,{children:[Object(v.jsxs)(It,{children:[Object(v.jsx)("span",{children:"Weather"}),Object(v.jsx)("span",{style:{cursor:"pointer"},onClick:function(){o((function(e){e.showWeatherPanel=!1}))},children:"Close"})]}),Object(v.jsxs)(v.Fragment,{children:[n.map((function(e){return Object(v.jsx)(Tt,Object(T.a)({type:e,dataSource:s[e],height:c,labelX:"Month",labelY:l[e],unitY:u[e]},i),e)})),Object(v.jsx)("div",{children:Object(v.jsx)("span",{children:t})})]})]})})},At=function(){var e=y((function(e){return e.set})),t=y((function(e){return e.worlds})),n=y((function(e){return e.getWorld})),i=y((function(e){return e.createNewWorld})),o=y((function(e){return e.loadWeatherData})),a=y((function(e){return e.getClosestCity})),l=y((function(e){return e.showGroundPanel})),u=y((function(e){return e.showHeliodonPanel})),d=y((function(e){return e.showWeatherPanel})),h=y((function(e){return e.axes})),j=y((function(e){return e.grid})),f=y((function(e){return e.groundImage})),p=y((function(e){return e.groundColor})),x=y((function(e){return e.theme})),g=y((function(e){return e.heliodon})),O=y((function(e){return e.latitude})),M=y((function(e){return e.longitude})),k=y((function(e){return e.weatherData})),T=new Date(y((function(e){return e.date}))),C=Object(r.useState)(0),P=Object(c.a)(C,2),I=P[0],z=P[1],A=Object(r.useState)(0),E=Object(c.a)(A,2),D=E[0],F=E[1],G=Object(r.useState)(new b.Vector3(0,2,2)),W=Object(c.a)(G,2),H=W[0],V=W[1],R=Object(r.useState)(!1),_=Object(c.a)(R,2),Z=_[0],B=_[1],Y=Object(r.useState)("Boston MA, USA"),U=Object(c.a)(Y,2),J=U[0],q=U[1],$=t.default;Object(r.useEffect)((function(){n("default")||i(),o()}),[]),Object(r.useEffect)((function(){V(te(10,I,D,m.toRadians(O)).applyEuler(new b.Euler(-Math.PI/2,0,0)))}),[O,I,D]),Object(r.useEffect)((function(){q(a(O,M))}),[O,M,k]);var oe=T.toString();Object(r.useMemo)((function(){var e;z((60*(e=T).getHours()+e.getMinutes()-720)/720*Math.PI),F(ee(T))}),[oe]);var ae=new b.Vector3(0,0,5);$&&ae.set($.cameraPosition.x,$.cameraPosition.y,$.cameraPosition.z),console.log("x");var ce=H.y>0;return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsxs)("div",{style:{backgroundColor:"lightblue",height:"72px",paddingTop:"10px",fontSize:"30px"},children:[Object(v.jsx)("img",{alt:"Aladdin Logo",src:re,height:"50px",style:{verticalAlign:"middle"}}),Object(v.jsx)("span",{style:{paddingLeft:"20px",verticalAlign:"middle"},children:"Aladdin"})]}),Object(v.jsxs)("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:999,fontSize:"12px",color:"white"},children:[Object(v.jsx)("img",{alt:"IFI Logo",src:ie,height:"40px",style:{verticalAlign:"bottom",cursor:"pointer"},title:"Go to Institute for Future Intelligence",onClick:qe}),"\xa0\xa0 Institute for Future Intelligence, \xa9",(new Date).getFullYear(),". Version ","0.0.1"]}),Object(v.jsx)(Me,{}),l&&Object(v.jsx)(He,{grid:j,groundImage:f,groundColor:p,setGrid:function(t){e((function(e){e.grid=t}))},setGroundImage:function(t){e((function(e){e.groundImage=t}))},setGroundColor:function(t){e((function(e){e.groundColor=t}))},changeLatitude:function(t){e((function(e){e.latitude=t}))},changeLongitude:function(t){e((function(e){e.longitude=t}))},changeMapZoom:function(t){e((function(e){e.mapZoom=t}))},changeMapTilt:function(t){e((function(e){e.mapTilt=t}))},changeMapType:function(t){e((function(e){e.mapType=t}))}}),u&&Object(v.jsx)(Ue,{latitude:O,date:T,heliodon:g,animateSun:Z,changeDate:function(t){var n=new Date(T);n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate()),e((function(e){e.date=n.toString()}))},changeTime:function(t){var n=new Date(T);n.setHours(t.getHours(),t.getMinutes()),e((function(e){e.date=n.toString()}))},changeLatitude:function(t){e((function(e){e.latitude=t,e.address=""}))},setHeliodon:function(t){e((function(e){e.heliodon=t}))},setSunAnimation:function(e){B(e)}}),d&&Object(v.jsx)(zt,{city:J,graphs:[w.monthlyTemperatures,w.sunshineHours]}),Object(v.jsx)(le.a,{overlay:Object(v.jsx)(ot,{}),trigger:["contextMenu"],children:Object(v.jsx)("div",{children:Object(v.jsx)(s.a,{shadows:!0,camera:{position:ae,fov:90},style:{height:"calc(100vh - 70px)",backgroundColor:"black"},children:Object(v.jsxs)(r.Suspense,{fallback:null,children:[Object(v.jsx)(S,{}),Object(v.jsx)("ambientLight",{intensity:.25}),Object(v.jsx)("directionalLight",{color:"white",position:[H.x,H.y,H.z],intensity:ce?.5:0,castShadow:!0,"shadow-mapSize-height":512,"shadow-mapSize-width":512}),j&&Object(v.jsx)("gridHelper",{args:[500,100,"gray","gray"]}),Object(v.jsx)(X,{}),h&&Object(v.jsx)(N,{}),Object(v.jsx)(Q,{}),f&&Object(v.jsx)(tt,{}),Object(v.jsx)(L,{theme:x,night:!ce}),g&&Object(v.jsx)(ne,{hourAngle:I,declinationAngle:D,radius:10,date:T,latitude:m.toRadians(O)}),$&&Object(v.jsx)(K,{world:$})]})})})},"canvas-context-menu"),Object(v.jsx)($e,{})]})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,513)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};a.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(At,{})}),document.getElementById("root")),Et()}},[[488,1,2]]]);
//# sourceMappingURL=main.6d60674d.chunk.js.map